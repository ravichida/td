var PN=Object.defineProperty,xN=Object.defineProperties;var kN=Object.getOwnPropertyDescriptors;var vw=Object.getOwnPropertySymbols;var ON=Object.prototype.hasOwnProperty,FN=Object.prototype.propertyIsEnumerable;var _w=(n,e,t)=>e in n?PN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})ON.call(e,t)&&_w(n,t,e[t]);if(vw)for(var t of vw(e))FN.call(e,t)&&_w(n,t,e[t]);return n},he=(n,e)=>xN(n,kN(e));var C=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function Cp(n,e){return Object.is(n,e)}var tt=null,ju=!1,Sp=1,Zt=Symbol("SIGNAL");function pe(n){let e=tt;return tt=n,e}function Ap(){return tt}var Sa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Aa(n){if(ju)throw new Error("");if(tt===null)return;tt.consumerOnSignalRead(n);let e=tt.nextProducerIndex++;if(Hu(tt),e<tt.producerNode.length&&tt.producerNode[e]!==n&&Ca(tt)){let t=tt.producerNode[e];$u(t,tt.producerIndexOfThis[e])}tt.producerNode[e]!==n&&(tt.producerNode[e]=n,tt.producerIndexOfThis[e]=Ca(tt)?Ew(n,tt,e):0),tt.producerLastReadVersion[e]=n.version}function Iw(){Sp++}function Rp(n){if(!(Ca(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Sp)){if(!n.producerMustRecompute(n)&&!xp(n)){Tp(n);return}n.producerRecomputeValue(n),Tp(n)}}function Mp(n){if(n.liveConsumerNode===void 0)return;let e=ju;ju=!0;try{for(let t of n.liveConsumerNode)t.dirty||LN(t)}finally{ju=e}}function Np(){return tt?.consumerAllowSignalWrites!==!1}function LN(n){n.dirty=!0,Mp(n),n.consumerMarkedDirty?.(n)}function Tp(n){n.dirty=!1,n.lastCleanEpoch=Sp}function Bu(n){return n&&(n.nextProducerIndex=0),pe(n)}function Pp(n,e){if(pe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ca(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)$u(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function xp(n){Hu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Rp(t),r!==t.version))return!0}return!1}function kp(n){if(Hu(n),Ca(n))for(let e=0;e<n.producerNode.length;e++)$u(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Ew(n,e,t){if(ww(n),n.liveConsumerNode.length===0&&bw(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Ew(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function $u(n,e){if(ww(n),n.liveConsumerNode.length===1&&bw(n))for(let r=0;r<n.producerNode.length;r++)$u(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Hu(i),i.producerIndexOfThis[r]=e}}function Ca(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Hu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function ww(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function bw(n){return n.producerNode!==void 0}function Op(n,e){let t=Object.create(VN);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Rp(t),Aa(t),t.value===Uu)throw t.error;return t.value};return r[Zt]=t,r}var bp=Symbol("UNSET"),Dp=Symbol("COMPUTING"),Uu=Symbol("ERRORED"),VN=he(L({},Sa),{value:bp,dirty:!0,error:null,equal:Cp,kind:"computed",producerMustRecompute(n){return n.value===bp||n.value===Dp},producerRecomputeValue(n){if(n.value===Dp)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Dp;let t=Bu(n),r,i=!1;try{r=n.computation(),pe(null),i=e!==bp&&e!==Uu&&r!==Uu&&n.equal(e,r)}catch(o){r=Uu,n.error=o}finally{Pp(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function jN(){throw new Error}var Dw=jN;function Tw(n){Dw(n)}function Fp(n){Dw=n}var UN=null;function Lp(n,e){let t=Object.create(zu);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(Aa(t),t.value);return r[Zt]=t,r}function Ra(n,e){Np()||Tw(n),n.equal(n.value,e)||(n.value=e,BN(n))}function Vp(n,e){Np()||Tw(n),Ra(n,e(n.value))}var zu=he(L({},Sa),{equal:Cp,value:void 0,kind:"signal"});function BN(n){n.version++,Iw(),Mp(n),UN?.()}function jp(n){let e=pe(null);try{return n()}finally{pe(e)}}var Up;function Ma(){return Up}function or(n){let e=Up;return Up=n,e}var qu=Symbol("NotFound");function te(n){return typeof n=="function"}function To(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Wu=To(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ei(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var $e=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof Wu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Cw(o)}catch(s){e=e??[],s instanceof Wu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Wu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Cw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ei(t,e)}remove(e){let{_finalizers:t}=this;t&&Ei(t,e),e instanceof n&&e._removeParent(this)}};$e.EMPTY=(()=>{let n=new $e;return n.closed=!0,n})();var Bp=$e.EMPTY;function Gu(n){return n instanceof $e||n&&"closed"in n&&te(n.remove)&&te(n.add)&&te(n.unsubscribe)}function Cw(n){te(n)?n():n.unsubscribe()}var pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Co={setTimeout(n,e,...t){let{delegate:r}=Co;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Co;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ku(n){Co.setTimeout(()=>{let{onUnhandledError:e}=pn;if(e)e(n);else throw n})}function Na(){}var Sw=$p("C",void 0,void 0);function Aw(n){return $p("E",void 0,n)}function Rw(n){return $p("N",n,void 0)}function $p(n,e,t){return{kind:n,value:e,error:t}}var wi=null;function So(n){if(pn.useDeprecatedSynchronousErrorHandling){let e=!wi;if(e&&(wi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=wi;if(wi=null,t)throw r}}else n()}function Mw(n){pn.useDeprecatedSynchronousErrorHandling&&wi&&(wi.errorThrown=!0,wi.error=n)}var bi=class extends $e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Gu(e)&&e.add(this)):this.destination=GN}static create(e,t,r){return new Ao(e,t,r)}next(e){this.isStopped?zp(Rw(e),this):this._next(e)}error(e){this.isStopped?zp(Aw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?zp(Sw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},qN=Function.prototype.bind;function Hp(n,e){return qN.call(n,e)}var qp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Qu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Qu(r)}else Qu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Qu(t)}}},Ao=class extends bi{constructor(e,t,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&pn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Hp(e.next,o),error:e.error&&Hp(e.error,o),complete:e.complete&&Hp(e.complete,o)}):i=e}this.destination=new qp(i)}};function Qu(n){pn.useDeprecatedSynchronousErrorHandling?Mw(n):Ku(n)}function WN(n){throw n}function zp(n,e){let{onStoppedNotification:t}=pn;t&&Co.setTimeout(()=>t(n,e))}var GN={closed:!0,next:Na,error:WN,complete:Na};var Ro=typeof Symbol=="function"&&Symbol.observable||"@@observable";function $t(n){return n}function Yu(...n){return Wp(n)}function Wp(n){return n.length===0?$t:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var oe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=QN(t)?t:new Ao(t,r,i);return So(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Nw(r),new r((i,o)=>{let s=new Ao({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ro](){return this}pipe(...t){return Wp(t)(this)}toPromise(t){return t=Nw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Nw(n){var e;return(e=n??pn.Promise)!==null&&e!==void 0?e:Promise}function KN(n){return n&&te(n.next)&&te(n.error)&&te(n.complete)}function QN(n){return n&&n instanceof bi||KN(n)&&Gu(n)}function Gp(n){return te(n?.lift)}function ve(n){return e=>{if(Gp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(n,e,t,r,i){return new Kp(n,e,t,r,i)}var Kp=class extends bi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Mo(){return ve((n,e)=>{let t=null;n._refCount++;let r=ge(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var No=class extends oe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Gp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $e;let t=this.getSubject();e.add(this.source.subscribe(ge(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$e.EMPTY)}return e}refCount(){return Mo()(this)}};var Pw=To(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var We=(()=>{class n extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Zu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Pw}next(t){So(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){So(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){So(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Bp:(this.currentObservers=null,o.push(t),new $e(()=>{this.currentObservers=null,Ei(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new oe;return t.source=this,t}}return n.create=(e,t)=>new Zu(e,t),n})(),Zu=class extends We{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Bp}};var lt=class extends We{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Qp={now(){return(Qp.delegate||Date).now()},delegate:void 0};var Ju=class extends $e{constructor(e,t){super()}schedule(e,t=0){return this}};var Pa={setInterval(n,e,...t){let{delegate:r}=Pa;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Pa;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Po=class extends Ju{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Pa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Pa.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ei(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var xo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};xo.now=Qp.now;var ko=class extends xo{constructor(e,t=xo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Yp=new ko(Po);var Xu=class extends Po{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var el=class extends ko{};var Zp=new el(Xu);var kt=new oe(n=>n.complete());function xw(n){return n&&te(n.schedule)}function kw(n){return n[n.length-1]}function tl(n){return te(kw(n))?n.pop():void 0}function Wr(n){return xw(kw(n))?n.pop():void 0}function Jp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Fw(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function Ow(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Di(n){return this instanceof Di?(this.v=n,this):new Di(n)}function Lw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(D){return Promise.resolve(D).then(m,p)}}function a(m,D){r[m]&&(i[m]=function(M){return new Promise(function(A,B){o.push([m,M,A,B])>1||u(m,M)})},D&&(i[m]=D(i[m])))}function u(m,D){try{l(r[m](D))}catch(M){y(o[0][3],M)}}function l(m){m.value instanceof Di?Promise.resolve(m.value.v).then(h,p):y(o[0][2],m)}function h(m){u("next",m)}function p(m){u("throw",m)}function y(m,D){m(D),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Vw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Ow=="function"?Ow(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var nl=n=>n&&typeof n.length=="number"&&typeof n!="function";function rl(n){return te(n?.then)}function il(n){return te(n[Ro])}function ol(n){return Symbol.asyncIterator&&te(n?.[Symbol.asyncIterator])}function sl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function YN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var al=YN();function cl(n){return te(n?.[al])}function ul(n){return Lw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Di(t.read());if(i)return yield Di(void 0);yield yield Di(r)}}finally{t.releaseLock()}})}function ll(n){return te(n?.getReader)}function Ke(n){if(n instanceof oe)return n;if(n!=null){if(il(n))return ZN(n);if(nl(n))return JN(n);if(rl(n))return XN(n);if(ol(n))return jw(n);if(cl(n))return eP(n);if(ll(n))return tP(n)}throw sl(n)}function ZN(n){return new oe(e=>{let t=n[Ro]();if(te(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function JN(n){return new oe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function XN(n){return new oe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ku)})}function eP(n){return new oe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function jw(n){return new oe(e=>{nP(n,e).catch(t=>e.error(t))})}function tP(n){return jw(ul(n))}function nP(n,e){var t,r,i,o;return Fw(this,void 0,void 0,function*(){try{for(t=Vw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Ot(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Gr(n,e=0){return ve((t,r)=>{t.subscribe(ge(r,i=>Ot(r,n,()=>r.next(i),e),()=>Ot(r,n,()=>r.complete(),e),i=>Ot(r,n,()=>r.error(i),e)))})}function Kr(n,e=0){return ve((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Uw(n,e){return Ke(n).pipe(Kr(e),Gr(e))}function Bw(n,e){return Ke(n).pipe(Kr(e),Gr(e))}function $w(n,e){return new oe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Hw(n,e){return new oe(t=>{let r;return Ot(t,e,()=>{r=n[al](),Ot(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function dl(n,e){if(!n)throw new Error("Iterable cannot be null");return new oe(t=>{Ot(t,e,()=>{let r=n[Symbol.asyncIterator]();Ot(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function zw(n,e){return dl(ul(n),e)}function qw(n,e){if(n!=null){if(il(n))return Uw(n,e);if(nl(n))return $w(n,e);if(rl(n))return Bw(n,e);if(ol(n))return dl(n,e);if(cl(n))return Hw(n,e);if(ll(n))return zw(n,e)}throw sl(n)}function Ne(n,e){return e?qw(n,e):Ke(n)}function Y(...n){let e=Wr(n);return Ne(n,e)}function Oo(n,e){let t=te(n)?n:()=>n,r=i=>i.error(t());return new oe(e?i=>e.schedule(r,0,i):r)}function Xp(n){return!!n&&(n instanceof oe||te(n.lift)&&te(n.subscribe))}var sr=To(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function X(n,e){return ve((t,r)=>{let i=0;t.subscribe(ge(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:rP}=Array;function iP(n,e){return rP(e)?n(...e):n(e)}function hl(n){return X(e=>iP(n,e))}var{isArray:oP}=Array,{getPrototypeOf:sP,prototype:aP,keys:cP}=Object;function fl(n){if(n.length===1){let e=n[0];if(oP(e))return{args:e,keys:null};if(uP(e)){let t=cP(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function uP(n){return n&&typeof n=="object"&&sP(n)===aP}function pl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function gl(...n){let e=Wr(n),t=tl(n),{args:r,keys:i}=fl(n);if(r.length===0)return Ne([],e);let o=new oe(lP(r,e,i?s=>pl(i,s):$t));return t?o.pipe(hl(t)):o}function lP(n,e,t=$t){return r=>{Ww(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Ww(e,()=>{let l=Ne(n[u],e),h=!1;l.subscribe(ge(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Ww(n,e,t){n?Ot(t,n,e):e()}function Gw(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},m=M=>l<r?D(M):u.push(M),D=M=>{o&&e.next(M),l++;let A=!1;Ke(t(M,h++)).subscribe(ge(e,B=>{i?.(B),o?m(B):e.next(B)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;u.length&&l<r;){let B=u.shift();s?Ot(e,s,()=>D(B)):D(B)}y()}catch(B){e.error(B)}}))};return n.subscribe(ge(e,m,()=>{p=!0,y()})),()=>{a?.()}}function Qe(n,e,t=1/0){return te(e)?Qe((r,i)=>X((o,s)=>e(r,o,i,s))(Ke(n(r,i))),t):(typeof e=="number"&&(t=e),ve((r,i)=>Gw(r,i,n,t)))}function Fo(n=1/0){return Qe($t,n)}function Kw(){return Fo(1)}function Lo(...n){return Kw()(Ne(n,Wr(n)))}function ml(n){return new oe(e=>{Ke(n()).subscribe(e)})}function eg(...n){let e=tl(n),{args:t,keys:r}=fl(n),i=new oe(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ke(t[h]).subscribe(ge(o,y=>{p||(p=!0,l--),a[h]=y},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?pl(r,a):a),o.complete())}))}});return e?i.pipe(hl(e)):i}function At(n,e){return ve((t,r)=>{let i=0;t.subscribe(ge(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ar(n){return ve((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ge(t,void 0,void 0,s=>{o=Ke(n(s,ar(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Qw(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(ge(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function cr(n,e){return te(e)?Qe(n,e,1):Qe(n,1)}function Qr(n){return ve((e,t)=>{let r=!1;e.subscribe(ge(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ur(n){return n<=0?()=>kt:ve((e,t)=>{let r=0;e.subscribe(ge(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function yl(n=dP){return ve((e,t)=>{let r=!1;e.subscribe(ge(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function dP(){return new sr}function Ti(n){return ve((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function lr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?At((i,o)=>n(i,o,r)):$t,ur(1),t?Qr(e):yl(()=>new sr))}function Vo(n){return n<=0?()=>kt:ve((e,t)=>{let r=[];e.subscribe(ge(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function tg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?At((i,o)=>n(i,o,r)):$t,Vo(1),t?Qr(e):yl(()=>new sr))}function vl(n,e){return ve(Qw(n,e,arguments.length>=2,!0))}function _l(...n){let e=Wr(n);return ve((t,r)=>{(e?Lo(n,t,e):Lo(n,t)).subscribe(r)})}function Ht(n,e){return ve((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ge(r,u=>{i?.unsubscribe();let l=0,h=o++;Ke(n(u,h)).subscribe(i=ge(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ng(n){return ve((e,t)=>{Ke(n).subscribe(ge(t,()=>t.complete(),Na)),!t.closed&&e.subscribe(t)})}function dt(n,e,t){let r=te(n)||e||t?{next:n,error:e,complete:t}:n;return r?ve((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ge(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):$t}var Vb="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",$=class extends Error{code;constructor(e,t){super(fP(e,t)),this.code=e}};function hP(n){return`NG0${Math.abs(n)}`}function fP(n,e){return`${hP(n)}${e?": "+e:""}`}var jb=Symbol("InputSignalNode#UNSET"),pP=he(L({},zu),{transformFn:void 0,applyValueToInputSignal(n,e){Ra(n,e)}});function Ub(n,e){let t=Object.create(pP);t.value=n,t.transformFn=e?.transform;function r(){if(Aa(t),t.value===jb){let i=null;throw new $(-950,i)}return t.value}return r[Zt]=t,r}function qa(n){return{toString:n}.toString()}var Il="__parameters__";function gP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Bb(n,e,t){return qa(()=>{let r=gP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Il)?u[Il]:Object.defineProperty(u,Il,{value:[]})[Il];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var yg=globalThis;function Me(n){for(let e in n)if(n[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function mP(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Lt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Lt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Yw(n,e){return n?e?`${n} ${e}`:n:e||""}var yP=Me({__forward_ref__:Me});function Vi(n){return n.__forward_ref__=Vi,n.toString=function(){return Lt(this())},n}function Rt(n){return $b(n)?n():n}function $b(n){return typeof n=="function"&&n.hasOwnProperty(yP)&&n.__forward_ref__===Vi}function W(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function gr(n){return{providers:n.providers||[],imports:n.imports||[]}}function td(n){return Zw(n,zb)||Zw(n,qb)}function Hb(n){return td(n)!==null}function Zw(n,e){return n.hasOwnProperty(e)?n[e]:null}function vP(n){let e=n&&(n[zb]||n[qb]);return e||null}function Jw(n){return n&&(n.hasOwnProperty(Xw)||n.hasOwnProperty(_P))?n[Xw]:null}var zb=Me({\u0275prov:Me}),Xw=Me({\u0275inj:Me}),qb=Me({ngInjectableDef:Me}),_P=Me({ngInjectorDef:Me}),z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=W({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Wb(n){return n&&!!n.\u0275providers}var IP=Me({\u0275cmp:Me}),EP=Me({\u0275dir:Me}),wP=Me({\u0275pipe:Me}),bP=Me({\u0275mod:Me}),Rl=Me({\u0275fac:Me}),Fa=Me({__NG_ELEMENT_ID__:Me}),eb=Me({__NG_ENV_ID__:Me});function nd(n){return typeof n=="string"?n:n==null?"":String(n)}function DP(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():nd(n)}function Gb(n,e){throw new $(-200,n)}function lm(n,e){throw new $(-201,!1)}var ce=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ce||{}),vg;function Kb(){return vg}function Ft(n){let e=vg;return vg=n,e}function Qb(n,e,t){let r=td(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ce.Optional)return null;if(e!==void 0)return e;lm(n,"Injector")}var TP={},Ci=TP,_g="__NG_DI_FLAG__",Ml=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?qu:Ci,r)}},Nl="ngTempTokenPath",CP="ngTokenPath",SP=/\n/gm,AP="\u0275",tb="__source";function RP(n,e=ce.Default){if(Ma()===void 0)throw new $(-203,!1);if(Ma()===null)return Qb(n,void 0,e);{let t=Ma(),r;return t instanceof Ml?r=t.injector:r=t,r.get(n,e&ce.Optional?null:void 0,e)}}function Z(n,e=ce.Default){return(Kb()||RP)(Rt(n),e)}function O(n,e=ce.Default){return Z(n,rd(e))}function rd(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ig(n){let e=[];for(let t=0;t<n.length;t++){let r=Rt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,o=ce.Default;for(let s=0;s<r.length;s++){let a=r[s],u=MP(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Z(i,o))}else e.push(Z(r))}return e}function Yb(n,e){return n[_g]=e,n.prototype[_g]=e,n}function MP(n){return n[_g]}function NP(n,e,t,r){let i=n[Nl];throw e[tb]&&i.unshift(e[tb]),n.message=PP(`
`+n.message,i,t,r),n[CP]=i,n[Nl]=null,n}function PP(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==AP?n.slice(2):n;let i=Lt(e);if(Array.isArray(e))i=e.map(Lt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Lt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(SP,`
  `)}`}var mr=Yb(Bb("Optional"),8);var xP=Yb(Bb("SkipSelf"),4);function Ai(n,e){let t=n.hasOwnProperty(Rl);return t?n[Rl]:null}function kP(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function OP(n){return n.flat(Number.POSITIVE_INFINITY)}function dm(n,e){n.forEach(t=>Array.isArray(t)?dm(t,e):e(t))}function Zb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Pl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function FP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function LP(n,e,t){let r=Wa(n,e);return r>=0?n[r|1]=t:(r=~r,FP(n,r,e,t)),r}function rg(n,e){let t=Wa(n,e);if(t>=0)return n[t|1]}function Wa(n,e){return VP(n,e,1)}function VP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Ri={},Jt=[],La=new z(""),Jb=new z("",-1),Xb=new z(""),xl=class{get(e,t=Ci){if(t===Ci){let r=new Error(`NullInjectorError: No provider for ${Lt(e)}!`);throw r.name="NullInjectorError",r}return t}};function eD(n,e){let t=n[bP]||null;if(!t&&e===!0)throw new Error(`Type ${Lt(n)} does not have '\u0275mod' property.`);return t}function Ho(n){return n[IP]||null}function jP(n){return n[EP]||null}function UP(n){return n[wP]||null}function yr(n){return{\u0275providers:n}}function BP(...n){return{\u0275providers:tD(!0,n),\u0275fromNgModule:!0}}function tD(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return dm(e,s=>{let a=s;Eg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&nD(i,o),t}function nD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];hm(i,o=>{e(o,r)})}}function Eg(n,e,t,r){if(n=Rt(n),!n)return!1;let i=null,o=Jw(n),s=!o&&Ho(n);if(!o&&!s){let u=n.ngModule;if(o=Jw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Eg(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{dm(o.imports,h=>{Eg(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&nD(l,e)}if(!a){let l=Ai(i)||(()=>new i);e({provide:i,useFactory:l,deps:Jt},i),e({provide:Xb,useValue:i,multi:!0},i),e({provide:La,useValue:()=>Z(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;hm(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function hm(n,e){for(let t of n)Wb(t)&&(t=t.\u0275providers),Array.isArray(t)?hm(t,e):e(t)}var $P=Me({provide:String,useValue:Me});function rD(n){return n!==null&&typeof n=="object"&&$P in n}function HP(n){return!!(n&&n.useExisting)}function zP(n){return!!(n&&n.useFactory)}function zo(n){return typeof n=="function"}function qP(n){return!!n.useClass}var id=new z(""),bl={},nb={},ig;function fm(){return ig===void 0&&(ig=new xl),ig}var ht=class{},Va=class extends ht{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,bg(e,s=>this.processProvider(s)),this.records.set(Jb,jo(void 0,this)),i.has("environment")&&this.records.set(ht,jo(void 0,this));let o=this.records.get(id);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Xb,Jt,ce.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?qu:Ci,r)}destroy(){ka(this),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return ka(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ka(this);let t=or(this),r=Ft(void 0),i;try{return e()}finally{or(t),Ft(r)}}get(e,t=Ci,r=ce.Default){if(ka(this),e.hasOwnProperty(eb))return e[eb](this);r=rd(r);let i,o=or(this),s=Ft(void 0);try{if(!(r&ce.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=YP(e)&&td(e);l&&this.injectableDefInScope(l)?u=jo(wg(e),bl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ce.Self?fm():this.parent;return t=r&ce.Optional&&t===Ci?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Nl]=a[Nl]||[]).unshift(Lt(e)),o)throw a;return NP(a,e,"R3InjectorError",this.source)}else throw a}finally{Ft(s),or(o)}}resolveInjectorInitializers(){let e=pe(null),t=or(this),r=Ft(void 0),i;try{let o=this.get(La,Jt,ce.Self);for(let s of o)s()}finally{or(t),Ft(r),pe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Lt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Rt(e);let t=zo(e)?e:Rt(e&&e.provide),r=GP(e);if(!zo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=jo(void 0,bl,!0),i.factory=()=>Ig(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=pe(null);try{return t.value===nb?Gb(Lt(e)):t.value===bl&&(t.value=nb,t.value=t.factory()),typeof t.value=="object"&&t.value&&QP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Rt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function wg(n){let e=td(n),t=e!==null?e.factory:Ai(n);if(t!==null)return t;if(n instanceof z)throw new $(204,!1);if(n instanceof Function)return WP(n);throw new $(204,!1)}function WP(n){if(n.length>0)throw new $(204,!1);let t=vP(n);return t!==null?()=>t.factory(n):()=>new n}function GP(n){if(rD(n))return jo(void 0,n.useValue);{let e=iD(n);return jo(e,bl)}}function iD(n,e,t){let r;if(zo(n)){let i=Rt(n);return Ai(i)||wg(i)}else if(rD(n))r=()=>Rt(n.useValue);else if(zP(n))r=()=>n.useFactory(...Ig(n.deps||[]));else if(HP(n))r=()=>Z(Rt(n.useExisting));else{let i=Rt(n&&(n.useClass||n.provide));if(KP(n))r=()=>new i(...Ig(n.deps));else return Ai(i)||wg(i)}return r}function ka(n){if(n.destroyed)throw new $(205,!1)}function jo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function KP(n){return!!n.deps}function QP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function YP(n){return typeof n=="function"||typeof n=="object"&&n instanceof z}function bg(n,e){for(let t of n)Array.isArray(t)?bg(t,e):t&&Wb(t)?bg(t.\u0275providers,e):e(t)}function ft(n,e){let t;n instanceof Va?(ka(n),t=n):t=new Ml(n);let r,i=or(t),o=Ft(void 0);try{return e()}finally{or(i),Ft(o)}}function oD(){return Kb()!==void 0||Ma()!=null}function sD(n){if(!oD())throw new $(-203,!1)}function ZP(n){return typeof n=="function"}var vr=0,ue=1,ne=2,Et=3,mn=4,yn=5,kl=6,Ol=7,Vt=8,qo=9,dr=10,nt=11,ja=12,rb=13,Jo=14,Fn=15,Mi=16,Uo=17,hr=18,od=19,aD=20,Yr=21,og=22,Fl=23,Xt=24,sg=25,en=26,cD=1;var Ni=7,Ll=8,Wo=9,zt=10;function Zr(n){return Array.isArray(n)&&typeof n[cD]=="object"}function _r(n){return Array.isArray(n)&&n[cD]===!0}function uD(n){return(n.flags&4)!==0}function Xo(n){return n.componentOffset>-1}function pm(n){return(n.flags&1)===1}function Ln(n){return!!n.template}function Vl(n){return(n[ne]&512)!==0}function Ga(n){return(n[ne]&256)===256}var Dg=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function lD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Ir=(()=>{let n=()=>dD;return n.ngInherit=!0,n})();function dD(n){return n.type.prototype.ngOnChanges&&(n.setInput=XP),JP}function JP(){let n=fD(this),e=n?.current;if(e){let t=n.previous;if(t===Ri)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function XP(n,e,t,r,i){let o=this.declaredInputs[r],s=fD(n)||ex(n,{previous:Ri,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Dg(l&&l.currentValue,t,u===Ri),lD(n,e,i,t)}var hD="__ngSimpleChanges__";function fD(n){return n[hD]||null}function ex(n,e){return n[hD]=e}var ib=null;var Pe=function(n,e=null,t){ib?.(n,e,t)},tx="svg",nx="math";function Vn(n){for(;Array.isArray(n);)n=n[vr];return n}function pD(n,e){return Vn(e[n])}function Bn(n,e){return Vn(e[n.index])}function gD(n,e){return n.data[e]}function mD(n,e){return n[e]}function jn(n,e){let t=e[n];return Zr(t)?t:t[vr]}function rx(n){return(n[ne]&4)===4}function gm(n){return(n[ne]&128)===128}function ix(n){return _r(n[Et])}function jl(n,e){return e==null?null:n[e]}function yD(n){n[Uo]=0}function vD(n){n[ne]&1024||(n[ne]|=1024,gm(n)&&ad(n))}function ox(n,e){for(;n>0;)e=e[Jo],n--;return e}function sd(n){return!!(n[ne]&9216||n[Xt]?.dirty)}function Tg(n){n[dr].changeDetectionScheduler?.notify(8),n[ne]&64&&(n[ne]|=1024),sd(n)&&ad(n)}function ad(n){n[dr].changeDetectionScheduler?.notify(0);let e=Pi(n);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!gm(e)));)e=Pi(e)}function _D(n,e){if(Ga(n))throw new $(911,!1);n[Yr]===null&&(n[Yr]=[]),n[Yr].push(e)}function sx(n,e){if(n[Yr]===null)return;let t=n[Yr].indexOf(e);t!==-1&&n[Yr].splice(t,1)}function Pi(n){let e=n[Et];return _r(e)?e[Et]:e}function mm(n){return n[Ol]??=[]}function ym(n){return n.cleanup??=[]}function ax(n,e,t,r){let i=mm(e);i.push(t),n.firstCreatePass&&ym(n).push(r,i.length-1)}var le={lFrame:AD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Cg=!1;function cx(){return le.lFrame.elementDepthCount}function ux(){le.lFrame.elementDepthCount++}function lx(){le.lFrame.elementDepthCount--}function ID(){return le.bindingsEnabled}function dx(){return le.skipHydrationRootTNode!==null}function hx(n){return le.skipHydrationRootTNode===n}function fx(){le.skipHydrationRootTNode=null}function we(){return le.lFrame.lView}function pt(){return le.lFrame.tView}function xe(n){return le.lFrame.contextLView=n,n[Vt]}function ke(n){return le.lFrame.contextLView=null,n}function jt(){let n=ED();for(;n!==null&&n.type===64;)n=n.parent;return n}function ED(){return le.lFrame.currentTNode}function px(){let n=le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ka(n,e){let t=le.lFrame;t.currentTNode=n,t.isParent=e}function wD(){return le.lFrame.isParent}function gx(){le.lFrame.isParent=!1}function mx(){return le.lFrame.contextLView}function bD(){return Cg}function ob(n){let e=Cg;return Cg=n,e}function DD(){let n=le.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function yx(n){return le.lFrame.bindingIndex=n}function cd(){return le.lFrame.bindingIndex++}function vx(n){let e=le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function _x(){return le.lFrame.inI18n}function Ix(n,e){let t=le.lFrame;t.bindingIndex=t.bindingRootIndex=n,Sg(e)}function Ex(){return le.lFrame.currentDirectiveIndex}function Sg(n){le.lFrame.currentDirectiveIndex=n}function wx(n){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function TD(){return le.lFrame.currentQueryIndex}function vm(n){le.lFrame.currentQueryIndex=n}function bx(n){let e=n[ue];return e.type===2?e.declTNode:e.type===1?n[yn]:null}function CD(n,e,t){if(t&ce.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ce.Host);)if(i=bx(o),i===null||(o=o[Jo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=le.lFrame=SD();return r.currentTNode=e,r.lView=n,!0}function _m(n){let e=SD(),t=n[ue];le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function SD(){let n=le.lFrame,e=n===null?null:n.child;return e===null?AD(n):e}function AD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function RD(){let n=le.lFrame;return le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var MD=RD;function Im(){let n=RD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Dx(n){return(le.lFrame.contextLView=ox(n,le.lFrame.contextLView))[Vt]}function es(){return le.lFrame.selectedIndex}function xi(n){le.lFrame.selectedIndex=n}function Em(){let n=le.lFrame;return gD(n.tView,n.selectedIndex)}function Tx(){return le.lFrame.currentNamespace}var ND=!0;function wm(){return ND}function bm(n){ND=n}function Cx(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=dD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function PD(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Dl(n,e,t){xD(n,e,3,t)}function Tl(n,e,t,r){(n[ne]&3)===t&&xD(n,e,t,r)}function ag(n,e){let t=n[ne];(t&3)===e&&(t&=16383,t+=1,n[ne]=t)}function xD(n,e,t,r){let i=r!==void 0?n[Uo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Uo]+=65536),(a<o||o==-1)&&(Sx(n,t,e,u),n[Uo]=(n[Uo]&4294901760)+u+2),u++}function sb(n,e){Pe(4,n,e);let t=pe(null);try{e.call(n)}finally{pe(t),Pe(5,n,e)}}function Sx(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ne]>>14<n[Uo]>>16&&(n[ne]&3)===e&&(n[ne]+=16384,sb(a,o)):sb(a,o)}var $o=-1,ki=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function Ax(n){return(n.flags&8)!==0}function Rx(n){return(n.flags&16)!==0}function Mx(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];Nx(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function kD(n){return n===3||n===4||n===6}function Nx(n){return n.charCodeAt(0)===64}function Ua(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?ab(n,t,i,null,e[++r]):ab(n,t,i,null,null))}}return n}function ab(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function OD(n){return n!==$o}function Ul(n){return n&32767}function Px(n){return n>>16}function Bl(n,e){let t=Px(n),r=e;for(;t>0;)r=r[Jo],t--;return r}var Ag=!0;function $l(n){let e=Ag;return Ag=n,e}var xx=256,FD=xx-1,LD=5,kx=0,On={};function Ox(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Fa)&&(r=t[Fa]),r==null&&(r=t[Fa]=kx++);let i=r&FD,o=1<<i;e.data[n+(i>>LD)]|=o}function Hl(n,e){let t=VD(n,e);if(t!==-1)return t;let r=e[ue];r.firstCreatePass&&(n.injectorIndex=e.length,cg(r.data,n),cg(e,null),cg(r.blueprint,null));let i=Dm(n,e),o=n.injectorIndex;if(OD(i)){let s=Ul(i),a=Bl(i,e),u=a[ue].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function cg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function VD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Dm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=HD(i),r===null)return $o;if(t++,i=i[Jo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return $o}function Rg(n,e,t){Ox(n,e,t)}function Fx(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(kD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function jD(n,e,t){if(t&ce.Optional||n!==void 0)return n;lm(e,"NodeInjector")}function UD(n,e,t,r){if(t&ce.Optional&&r===void 0&&(r=null),(t&(ce.Self|ce.Host))===0){let i=n[qo],o=Ft(void 0);try{return i?i.get(e,r,t&ce.Optional):Qb(e,r,t&ce.Optional)}finally{Ft(o)}}return jD(r,e,t)}function BD(n,e,t,r=ce.Default,i){if(n!==null){if(e[ne]&2048&&!(r&ce.Self)){let s=Ux(n,e,t,r,On);if(s!==On)return s}let o=$D(n,e,t,r,On);if(o!==On)return o}return UD(e,t,r,i)}function $D(n,e,t,r,i){let o=Vx(t);if(typeof o=="function"){if(!CD(e,n,r))return r&ce.Host?jD(i,t,r):UD(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ce.Optional))lm(t);else return s}finally{MD()}}else if(typeof o=="number"){let s=null,a=VD(n,e),u=$o,l=r&ce.Host?e[Fn][yn]:null;for((a===-1||r&ce.SkipSelf)&&(u=a===-1?Dm(n,e):e[a+8],u===$o||!ub(r,!1)?a=-1:(s=e[ue],a=Ul(u),e=Bl(u,e)));a!==-1;){let h=e[ue];if(cb(o,a,h.data)){let p=Lx(a,e,t,s,r,l);if(p!==On)return p}u=e[a+8],u!==$o&&ub(r,e[ue].data[a+8]===l)&&cb(o,a,e)?(s=h,a=Ul(u),e=Bl(u,e)):a=-1}}return i}function Lx(n,e,t,r,i,o){let s=e[ue],a=s.data[n+8],u=r==null?Xo(a)&&Ag:r!=s&&(a.type&3)!==0,l=i&ce.Host&&o===a,h=Cl(a,s,t,u,l);return h!==null?Ba(e,s,h,a):On}function Cl(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,y=i?a+h:l;for(let m=p;m<y;m++){let D=s[m];if(m<u&&t===D||m>=u&&D.type===t)return m}if(i){let m=s[u];if(m&&Ln(m)&&m.type===t)return u}return null}function Ba(n,e,t,r){let i=n[t],o=e.data;if(i instanceof ki){let s=i;s.resolving&&Gb(DP(o[t]));let a=$l(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Ft(s.injectImpl):null,h=CD(n,r,ce.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&Cx(t,o[t],e)}finally{l!==null&&Ft(l),$l(a),s.resolving=!1,MD()}}return i}function Vx(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Fa)?n[Fa]:void 0;return typeof e=="number"?e>=0?e&FD:jx:e}function cb(n,e,t){let r=1<<n;return!!(t[e+(n>>LD)]&r)}function ub(n,e){return!(n&ce.Self)&&!(n&ce.Host&&e)}var Si=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return BD(this._tNode,this._lView,e,rd(r),t)}};function jx(){return new Si(jt(),we())}function ts(n){return qa(()=>{let e=n.prototype.constructor,t=e[Rl]||Mg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Rl]||Mg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Mg(n){return $b(n)?()=>{let e=Mg(Rt(n));return e&&e()}:Ai(n)}function Ux(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!Vl(s);){let a=$D(o,s,t,r|ce.Self,On);if(a!==On)return a;let u=o.parent;if(!u){let l=s[aD];if(l){let h=l.get(t,On,r);if(h!==On)return h}u=HD(s),s=s[Jo]}o=u}return i}function HD(n){let e=n[ue],t=e.type;return t===2?e.declTNode:t===1?n[yn]:null}function Tm(n){return Fx(jt(),n)}function lb(n,e=null,t=null,r){let i=zD(n,e,t,r);return i.resolveInjectorInitializers(),i}function zD(n,e=null,t=null,r,i=new Set){let o=[t||Jt,BP(n)];return r=r||(typeof n=="object"?void 0:Lt(n)),new Va(o,e||fm(),r||null,i)}var Mt=class n{static THROW_IF_NOT_FOUND=Ci;static NULL=new xl;static create(e,t){if(Array.isArray(e))return lb({name:""},t,e,"");{let r=e.name??"";return lb({name:r},e.parent,e.providers,r)}}static \u0275prov=W({token:n,providedIn:"any",factory:()=>Z(Jb)});static __NG_ELEMENT_ID__=-1};var Bx=new z("");Bx.__NG_ELEMENT_ID__=n=>{let e=jt();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(n&ce.Optional)return null;throw new $(204,!1)};var qD=!1,Qa=(()=>{class n{static __NG_ELEMENT_ID__=$x;static __NG_ENV_ID__=t=>t}return n})(),Ng=class extends Qa{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return _D(this._lView,e),()=>sx(this._lView,e)}};function $x(){return new Ng(we())}var Go=class{},Cm=new z("",{providedIn:"root",factory:()=>!1});var WD=new z(""),GD=new z(""),Er=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new lt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})(),ud=(()=>{class n{internalPendingTasks=O(Er);scheduler=O(Go);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return C(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})(),Pg=class extends We{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,oD()&&(this.destroyRef=O(Qa,{optional:!0})??void 0,this.pendingTasks=O(Er,{optional:!0})??void 0)}emit(e){let t=pe(null);try{super.next(e)}finally{pe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof $e&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ye=Pg;function zl(...n){}function KD(n){let e,t;function r(){n=zl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function db(n){return queueMicrotask(()=>n()),()=>{n=zl}}var Sm="isAngularZone",ql=Sm+"_ID",Hx=0,Ce=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ye(!1);onMicrotaskEmpty=new Ye(!1);onStable=new Ye(!1);onError=new Ye(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=qD}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Wx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Sm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new $(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,zx,zl,zl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},zx={};function Am(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function qx(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){KD(()=>{n.callbackScheduled=!1,xg(n),n.isCheckStableRunning=!0,Am(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),xg(n)}function Wx(n){let e=()=>{qx(n)},t=Hx++;n._inner=n._inner.fork({name:"angular",properties:{[Sm]:!0,[ql]:t,[ql+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Gx(u))return r.invokeTask(o,s,a,u);try{return hb(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),fb(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return hb(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Kx(u)&&e(),fb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,xg(n),Am(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function xg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function hb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function fb(n){n._nesting--,Am(n)}var kg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ye;onMicrotaskEmpty=new Ye;onStable=new Ye;onError=new Ye;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Gx(n){return QD(n,"__ignore_ng_zone__")}function Kx(n){return QD(n,"__scheduler_tick__")}function QD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var fr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Qx=new z("",{providedIn:"root",factory:()=>{let n=O(Ce),e=O(fr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function pb(n,e){return Ub(n,e)}function Yx(n){return Ub(jb,n)}var YD=(pb.required=Yx,pb);function Zx(){return ns(jt(),we())}function ns(n,e){return new vn(Bn(n,e))}var vn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Zx}return n})();function Jx(n){return n instanceof vn?n.nativeElement:n}function Xx(n){return typeof n=="function"&&n[Zt]!==void 0}function rs(n,e){let t=Lp(n,e?.equal),r=t[Zt];return t.set=i=>Ra(r,i),t.update=i=>Vp(r,i),t.asReadonly=ek.bind(t),t}function ek(){let n=this[Zt];if(n.readonlyFn===void 0){let e=()=>this();e[Zt]=n,n.readonlyFn=e}return n.readonlyFn}function ZD(n){return Xx(n)&&typeof n.set=="function"}function tk(){return this._results[Symbol.iterator]()}var Og=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new We}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=OP(e);(this._changesDetected=!kP(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=tk};function JD(n){return(n.flags&128)===128}var XD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(XD||{}),eT=new Map,nk=0;function rk(){return nk++}function ik(n){eT.set(n[od],n)}function Fg(n){eT.delete(n[od])}var gb="__ngContext__";function Ya(n,e){Zr(e)?(n[gb]=e[od],ik(e)):n[gb]=e}function tT(n){return rT(n[ja])}function nT(n){return rT(n[mn])}function rT(n){for(;n!==null&&!_r(n);)n=n[mn];return n}var Lg;function iT(n){Lg=n}function ok(){if(Lg!==void 0)return Lg;if(typeof document<"u")return document;throw new $(210,!1)}var Rm=new z("",{providedIn:"root",factory:()=>sk}),sk="ng",Mm=new z(""),wr=new z("",{providedIn:"platform",factory:()=>"unknown"});var Nm=new z("",{providedIn:"root",factory:()=>ok().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ak="h",ck="b";var oT=!1,uk=new z("",{providedIn:"root",factory:()=>oT});var sT=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(sT||{}),ld=new z(""),mb=new Set;function Pm(n){mb.has(n)||(mb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var lk=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})();var dk=()=>null;function aT(n,e,t=!1){return dk(n,e,t)}function cT(n,e){let t=n.contentQueries;if(t!==null){let r=pe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];vm(o),a.contentQueries(2,e[s],s)}}}finally{pe(r)}}}function Vg(n,e,t){vm(0);let r=pe(null);try{e(n,t)}finally{pe(r)}}function uT(n,e,t){if(uD(e)){let r=pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{pe(r)}}}var Un=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Un||{});var El;function hk(){if(El===void 0&&(El=null,yg.trustedTypes))try{El=yg.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return El}function yb(n){return hk()?.createScriptURL(n)||n}var Wl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Vb})`}};function xm(n){return n instanceof Wl?n.changingThisBreaksApplicationSecurity:n}function lT(n,e){let t=fk(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Vb})`)}return t===e}function fk(n){return n instanceof Wl&&n.getTypeName()||null}var pk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gk(n){return n=String(n),n.match(pk)?n:"unsafe:"+n}var km=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(km||{});function mk(n){let e=hT();return e?e.sanitize(km.URL,n)||"":lT(n,"URL")?xm(n):gk(nd(n))}function yk(n){let e=hT();if(e)return yb(e.sanitize(km.RESOURCE_URL,n)||"");if(lT(n,"ResourceURL"))return yb(xm(n));throw new $(904,!1)}function vk(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?yk:mk}function dT(n,e,t){return vk(e,t)(n)}function hT(){let n=we();return n&&n[dr].sanitizer}function fT(n){return n instanceof Function?n():n}function _k(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var pT="ng-template";function Ik(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&_k(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Om(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Om(n){return n.type===4&&n.value!==pT}function Ek(n,e,t){let r=n.type===4&&!t?pT:n.value;return e===r}function wk(n,e,t){let r=4,i=n.attrs,o=i!==null?Tk(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!gn(r)&&!gn(u))return!1;if(s&&gn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Ek(n,u,t)||u===""&&e.length===1){if(gn(r))return!1;s=!0}}else if(r&8){if(i===null||!Ik(n,i,u,t)){if(gn(r))return!1;s=!0}}else{let l=e[++a],h=bk(u,i,Om(n),t);if(h===-1){if(gn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(gn(r))return!1;s=!0}}}}return gn(r)||s}function gn(n){return(n&1)===0}function bk(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Ck(e,n)}function Dk(n,e,t=!1){for(let r=0;r<e.length;r++)if(wk(n,e[r],t))return!0;return!1}function Tk(n){for(let e=0;e<n.length;e++){let t=n[e];if(kD(t))return e}return n.length}function Ck(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function vb(n,e){return n?":not("+e.trim()+")":e}function Sk(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!gn(s)&&(e+=vb(o,i),i=""),r=s,o=o||!gn(r);t++}return i!==""&&(e+=vb(o,i)),e}function Ak(n){return n.map(Sk).join(",")}function Rk(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!gn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Jr={};function Mk(n,e){return n.createText(e)}function Nk(n,e,t){n.setValue(e,t)}function gT(n,e,t){return n.createElement(e,t)}function Gl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function mT(n,e,t){n.appendChild(e,t)}function _b(n,e,t,r,i){r!==null?Gl(n,e,t,r,i):mT(n,e,t)}function Pk(n,e,t){n.removeChild(null,e,t)}function xk(n,e,t){n.setAttribute(e,"style",t)}function kk(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function yT(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Mx(n,e,r),i!==null&&kk(n,e,i),o!==null&&xk(n,e,o)}function Fm(n,e,t,r,i,o,s,a,u,l,h){let p=en+r,y=p+i,m=Ok(p,y),D=typeof l=="function"?l():l;return m[ue]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:h}}function Ok(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Jr);return t}function Fk(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Fm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Lm(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[vr]=i,p[ne]=r|4|128|8|64|1024,(l!==null||n&&n[ne]&2048)&&(p[ne]|=2048),yD(p),p[Et]=p[Jo]=n,p[Vt]=t,p[dr]=s||n&&n[dr],p[nt]=a||n&&n[nt],p[qo]=u||n&&n[qo]||null,p[yn]=o,p[od]=rk(),p[kl]=h,p[aD]=l,p[Fn]=e.type==2?n[Fn]:p,p}function Lk(n,e,t){let r=Bn(e,n),i=Fk(t),o=n[dr].rendererFactory,s=Vm(n,Lm(n,i,null,vT(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function vT(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function _T(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Vm(n,e){return n[ja]?n[rb][mn]=e:n[ja]=e,n[rb]=e,e}function j(n=1){IT(pt(),we(),es()+n,!1)}function IT(n,e,t,r){if(!r)if((e[ne]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Dl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Tl(e,o,0,t)}xi(t)}var dd=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(dd||{});function jg(n,e,t,r){let i=pe(null);try{let[o,s,a]=n.inputs[t],u=null;(s&dd.SignalBased)!==0&&(u=e[o][Zt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):lD(e,u,o,r)}finally{pe(i)}}function ET(n,e,t,r,i){let o=es(),s=r&2;try{xi(-1),s&&e.length>en&&IT(n,e,en,!1),Pe(s?2:0,i),t(r,i)}finally{xi(o),Pe(s?3:1,i)}}function jm(n,e,t){Hk(n,e,t),(t.flags&64)===64&&zk(n,e,t)}function wT(n,e,t=Bn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function Vk(n,e,t,r){let o=r.get(uk,oT)||t===Un.ShadowDom,s=n.selectRootElement(e,o);return jk(s),s}function jk(n){Uk(n)}var Uk=()=>null;function Bk(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function bT(n,e,t,r,i,o,s,a){if(!a&&Um(e,n,t,r,i)){Xo(e)&&$k(t,e.index);return}if(e.type&3){let u=Bn(e,t);r=Bk(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function $k(n,e){let t=jn(e,n);t[ne]&16||(t[ne]|=64)}function Hk(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Xo(t)&&Lk(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Hl(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=Ba(e,n,s,t);if(Ya(u,e),o!==null&&Kk(e,s-r,u,a,t,o),Ln(a)){let l=jn(t.index,e);l[Vt]=Ba(e,n,s,t)}}}function zk(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Ex();try{xi(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Sg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&qk(u,l)}}finally{xi(-1),Sg(s)}}function qk(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function DT(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];Dk(e,o.selectors,!1)&&(r??=[],Ln(o)?r.unshift(o):r.push(o))}return r}function Wk(n,e,t,r,i,o){let s=Bn(n,e);Gk(e[nt],s,o,n.value,t,r,i)}function Gk(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?nd(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function Kk(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];jg(r,t,u,l)}}function Qk(n,e){let t=n[qo],r=t?t.get(fr,null):null;r&&r.handleError(e)}function Um(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];jg(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];jg(h,l,r,i),a=!0}return a}function Yk(n,e){let t=jn(e,n),r=t[ue];Zk(r,t);let i=t[vr];i!==null&&t[kl]===null&&(t[kl]=aT(i,t[qo])),Pe(18),Bm(r,t,t[Vt]),Pe(19,t[Vt])}function Zk(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Bm(n,e,t){_m(e);try{let r=n.viewQuery;r!==null&&Vg(1,r,t);let i=n.template;i!==null&&ET(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[hr]?.finishViewCreation(n),n.staticContentQueries&&cT(n,e),n.staticViewQueries&&Vg(2,n.viewQuery,t);let o=n.components;o!==null&&Jk(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ne]&=-5,Im()}}function Jk(n,e){for(let t=0;t<e.length;t++)Yk(n,e[t])}function Xk(n,e,t,r){let i=pe(null);try{let o=e.tView,a=n[ne]&4096?4096:16,u=Lm(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Mi]=l;let h=n[hr];return h!==null&&(u[hr]=h.createEmbeddedView(o)),Bm(o,u,t),u}finally{pe(i)}}function Ib(n,e){return!e||e.firstChild===null||JD(n)}var eO;function $m(n,e){return eO(n,e)}var pr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(pr||{});function TT(n){return(n.flags&32)===32}function Bo(n,e,t,r,i){if(r!=null){let o,s=!1;_r(r)?o=r:Zr(r)&&(s=!0,r=r[vr]);let a=Vn(r);n===0&&t!==null?i==null?mT(e,t,a):Gl(e,t,a,i||null,!0):n===1&&t!==null?Gl(e,t,a,i||null,!0):n===2?Pk(e,a,s):n===3&&e.destroyNode(a),o!=null&&hO(e,n,o,t,i)}}function tO(n,e){CT(n,e),e[vr]=null,e[yn]=null}function nO(n,e,t,r,i,o){r[vr]=i,r[yn]=e,hd(n,r,t,1,i,o)}function CT(n,e){e[dr].changeDetectionScheduler?.notify(9),hd(n,e,e[nt],2,null,null)}function rO(n){let e=n[ja];if(!e)return ug(n[ue],n);for(;e;){let t=null;if(Zr(e))t=e[ja];else{let r=e[zt];r&&(t=r)}if(!t){for(;e&&!e[mn]&&e!==n;)Zr(e)&&ug(e[ue],e),e=e[Et];e===null&&(e=n),Zr(e)&&ug(e[ue],e),t=e&&e[mn]}e=t}}function Hm(n,e){let t=n[Wo],r=t.indexOf(e);t.splice(r,1)}function ST(n,e){if(Ga(e))return;let t=e[nt];t.destroyNode&&hd(n,e,t,3,null,null),rO(e)}function ug(n,e){if(Ga(e))return;let t=pe(null);try{e[ne]&=-129,e[ne]|=256,e[Xt]&&kp(e[Xt]),oO(n,e),iO(n,e),e[ue].type===1&&e[nt].destroy();let r=e[Mi];if(r!==null&&_r(e[Et])){r!==e[Et]&&Hm(r,e);let i=e[hr];i!==null&&i.detachView(n)}Fg(e)}finally{pe(t)}}function iO(n,e){let t=n.cleanup,r=e[Ol];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Ol]=null);let i=e[Yr];if(i!==null){e[Yr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Fl];if(o!==null){e[Fl]=null;for(let s of o)s.destroy()}}function oO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof ki)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Pe(4,a,u);try{u.call(a)}finally{Pe(5,a,u)}}else{Pe(4,i,o);try{o.call(i)}finally{Pe(5,i,o)}}}}}function sO(n,e,t){return aO(n,e.parent,t)}function aO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[vr];if(Xo(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Un.None||i===Un.Emulated)return null}return Bn(r,t)}function cO(n,e,t){return lO(n,e,t)}function uO(n,e,t){return n.type&40?Bn(n,t):null}var lO=uO,Eb;function zm(n,e,t,r){let i=sO(n,r,e),o=e[nt],s=r.parent||e[yn],a=cO(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)_b(o,i,t[u],a,!1);else _b(o,i,t,a,!1);Eb!==void 0&&Eb(o,r,e,t,i)}function Oa(n,e){if(e!==null){let t=e.type;if(t&3)return Bn(e,n);if(t&4)return Ug(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Oa(n,r);{let i=n[e.index];return _r(i)?Ug(-1,i):Vn(i)}}else{if(t&128)return Oa(n,e.next);if(t&32)return $m(e,n)()||Vn(n[e.index]);{let r=AT(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Pi(n[Fn]);return Oa(i,r)}else return Oa(n,e.next)}}}return null}function AT(n,e){if(e!==null){let r=n[Fn][yn],i=e.projection;return r.projection[i]}return null}function Ug(n,e){let t=zt+n+1;if(t<e.length){let r=e[t],i=r[ue].firstChild;if(i!==null)return Oa(r,i)}return e[Ni]}function qm(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Ya(Vn(a),r),t.flags|=2),!TT(t))if(u&8)qm(n,e,t.child,r,i,o,!1),Bo(e,n,i,a,o);else if(u&32){let l=$m(t,r),h;for(;h=l();)Bo(e,n,i,h,o);Bo(e,n,i,a,o)}else u&16?dO(n,e,r,t,i,o):Bo(e,n,i,a,o);t=s?t.projectionNext:t.next}}function hd(n,e,t,r,i,o){qm(t,r,n.firstChild,e,i,o,!1)}function dO(n,e,t,r,i,o){let s=t[Fn],u=s[yn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Bo(e,n,i,h,o)}else{let l=u,h=s[Et];JD(r)&&(l.flags|=128),qm(n,e,l,h,i,o,!0)}}function hO(n,e,t,r,i){let o=t[Ni],s=Vn(t);o!==s&&Bo(e,n,r,o,i);for(let a=zt;a<t.length;a++){let u=t[a];hd(u[ue],u,n,e,r,o)}}function fO(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:pr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=pr.Important),n.setStyle(t,r,i,o))}}function Kl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Vn(o)),_r(o)&&pO(o,r);let s=t.type;if(s&8)Kl(n,e,t.child,r);else if(s&32){let a=$m(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=AT(e,t);if(Array.isArray(a))r.push(...a);else{let u=Pi(e[Fn]);Kl(u[ue],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function pO(n,e){for(let t=zt;t<n.length;t++){let r=n[t],i=r[ue].firstChild;i!==null&&Kl(r[ue],r,i,e)}n[Ni]!==n[vr]&&e.push(n[Ni])}function RT(n){if(n[sg]!==null){for(let e of n[sg])e.impl.addSequence(e);n[sg].length=0}}var MT=[];function gO(n){return n[Xt]??mO(n)}function mO(n){let e=MT.pop()??Object.create(vO);return e.lView=n,e}function yO(n){n.lView[Xt]!==n&&(n.lView=null,MT.push(n))}var vO=he(L({},Sa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ad(n.lView)},consumerOnSignalRead(){this.lView[Xt]=this}});function _O(n){let e=n[Xt]??Object.create(IO);return e.lView=n,e}var IO=he(L({},Sa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Pi(n.lView);for(;e&&!NT(e[ue]);)e=Pi(e);e&&vD(e)},consumerOnSignalRead(){this.lView[Xt]=this}});function NT(n){return n.type!==2}function PT(n){if(n[Fl]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Fl])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ne]&8192)}}var EO=100;function xT(n,e=!0,t=0){let i=n[dr].rendererFactory,o=!1;o||i.begin?.();try{wO(n,t)}catch(s){throw e&&Qk(n,s),s}finally{o||i.end?.()}}function wO(n,e){let t=bD();try{ob(!0),Bg(n,e);let r=0;for(;sd(n);){if(r===EO)throw new $(103,!1);r++,Bg(n,1)}}finally{ob(t)}}function bO(n,e,t,r){if(Ga(e))return;let i=e[ne],o=!1,s=!1;_m(e);let a=!0,u=null,l=null;o||(NT(n)?(l=gO(e),u=Bu(l)):Ap()===null?(a=!1,l=_O(e),u=Bu(l)):e[Xt]&&(kp(e[Xt]),e[Xt]=null));try{yD(e),yx(n.bindingStartIndex),t!==null&&ET(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let m=n.preOrderCheckHooks;m!==null&&Dl(e,m,null)}else{let m=n.preOrderHooks;m!==null&&Tl(e,m,0,null),ag(e,0)}if(s||DO(e),PT(e),kT(e,0),n.contentQueries!==null&&cT(n,e),!o)if(h){let m=n.contentCheckHooks;m!==null&&Dl(e,m)}else{let m=n.contentHooks;m!==null&&Tl(e,m,1),ag(e,1)}CO(n,e);let p=n.components;p!==null&&FT(e,p,0);let y=n.viewQuery;if(y!==null&&Vg(2,y,r),!o)if(h){let m=n.viewCheckHooks;m!==null&&Dl(e,m)}else{let m=n.viewHooks;m!==null&&Tl(e,m,2),ag(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[og]){for(let m of e[og])m();e[og]=null}o||(RT(e),e[ne]&=-73)}catch(h){throw o||ad(e),h}finally{l!==null&&(Pp(l,u),a&&yO(l)),Im()}}function kT(n,e){for(let t=tT(n);t!==null;t=nT(t))for(let r=zt;r<t.length;r++){let i=t[r];OT(i,e)}}function DO(n){for(let e=tT(n);e!==null;e=nT(e)){if(!(e[ne]&2))continue;let t=e[Wo];for(let r=0;r<t.length;r++){let i=t[r];vD(i)}}}function TO(n,e,t){Pe(18);let r=jn(e,n);OT(r,t),Pe(19,r[Vt])}function OT(n,e){gm(n)&&Bg(n,e)}function Bg(n,e){let r=n[ue],i=n[ne],o=n[Xt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&xp(o)),s||=!1,o&&(o.dirty=!1),n[ne]&=-9217,s)bO(r,n,r.template,n[Vt]);else if(i&8192){PT(n),kT(n,1);let a=r.components;a!==null&&FT(n,a,1),RT(n)}}function FT(n,e,t){for(let r=0;r<e.length;r++)TO(n,e[r],t)}function CO(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)xi(~i);else{let o=i,s=t[++r],a=t[++r];Ix(s,o);let u=e[o];Pe(24,u),a(2,u),Pe(25,u)}}}finally{xi(-1)}}function Wm(n,e){let t=bD()?64:1088;for(n[dr].changeDetectionScheduler?.notify(e);n;){n[ne]|=t;let r=Pi(n);if(Vl(n)&&!r)return n;n=r}return null}function LT(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function SO(n,e,t,r=!0){let i=e[ue];if(AO(i,e,n,t),r){let s=Ug(t,n),a=e[nt],u=a.parentNode(n[Ni]);u!==null&&nO(i,n[yn],a,e,u,s)}let o=e[kl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function $g(n,e){if(n.length<=zt)return;let t=zt+e,r=n[t];if(r){let i=r[Mi];i!==null&&i!==n&&Hm(i,r),e>0&&(n[t-1][mn]=r[mn]);let o=Pl(n,zt+e);tO(r[ue],r);let s=o[hr];s!==null&&s.detachView(o[ue]),r[Et]=null,r[mn]=null,r[ne]&=-129}return r}function AO(n,e,t,r){let i=zt+r,o=t.length;r>0&&(t[i-1][mn]=e),r<o-zt?(e[mn]=t[i],Zb(t,zt+r,e)):(t.push(e),e[mn]=null),e[Et]=t;let s=e[Mi];s!==null&&t!==s&&VT(s,e);let a=e[hr];a!==null&&a.insertView(n),Tg(e),e[ne]|=128}function VT(n,e){let t=n[Wo],r=e[Et];if(Zr(r))n[ne]|=2;else{let i=r[Et][Fn];e[Fn]!==i&&(n[ne]|=2)}t===null?n[Wo]=[e]:t.push(e)}var $a=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[ue];return Kl(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Vt]}set context(e){this._lView[Vt]=e}get destroyed(){return Ga(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Et];if(_r(e)){let t=e[Ll],r=t?t.indexOf(this):-1;r>-1&&($g(e,r),Pl(t,r))}this._attachedToViewContainer=!1}ST(this._lView[ue],this._lView)}onDestroy(e){_D(this._lView,e)}markForCheck(){Wm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ne]&=-129}reattach(){Tg(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,xT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Vl(this._lView),t=this._lView[Mi];t!==null&&!e&&Hm(t,this._lView),CT(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let t=Vl(this._lView),r=this._lView[Mi];r!==null&&!t&&VT(r,this._lView),Tg(this._lView)}};var Oi=(()=>{class n{static __NG_ELEMENT_ID__=NO}return n})(),RO=Oi,MO=class extends RO{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Xk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new $a(i)}};function NO(){return fd(jt(),we())}function fd(n,e){return n.type&4?new MO(e,n,ns(n,e)):null}function Gm(n,e,t,r,i){let o=n.data[e];if(o===null)o=PO(n,e,t,r,i),_x()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=px();o.injectorIndex=s===null?-1:s.injectorIndex}return Ka(o,!0),o}function PO(n,e,t,r,i){let o=ED(),s=wD(),a=s?o:o&&o.parent,u=n.data[e]=kO(n,a,t,e,r,i);return xO(n,u,o,s),u}function xO(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function kO(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return dx()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var w6=new RegExp(`^(\\d+)*(${ck}|${ak})*(.*)`);var OO=()=>null;function wb(n,e){return OO(n,e)}var FO=class{},jT=class{},Hg=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Lt(e)}.`)}},pd=class{static NULL=new Hg},Ko=class{},ji=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>LO()}return n})();function LO(){let n=we(),e=jt(),t=jn(e.index,n);return(Zr(t)?t:n)[nt]}var VO=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:()=>null})}return n})();var lg={},zg=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=rd(r);let i=this.injector.get(e,lg,r);return i!==lg||t===lg?i:this.parentInjector.get(e,t,r)}};function bb(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Yw(i,a);else if(o==2){let u=a,l=e[++s];r=Yw(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function K(n,e=ce.Default){let t=we();if(t===null)return Z(n,e);let r=jt();return BD(r,t,Rt(n),e)}function UT(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,u=null,l=null,h=UO(s);h===null?a=s:[a,u,l]=h,HO(n,e,t,a,o,u,l)}o!==null&&r!==null&&jO(t,r,o)}function jO(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new $(-301,!1);r.push(e[i],o)}}function UO(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&Ln(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,BO(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function BO(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function $O(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function HO(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let y=0;y<a;y++){let m=r[y];!u&&Ln(m)&&(u=!0,$O(n,t,y)),Rg(Hl(t,e),n,m.type)}QO(t,n.data.length,a);for(let y=0;y<a;y++){let m=r[y];m.providersResolver&&m.providersResolver(m)}let l=!1,h=!1,p=_T(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let y=0;y<a;y++){let m=r[y];if(t.mergedAttrs=Ua(t.mergedAttrs,m.hostAttrs),qO(n,t,e,p,m),KO(p,m,i),s!==null&&s.has(m)){let[M,A]=s.get(m);t.directiveToIndex.set(m.type,[p,M+t.directiveStart,A+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let D=m.type.prototype;!l&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(D.ngOnChanges||D.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}zO(n,t,o)}function zO(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))Db(0,e,i,r),Db(1,e,i,r),Cb(e,r,!1);else{let o=t.get(i);Tb(0,e,o,r),Tb(1,e,o,r),Cb(e,r,!0)}}}function Db(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),BT(e,o)}}function Tb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),BT(e,s)}}function BT(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Cb(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Om(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function qO(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ai(i.type,!0)),s=new ki(o,Ln(i),K);n.blueprint[r]=s,t[r]=s,WO(n,e,r,_T(n,t,i.hostVars,Jr),i)}function WO(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;GO(s)!=a&&s.push(a),s.push(t,r,o)}}function GO(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function KO(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ln(e)&&(t[""]=n)}}function QO(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function $T(n,e,t,r,i,o,s,a){let u=e.consts,l=jl(u,s),h=Gm(e,n,2,r,l);return o&&UT(e,t,h,jl(u,a),i),h.mergedAttrs=Ua(h.mergedAttrs,h.attrs),h.attrs!==null&&bb(h,h.attrs,!1),h.mergedAttrs!==null&&bb(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function HT(n,e){PD(n,e),uD(e)&&n.queries.elementEnd(e)}var Ql=class extends pd{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ho(e);return new Ha(t,this.ngModule)}};function YO(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&dd.SignalBased)!==0};return i&&(o.transform=i),o})}function ZO(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function JO(n,e,t){let r=e instanceof ht?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new zg(t,r):t}function XO(n){let e=n.get(Ko,null);if(e===null)throw new $(407,!1);let t=n.get(VO,null),r=n.get(Go,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function e1(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return gT(e,t,t==="svg"?tx:t==="math"?nx:null)}var Ha=class extends jT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=YO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=ZO(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Ak(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Pe(22);let o=pe(null);try{let s=this.componentDef,a=r?["ng-version","19.2.6"]:Rk(this.componentDef.selectors[0]),u=Fm(0,null,null,1,0,null,null,null,null,[a],null),l=JO(s,i||this.ngModule,e),h=XO(l),p=h.rendererFactory.createRenderer(null,s),y=r?Vk(p,r,s.encapsulation,l):e1(s,p),m=Lm(null,u,null,512|vT(s),null,null,h,p,l,null,aT(y,l,!0));m[en]=y,_m(m);let D=null;try{let M=$T(en,u,m,"#host",()=>[this.componentDef],!0,0);y&&(yT(p,y,M),Ya(y,m)),jm(u,m,M),uT(u,M,m),HT(u,M),t!==void 0&&t1(M,this.ngContentSelectors,t),D=jn(M.index,m),m[Vt]=D[Vt],Bm(u,m,null)}catch(M){throw D!==null&&Fg(D),Fg(m),M}finally{Pe(23),Im()}return new qg(this.componentType,m)}finally{pe(o)}}},qg=class extends FO{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=gD(t[ue],en),this.location=ns(this._tNode,t),this.instance=jn(this._tNode.index,t)[Vt],this.hostView=this.changeDetectorRef=new $a(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Um(r,i[ue],i,e,t);this.previousInputValues.set(e,t);let s=jn(r.index,i);Wm(s,1)}get injector(){return new Si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function t1(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Xr=(()=>{class n{static __NG_ELEMENT_ID__=n1}return n})();function n1(){let n=jt();return qT(n,we())}var r1=Xr,zT=class extends r1{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ns(this._hostTNode,this._hostLView)}get injector(){return new Si(this._hostTNode,this._hostLView)}get parentInjector(){let e=Dm(this._hostTNode,this._hostLView);if(OD(e)){let t=Bl(e,this._hostLView),r=Ul(e),i=t[ue].data[r+8];return new Si(i,t)}else return new Si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Sb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-zt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=wb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Ib(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!ZP(e),a;if(s)a=t;else{let D=t||{};a=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}let u=s?e:new Ha(Ho(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let M=(s?l:this.parentInjector).get(ht,null);M&&(o=M)}let h=Ho(u.componentType??{}),p=wb(this._lContainer,h?.id??null),y=p?.firstChild??null,m=u.create(l,i,y,o);return this.insertImpl(m.hostView,a,Ib(this._hostTNode,p)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(ix(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Et],l=new zT(u,u[yn],u[Et]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return SO(s,i,o,r),e.attachToViewContainerRef(),Zb(dg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Sb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=$g(this._lContainer,t);r&&(Pl(dg(this._lContainer),t),ST(r[ue],r))}detach(e){let t=this._adjustIndex(e,-1),r=$g(this._lContainer,t);return r&&Pl(dg(this._lContainer),t)!=null?new $a(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Sb(n){return n[Ll]}function dg(n){return n[Ll]||(n[Ll]=[])}function qT(n,e){let t,r=e[n.index];return _r(r)?t=r:(t=LT(r,e,null,n),e[n.index]=t,Vm(e,t)),o1(t,e,n,r),new zT(t,n,e)}function i1(n,e){let t=n[nt],r=t.createComment(""),i=Bn(e,n),o=t.parentNode(i);return Gl(t,o,r,t.nextSibling(i),!1),r}var o1=c1,s1=()=>!1;function a1(n,e,t){return s1(n,e,t)}function c1(n,e,t,r){if(n[Ni])return;let i;t.type&8?i=Vn(r):i=i1(e,t),n[Ni]=i}var Wg=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Gg=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Km(e,t).matches!==null&&this.queries[t].setDirty()}},Yl=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=m1(e):this.predicate=e}},Kg=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Qg=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,u1(t,o)),this.matchTNodeWithReadOption(e,t,Cl(t,e,o,!1,!1))}else r===Oi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Cl(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===vn||i===Xr||i===Oi&&t.type&4)this.addMatch(t.index,-2);else{let o=Cl(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function u1(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function l1(n,e){return n.type&11?ns(n,e):n.type&4?fd(n,e):null}function d1(n,e,t,r){return t===-1?l1(e,n):t===-2?h1(n,e,r):Ba(n,n[ue],t,e)}function h1(n,e,t){if(t===vn)return ns(e,n);if(t===Oi)return fd(e,n);if(t===Xr)return qT(e,n)}function WT(n,e,t,r){let i=e[hr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(d1(e,h,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function Yg(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=WT(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=zt;p<h.length;p++){let y=h[p];y[Mi]===y[Et]&&Yg(y[ue],y,l,r)}if(h[Wo]!==null){let p=h[Wo];for(let y=0;y<p.length;y++){let m=p[y];Yg(m[ue],m,l,r)}}}}}return r}function f1(n,e){return n[hr].queries[e].queryList}function GT(n,e,t){let r=new Og((t&4)===4);return ax(n,e,r,r.destroy),(e[hr]??=new Gg).queries.push(new Wg(r))-1}function p1(n,e,t){let r=pt();return r.firstCreatePass&&(KT(r,new Yl(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),GT(r,we(),e)}function g1(n,e,t,r){let i=pt();if(i.firstCreatePass){let o=jt();KT(i,new Yl(e,t,r),o.index),y1(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return GT(i,we(),t)}function m1(n){return n.split(",").map(e=>e.trim())}function KT(n,e,t){n.queries===null&&(n.queries=new Kg),n.queries.track(new Qg(e,t))}function y1(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Km(n,e){return n.queries.getByIndex(e)}function v1(n,e){let t=n[ue],r=Km(t,e);return r.crossesNgTemplate?Yg(t,n,e,[]):WT(t,n,r,e)}var Qo=class{},Qm=class{};var Zg=class extends Qo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ql(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=eD(e);this._bootstrapComponents=fT(o.bootstrap),this._r3Injector=zD(e,t,[{provide:Qo,useValue:this},{provide:pd,useValue:this.componentFactoryResolver},...r],Lt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Jg=class extends Qm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Zg(this.moduleType,e,[])}};var Zl=class extends Qo{injector;componentFactoryResolver=new Ql(this);instance=null;constructor(e){super();let t=new Va([...e.providers,{provide:Qo,useValue:this},{provide:pd,useValue:this.componentFactoryResolver}],e.parent||fm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function gd(n,e,t=null){return new Zl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var _1=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=tD(!1,t.type),i=r.length>0?gd([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=W({token:n,providedIn:"environment",factory:()=>new n(Z(ht))})}return n})();function He(n){return qa(()=>{let e=QT(n),t=he(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===XD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(_1).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Un.Emulated,styles:n.styles||Jt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Pm("NgStandalone"),YT(t);let r=n.dependencies;return t.directiveDefs=Ab(r,!1),t.pipeDefs=Ab(r,!0),t.id=D1(t),t})}function I1(n){return Ho(n)||jP(n)}function E1(n){return n!==null}function br(n){return qa(()=>({type:n.type,bootstrap:n.bootstrap||Jt,declarations:n.declarations||Jt,imports:n.imports||Jt,exports:n.exports||Jt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function w1(n,e){if(n==null)return Ri;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=dd.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function b1(n){if(n==null)return Ri;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function rt(n){return qa(()=>{let e=QT(n);return YT(e),e})}function md(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function QT(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Ri,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Jt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:w1(n.inputs,e),outputs:b1(n.outputs),debugInfo:null}}function YT(n){n.features?.forEach(e=>e(n))}function Ab(n,e){if(!n)return null;let t=e?UP:I1;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(E1)}function D1(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function T1(n){return Object.getPrototypeOf(n.prototype).constructor}function Dr(n){let e=T1(n.type),t=!0,r=[n];for(;e;){let i;if(Ln(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=hg(n.inputs),s.declaredInputs=hg(n.declaredInputs),s.outputs=hg(n.outputs);let a=i.hostBindings;a&&M1(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&A1(n,u),l&&R1(n,l),C1(n,i),mP(n.outputs,i.outputs),Ln(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Dr&&(t=!1)}}e=Object.getPrototypeOf(e)}S1(r)}function C1(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function S1(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ua(i.hostAttrs,t=Ua(t,i.hostAttrs))}}function hg(n){return n===Ri?{}:n===Jt?[]:n}function A1(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function R1(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function M1(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function ZT(n){return P1(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function N1(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function P1(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function JT(n,e,t){return n[e]=t}function x1(n,e){return n[e]}function is(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function k1(n,e,t,r,i,o,s,a,u){let l=e.consts,h=Gm(e,n,4,s||null,a||null);ID()&&UT(e,t,h,jl(l,u),DT),h.mergedAttrs=Ua(h.mergedAttrs,h.attrs),PD(e,h);let p=h.tView=Fm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function O1(n,e,t,r,i,o,s,a,u,l){let h=t+en,p=e.firstCreatePass?k1(h,e,n,r,i,o,s,a,u):e.data[h];Ka(p,!1);let y=F1(e,n,p,t);wm()&&zm(e,n,y,p),Ya(y,n);let m=LT(y,n,y,p);return n[h]=m,Vm(n,m),a1(m,p,n),pm(p)&&jm(e,n,p),u!=null&&wT(n,p,l),p}function Fe(n,e,t,r,i,o,s,a){let u=we(),l=pt(),h=jl(l.consts,o);return O1(u,l,n,e,t,r,i,h,s,a),Fe}var F1=L1;function L1(n,e,t,r){return bm(!0),e[nt].createComment("")}var XT=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var e0=new z("");var V1=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:()=>new Xg})}return n})(),Xg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Ui(n){return!!n&&typeof n.then=="function"}function t0(n){return!!n&&typeof n.subscribe=="function"}var j1=new z("");var n0=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=O(j1,{optional:!0})??[];injector=O(Mt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=ft(this.injector,i);if(Ui(o))t.push(o);else if(t0(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ym=new z("");function U1(){Fp(()=>{throw new $(600,!1)})}function B1(n){return n.isBoundToModule}var $1=10;var Fi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=O(Qx);afterRenderManager=O(lk);zonelessEnabled=O(Cm);rootEffectScheduler=O(V1);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new We;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=O(Er).hasPendingTasks.pipe(X(t=>!t));constructor(){O(ld,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=O(ht);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Mt.NULL){Pe(10);let o=t instanceof jT;if(!this._injector.get(n0).done){let m="";throw new $(405,m)}let a;o?a=t:a=this._injector.get(pd).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let u=B1(a)?void 0:this._injector.get(Qo),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,y=h.injector.get(e0,null);return y?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Sl(this.components,h),y?.unregisterApplication(p)}),this._loadComponent(h),Pe(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Pe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(sT.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new $(101,!1);let t=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,pe(t),this.afterTick.next(),Pe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ko,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<$1;)Pe(14),this.synchronizeOnce(),Pe(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)H1(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>sd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Sl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ym,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Sl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new $(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function H1(n,e,t,r){if(!t&&!sd(n))return;xT(n,e,t&&!r?0:1)}function Za(n,e,t,r){let i=we(),o=cd();if(is(i,o,e)){let s=pt(),a=Em();Wk(a,i,n,e,t,r)}return Za}function z1(n,e,t,r){return is(n,cd(),t)?e+nd(t)+r:Jr}function wl(n,e){return n<<17|e<<2}function Li(n){return n>>17&32767}function q1(n){return(n&2)==2}function W1(n,e){return n&131071|e<<17}function em(n){return n|2}function Yo(n){return(n&131068)>>2}function fg(n,e){return n&-131069|e<<2}function G1(n){return(n&1)===1}function tm(n){return n|1}function K1(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Li(s),u=Yo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Wa(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let y=Li(n[a+1]);n[r+1]=wl(y,a),y!==0&&(n[y+1]=fg(n[y+1],r)),n[a+1]=W1(n[a+1],r)}else n[r+1]=wl(a,0),a!==0&&(n[a+1]=fg(n[a+1],r)),a=r;else n[r+1]=wl(u,0),a===0?a=r:n[u+1]=fg(n[u+1],r),u=r;l&&(n[r+1]=em(n[r+1])),Rb(n,h,r,!0),Rb(n,h,r,!1),Q1(e,h,n,r,o),s=wl(a,u),o?e.classBindings=s:e.styleBindings=s}function Q1(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Wa(o,e)>=0&&(t[r+1]=tm(t[r+1]))}function Rb(n,e,t,r){let i=n[t+1],o=e===null,s=r?Li(i):Yo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];Y1(u,e)&&(a=!0,n[s+1]=r?tm(l):em(l)),s=r?Li(l):Yo(l)}a&&(n[t+1]=r?em(i):tm(i))}function Y1(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Wa(n,e)>=0:!1}function se(n,e,t){let r=we(),i=cd();if(is(r,i,e)){let o=pt(),s=Em();bT(o,s,r,n,e,r[nt],t,!1)}return se}function Mb(n,e,t,r,i){Um(e,n,t,i?"class":"style",r)}function wt(n,e){return Z1(n,e,null,!0),wt}function Z1(n,e,t,r){let i=we(),o=pt(),s=vx(2);if(o.firstUpdatePass&&X1(o,n,s,r),e!==Jr&&is(i,s,e)){let a=o.data[es()];iF(o,a,i,i[nt],n,i[s+1]=oF(e,t),r,s)}}function J1(n,e){return e>=n.expandoStartIndex}function X1(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[es()],s=J1(n,t);sF(o,r)&&e===null&&!s&&(e=!1),e=eF(i,o,e,r),K1(i,o,e,t,s,r)}}function eF(n,e,t,r){let i=wx(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=pg(null,n,e,t,r),t=za(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=pg(i,n,e,t,r),o===null){let u=tF(n,e,r);u!==void 0&&Array.isArray(u)&&(u=pg(null,n,e,u[1],r),u=za(u,e.attrs,r),nF(n,e,r,u))}else o=rF(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function tF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Yo(r)!==0)return n[Li(r)]}function nF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Li(i)]=r}function rF(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=za(r,s,t)}return za(r,e.attrs,t)}function pg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=za(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function za(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),LP(n,s,t?!0:e[++o]))}return n===void 0?null:n}function iF(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=G1(l)?Nb(u,e,t,i,Yo(l),s):void 0;if(!Jl(h)){Jl(o)||q1(l)&&(o=Nb(u,null,t,i,a,s));let p=pD(es(),t);fO(r,s,p,i,o)}}function Nb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,y=t[i+1];y===Jr&&(y=p?Jt:void 0);let m=p?rg(y,r):h===r?y:void 0;if(l&&!Jl(m)&&(m=rg(u,r)),Jl(m)&&(a=m,s))return a;let D=n[i+1];i=s?Li(D):Yo(D)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=rg(u,r))}return a}function Jl(n){return n!==void 0}function oF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Lt(xm(n)))),n}function sF(n,e){return(n.flags&(e?8:16))!==0}function P(n,e,t,r){let i=we(),o=pt(),s=en+n,a=i[nt],u=o.firstCreatePass?$T(s,o,i,e,DT,ID(),t,r):o.data[s],l=aF(o,i,u,a,e,n);i[s]=l;let h=pm(u);return Ka(u,!0),yT(a,l,u),!TT(u)&&wm()&&zm(o,i,l,u),(cx()===0||h)&&Ya(l,i),ux(),h&&(jm(o,i,u),uT(o,u,i)),r!==null&&wT(i,u),P}function N(){let n=jt();wD()?gx():(n=n.parent,Ka(n,!1));let e=n;hx(e)&&fx(),lx();let t=pt();return t.firstCreatePass&&HT(t,e),e.classesWithoutHost!=null&&Ax(e)&&Mb(t,e,we(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Rx(e)&&Mb(t,e,we(),e.stylesWithoutHost,!1),N}function Se(n,e,t,r){return P(n,e,t,r),N(),Se}var aF=(n,e,t,r,i,o)=>(bm(!0),gT(r,i,Tx()));function Nt(){return we()}var Xl="en-US";var cF=Xl;function uF(n){typeof n=="string"&&(cF=n.toLowerCase().replace(/_/g,"-"))}function Pb(n,e,t){return function r(i){if(i===Function)return t;let o=Xo(n)?jn(n.index,e):e;Wm(o,5);let s=e[Vt],a=xb(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=xb(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function xb(n,e,t,r){let i=pe(null);try{return Pe(6,e,t),t(r)!==!1}catch(o){return lF(n,o),!1}finally{Pe(7,e,t),pe(i)}}function lF(n,e){let t=n[qo],r=t?t.get(fr,null):null;r&&r.handleError(e)}function kb(n,e,t,r,i,o){let s=e[t],a=e[ue],l=a.data[t].outputs[r],h=s[l],p=a.firstCreatePass?ym(a):null,y=mm(e),m=h.subscribe(o),D=y.length;y.push(o,m),p&&p.push(i,n.index,D,-(D+1))}var dF=(n,e,t)=>{};function ae(n,e,t,r){let i=we(),o=pt(),s=jt();return r0(o,i,i[nt],s,n,e,r),ae}function hF(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Ol],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function r0(n,e,t,r,i,o,s){let a=pm(r),l=n.firstCreatePass?ym(n):null,h=mm(e),p=!0;if(r.type&3||s){let y=Bn(r,e),m=s?s(y):y,D=h.length,M=s?B=>s(Vn(B[r.index])):r.index,A=null;if(!s&&a&&(A=hF(n,e,i,r.index)),A!==null){let B=A.__ngLastListenerFn__||A;B.__ngNextListenerFn__=o,A.__ngLastListenerFn__=o,p=!1}else{o=Pb(r,e,o),dF(m,i,o);let B=t.listen(m,i,o);h.push(o,B),l&&l.push(i,M,D,D+1)}}else o=Pb(r,e,o);if(p){let y=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let D=0;D<m.length;D+=2){let M=m[D],A=m[D+1];kb(r,e,M,A,i,o)}if(y&&y.length)for(let D of y)kb(r,e,D,i,i,o)}}function Ae(n=1){return Dx(n)}function i0(n,e,t,r){g1(n,e,t,r)}function o0(n,e,t){p1(n,e,t)}function yd(n){let e=we(),t=pt(),r=TD();vm(r+1);let i=Km(t,r);if(n.dirty&&rx(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=v1(e,r);n.reset(o,Jx),n.notifyOnChanges()}return!0}return!1}function vd(){return f1(we(),TD())}function fF(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Bi(n){let e=mx();return mD(e,en+n)}function k(n,e=""){let t=we(),r=pt(),i=n+en,o=r.firstCreatePass?Gm(r,i,1,e,null):r.data[i],s=pF(r,t,o,e,n);t[i]=s,wm()&&zm(r,t,s,o),Ka(o,!1)}var pF=(n,e,t,r,i)=>(bm(!0),Mk(e[nt],r));function Le(n){return _n("",n,""),Le}function _n(n,e,t){let r=we(),i=z1(r,n,e,t);return i!==Jr&&gF(r,es(),i),_n}function gF(n,e,t){let r=pD(e,n);Nk(n[nt],r,t)}function tn(n,e,t){ZD(e)&&(e=e());let r=we(),i=cd();if(is(r,i,e)){let o=pt(),s=Em();bT(o,s,r,n,e,r[nt],t,!1)}return tn}function In(n,e){let t=ZD(n);return t&&n.set(e),t}function nn(n,e){let t=we(),r=pt(),i=jt();return r0(r,t,t[nt],i,n,e),nn}function mF(n,e,t){let r=pt();if(r.firstCreatePass){let i=Ln(n);nm(t,r.data,r.blueprint,i,!0),nm(e,r.data,r.blueprint,i,!1)}}function nm(n,e,t,r,i){if(n=Rt(n),Array.isArray(n))for(let o=0;o<n.length;o++)nm(n[o],e,t,r,i);else{let o=pt(),s=we(),a=jt(),u=zo(n)?n:Rt(n.provide),l=iD(n),h=a.providerIndexes&1048575,p=a.directiveStart,y=a.providerIndexes>>20;if(zo(n)||!n.multi){let m=new ki(l,i,K),D=mg(u,e,i?h:h+y,p);D===-1?(Rg(Hl(a,s),o,u),gg(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[D]=m,s[D]=m)}else{let m=mg(u,e,h+y,p),D=mg(u,e,h,h+y),M=m>=0&&t[m],A=D>=0&&t[D];if(i&&!A||!i&&!M){Rg(Hl(a,s),o,u);let B=_F(i?vF:yF,t.length,i,r,l);!i&&A&&(t[D].providerFactory=B),gg(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(B),s.push(B)}else{let B=s0(t[i?D:m],l,!i&&r);gg(o,n,m>-1?m:D,B)}!i&&r&&A&&t[D].componentProviders++}}}function gg(n,e,t,r){let i=zo(e),o=qP(e);if(i||o){let u=(o?Rt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function s0(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function mg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function yF(n,e,t,r){return rm(this.multi,[])}function vF(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ba(t,t[ue],this.providerFactory.index,r);o=a.slice(0,s),rm(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],rm(i,o);return o}function rm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function _F(n,e,t,r,i){let o=new ki(n,t,K);return o.multi=[],o.index=e,o.componentProviders=0,s0(o,i,r&&!t),o}function Ja(n,e=[]){return t=>{t.providersResolver=(r,i)=>mF(r,i?i(n):n,e)}}function os(n,e,t){let r=DD()+n,i=we();return i[r]===Jr?JT(i,r,t?e.call(t):e()):x1(i,r)}function IF(n,e){let t=n[e];return t===Jr?void 0:t}function EF(n,e,t,r,i,o){let s=e+t;return is(n,s,i)?JT(n,s+1,o?r.call(o,i):r(i)):IF(n,s+1)}function En(n,e){let t=pt(),r,i=n+en;t.firstCreatePass?(r=wF(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Ai(r.type,!0)),s,a=Ft(K);try{let u=$l(!1),l=o();return $l(u),fF(t,we(),i,l),l}finally{Ft(a)}}function wF(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function wn(n,e,t){let r=n+en,i=we(),o=mD(i,r);return bF(i,r)?EF(i,DD(),e,o.transform,t,o):o.transform(t)}function bF(n,e){return n[ue].data[e].pure}function a0(n,e){return fd(n,e)}var Zo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},c0=new Zo("19.2.6"),im=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Zm=(()=>{class n{compileModuleSync(t){return new Jg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=eD(t),o=fT(i.declarations).reduce((s,a)=>{let u=Ho(a);return u&&s.push(new Ha(u)),s},[]);return new im(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var DF=(()=>{class n{zone=O(Ce);changeDetectionScheduler=O(Go);applicationRef=O(Fi);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TF=new z("",{factory:()=>!1});function u0({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ce(he(L({},d0()),{scheduleInRootZone:t})),[{provide:Ce,useFactory:n},{provide:La,multi:!0,useFactory:()=>{let r=O(DF,{optional:!0});return()=>r.initialize()}},{provide:La,multi:!0,useFactory:()=>{let r=O(CF);return()=>{r.initialize()}}},e===!0?{provide:WD,useValue:!0}:[],{provide:GD,useValue:t??qD}]}function l0(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=u0({ngZoneFactory:()=>{let i=d0(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Pm("NgZone_CoalesceEvent"),new Ce(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return yr([{provide:TF,useValue:!0},{provide:Cm,useValue:!1},r])}function d0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var CF=(()=>{class n{subscription=new $e;initialized=!1;zone=O(Ce);pendingTasks=O(Er);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var SF=(()=>{class n{appRef=O(Fi);taskService=O(Er);ngZone=O(Ce);zonelessEnabled=O(Cm);tracing=O(ld,{optional:!0});disableScheduling=O(WD,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new $e;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ql):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(GD,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof kg||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?db:KD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ql+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,db(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AF(){return typeof $localize<"u"&&$localize.locale||Xl}var Jm=new z("",{providedIn:"root",factory:()=>O(Jm,ce.Optional|ce.SkipSelf)||AF()});var om=new z(""),RF=new z("");function xa(n){return!n.moduleRef}function MF(n){let e=xa(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ce);return t.run(()=>{xa(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(fr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),xa(n)){let o=()=>e.destroy(),s=n.platformInjector.get(om);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(om);s.add(o),n.moduleRef.onDestroy(()=>{Sl(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return PF(r,t,()=>{let o=e.get(n0);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Jm,Xl);if(uF(s||Xl),!e.get(RF,!0))return xa(n)?e.get(Fi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(xa(n)){let u=e.get(Fi);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return NF(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function NF(n,e){let t=n.injector.get(Fi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new $(-403,!1);e.push(n)}function PF(n,e,t){try{let r=t();return Ui(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Al=null;function xF(n=[],e){return Mt.create({name:e,providers:[{provide:id,useValue:"platform"},{provide:om,useValue:new Set([()=>Al=null])},...n]})}function kF(n=[]){if(Al)return Al;let e=xF(n);return Al=e,U1(),OF(e),e}function OF(n){let e=n.get(Mm,null);ft(n,()=>{e?.forEach(t=>t())})}function Xm(){return!1}var $i=(()=>{class n{static __NG_ELEMENT_ID__=FF}return n})();function FF(n){return LF(jt(),we(),(n&16)===16)}function LF(n,e,t){if(Xo(n)&&!t){let r=jn(n.index,e);return new $a(r,r)}else if(n.type&175){let r=e[Fn];return new $a(r,e)}return null}var sm=class{constructor(){}supports(e){return ZT(e)}create(e){return new am(e)}},VF=(n,e)=>e,am=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||VF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Ob(r,i,o)?t:r,a=Ob(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let y=0;y<l;y++){let m=y<o.length?o[y]:o[y]=0,D=m+y;h<=D&&D<l&&(o[y]=m+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!ZT(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,N1(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new cm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new ed),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ed),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},cm=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},um=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},ed=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new um,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Ob(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function Fb(){return new ey([new sm])}var ey=(()=>{class n{factories;static \u0275prov=W({token:n,providedIn:"root",factory:Fb});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Fb()),deps:[[n,new xP,new mr]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new $(901,!1)}}return n})();function h0(n){Pe(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=kF(r),o=[u0({}),{provide:Go,useExisting:SF},...t||[]],s=new Zl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return MF({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Pe(9)}}function Hi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function $n(n){return jp(n)}function ss(n,e){return Op(n,e?.equal)}var Lb=class{[Zt];constructor(e){this[Zt]=e}destroy(){this[Zt].destroy()}};var it=new z("");var g0=null;function rn(){return g0}function ty(n){g0??=n}var Xa=class{},ny=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>O(m0),providedIn:"platform"})}return n})();var m0=(()=>{class n extends ny{_location;_history;_doc=O(it);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rn().getBaseHref(this._doc)}onPopState(t){let r=rn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=rn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function y0(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function f0(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function ei(n){return n&&n[0]!=="?"?`?${n}`:n}var as=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>O(_0),providedIn:"root"})}return n})(),v0=new z(""),_0=(()=>{class n extends as{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(it).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return y0(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+ei(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ei(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ei(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Z(ny),Z(v0,8))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cs=(()=>{class n{_subject=new We;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=BF(f0(p0(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ei(r))}normalize(t){return n.stripTrailingSlash(UF(this._basePath,p0(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ei(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ei(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ei;static joinWithSlash=y0;static stripTrailingSlash=f0;static \u0275fac=function(r){return new(r||n)(Z(as))};static \u0275prov=W({token:n,factory:()=>jF(),providedIn:"root"})}return n})();function jF(){return new cs(Z(as))}function UF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function p0(n){return n.replace(/\/index.html$/,"")}function BF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var _d=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},on=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new _d(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),I0(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);I0(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(K(Xr),K(Oi),K(ey))};static \u0275dir=rt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function I0(n,e){n.context.$implicit=e.item}var Tr=(()=>{class n{_viewContainer;_context=new Id;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){E0(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){E0(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(K(Xr),K(Oi))};static \u0275dir=rt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Id=class{$implicit=null;ngIf=null};function E0(n,e){if(n&&!n.createEmbeddedView)throw new $(2020,!1)}function $F(n,e){return new $(2100,!1)}var HF=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,bn=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw $F(n,t);return t.replace(HF,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=md({name:"titlecase",type:n,pure:!0})}return n})();var bt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=br({type:n});static \u0275inj=gr({})}return n})();function ec(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ry="browser",w0="server";function Ed(n){return n===w0}var zi=class{};var Dd=new z(""),ay=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Z(Dd),Z(Ce))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),tc=class{_doc;constructor(e){this._doc=e}manager},wd="ng-app-id";function b0(n){for(let e of n)e.remove()}function D0(n,e){let t=e.createElement("style");return t.textContent=n,t}function zF(n,e,t,r){let i=n.head?.querySelectorAll(`style[${wd}="${e}"],link[${wd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(wd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function oy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var cy=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Ed(o),zF(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,D0);r?.forEach(i=>this.addUsage(i,this.external,oy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(b0(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])b0(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,D0(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,oy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(wd,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Z(it),Z(Rm),Z(Nm,8),Z(wr))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),iy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},uy=/%COMP%/g;var C0="%COMP%",qF=`_nghost-${C0}`,WF=`_ngcontent-${C0}`,GF=!0,KF=new z("",{providedIn:"root",factory:()=>GF});function QF(n){return WF.replace(uy,n)}function YF(n){return qF.replace(uy,n)}function S0(n,e){return e.map(t=>t.replace(uy,n))}var ly=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=Ed(a),this.defaultRenderer=new nc(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Un.ShadowDom&&(r=he(L({},r),{encapsulation:Un.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof bd?i.applyToHost(t):i instanceof rc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case Un.Emulated:o=new bd(u,l,r,this.appId,h,s,a,p,y);break;case Un.ShadowDom:return new sy(u,l,t,r,s,a,this.nonce,p,y);default:o=new rc(u,l,r,h,s,a,p,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Z(ay),Z(cy),Z(Rm),Z(KF),Z(it),Z(wr),Z(Ce),Z(Nm),Z(ld,8))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),nc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(iy[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(T0(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(T0(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=iy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=iy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(pr.DashCase|pr.Important)?e.style.setProperty(t,r,i&pr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&pr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=rn().getGlobalEventTarget(this.doc,e),!e))throw new $(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function T0(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var sy=class extends nc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=S0(i.id,h);for(let y of h){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=y,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let y of p){let m=oy(y,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},rc=class extends nc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?S0(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},bd=class extends rc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=QF(h),this.hostAttr=YF(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Td=class n extends Xa{supportsDOMEvents=!0;static makeCurrent(){ty(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=ZF();return t==null?null:JF(t)}resetBaseElement(){ic=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ec(document.cookie,e)}},ic=null;function ZF(){return ic=ic||document.querySelector("base"),ic?ic.getAttribute("href"):null}function JF(n){return new URL(n,document.baseURI).pathname}var XF=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),R0=(()=>{class n extends tc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Z(it))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),A0=["alt","control","meta","shift"],eL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},M0=(()=>{class n extends tc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),A0.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=eL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),A0.forEach(s=>{if(s!==i){let a=tL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Z(it))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();function dy(n,e){return h0(L({rootComponent:n},nL(e)))}function nL(n){return{appProviders:[...aL,...n?.providers??[]],platformProviders:sL}}function rL(){Td.makeCurrent()}function iL(){return new fr}function oL(){return iT(document),document}var sL=[{provide:wr,useValue:ry},{provide:Mm,useValue:rL,multi:!0},{provide:it,useFactory:oL}];var aL=[{provide:id,useValue:"root"},{provide:fr,useFactory:iL},{provide:Dd,useClass:R0,multi:!0,deps:[it]},{provide:Dd,useClass:M0,multi:!0,deps:[it]},ly,cy,ay,{provide:Ko,useExisting:ly},{provide:zi,useClass:XF},[]];var us=class{},ls=class{},Sr=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Ad=class{encodeKey(e){return N0(e)}encodeValue(e){return N0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function cL(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var uL=/%(\d[a-f0-9])/gi,lL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function N0(n){return encodeURIComponent(n).replace(uL,(e,t)=>lL[t]??e)}function Cd(n){return`${n}`}var ti=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Ad,e.fromString){if(e.fromObject)throw new $(2805,!1);this.map=cL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Cd):[Cd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Cd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Cd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Rd=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function dL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function P0(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function x0(n){return typeof Blob<"u"&&n instanceof Blob}function k0(n){return typeof FormData<"u"&&n instanceof FormData}function hL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var oc="Content-Type",Md="Accept",my="X-Request-URL",F0="text/plain",L0="application/json",V0=`${L0}, ${F0}, */*`,sc=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(dL(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Sr,this.context??=new Rd,!this.params)this.params=new ti,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||P0(this.body)||x0(this.body)||k0(this.body)||hL(this.body)?this.body:this.body instanceof ti?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||k0(this.body)?null:x0(this.body)?this.body.type||null:P0(this.body)?null:typeof this.body=="string"?F0:this.body instanceof ti?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?L0:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((y,m)=>y.set(m,e.setHeaders[m]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((y,m)=>y.set(m,e.setParams[m]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},ni=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ni||{}),ds=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Sr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ac=class n extends ds{constructor(e={}){super(e)}type=ni.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},cc=class n extends ds{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=ni.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Cr=class extends ds{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},j0=200,fL=204;function hy(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var pL=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof sc)o=t;else{let u;i.headers instanceof Sr?u=i.headers:u=new Sr(i.headers);let l;i.params&&(i.params instanceof ti?l=i.params:l=new ti({fromObject:i.params})),o=new sc(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Y(o).pipe(cr(u=>this.handler.handle(u)));if(t instanceof sc||i.observe==="events")return s;let a=s.pipe(At(u=>u instanceof cc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(X(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new $(2806,!1);return u.body}));case"blob":return a.pipe(X(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new $(2807,!1);return u.body}));case"text":return a.pipe(X(u=>{if(u.body!==null&&typeof u.body!="string")throw new $(2808,!1);return u.body}));case"json":default:return a.pipe(X(u=>u.body))}case"response":return a;default:throw new $(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new ti().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,hy(i,r))}post(t,r,i={}){return this.request("POST",t,hy(i,r))}put(t,r,i={}){return this.request("PUT",t,hy(i,r))}static \u0275fac=function(r){return new(r||n)(Z(us))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),gL=/^\)\]\}',?\n/;function O0(n){if(n.url)return n.url;let e=my.toLocaleLowerCase();return n.headers.get(e)}var U0=new z(""),Sd=(()=>{class n{fetchImpl=O(fy,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t));ngZone=O(Ce);handle(t){return new oe(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(py,o=>r.error(new Cr({error:o}))),()=>i.abort()})}doRequest(t,r,i){return C(this,null,function*(){let o=this.createRequestInit(t),s;try{let m=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,L({signal:r},o)));mL(m),i.next({type:ni.Sent}),s=yield m}catch(m){i.error(new Cr({error:m,status:m.status??0,statusText:m.statusText,url:t.urlWithParams,headers:m.headers}));return}let a=new Sr(s.headers),u=s.statusText,l=O0(s)??t.urlWithParams,h=s.status,p=null;if(t.reportProgress&&i.next(new ac({headers:a,status:h,statusText:u,url:l})),s.body){let m=s.headers.get("content-length"),D=[],M=s.body.getReader(),A=0,B,J,q=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>C(this,null,function*(){for(;;){let{done:Ue,value:ye}=yield M.read();if(Ue)break;if(D.push(ye),A+=ye.length,t.reportProgress){J=t.responseType==="text"?(J??"")+(B??=new TextDecoder).decode(ye,{stream:!0}):void 0;let w=()=>i.next({type:ni.DownloadProgress,total:m?+m:void 0,loaded:A,partialText:J});q?q.run(w):w()}}}));let Ee=this.concatChunks(D,A);try{let Ue=s.headers.get(oc)??"";p=this.parseBody(t,Ee,Ue)}catch(Ue){i.error(new Cr({error:Ue,headers:new Sr(s.headers),status:s.status,statusText:s.statusText,url:O0(s)??t.urlWithParams}));return}}h===0&&(h=p?j0:0),h>=200&&h<300?(i.next(new cc({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Cr({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(gL,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has(Md)||(r[Md]=V0),!t.headers.has(oc)){let o=t.detectContentTypeHeader();o!==null&&(r[oc]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),fy=class{};function py(){}function mL(n){n.then(py,py)}function yL(n,e){return e(n)}function vL(n,e,t){return(r,i)=>ft(t,()=>e(r,o=>n(o,i)))}var B0=new z(""),_L=new z(""),$0=new z("",{providedIn:"root",factory:()=>!0});var Nd=(()=>{class n extends us{backend;injector;chain=null;pendingTasks=O(Er);contributeToStability=O($0);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(B0),...this.injector.get(_L,[])]));this.chain=r.reduceRight((i,o)=>vL(i,o,this.injector),yL)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ti(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Z(ls),Z(ht))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();var IL=/^\)\]\}',?\n/,EL=RegExp(`^${my}:`,"m");function wL(n){return"responseURL"in n&&n.responseURL?n.responseURL:EL.test(n.getAllResponseHeaders())?n.getResponseHeader(my):null}var gy=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new $(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ne(r.\u0275loadImpl()):Y(null)).pipe(Ht(()=>new oe(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((M,A)=>s.setRequestHeader(M,A.join(","))),t.headers.has(Md)||s.setRequestHeader(Md,V0),!t.headers.has(oc)){let M=t.detectContentTypeHeader();M!==null&&s.setRequestHeader(oc,M)}if(t.responseType){let M=t.responseType.toLowerCase();s.responseType=M!=="json"?M:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let M=s.statusText||"OK",A=new Sr(s.getAllResponseHeaders()),B=wL(s)||t.url;return u=new ac({headers:A,status:s.status,statusText:M,url:B}),u},h=()=>{let{headers:M,status:A,statusText:B,url:J}=l(),q=null;A!==fL&&(q=typeof s.response>"u"?s.responseText:s.response),A===0&&(A=q?j0:0);let Ee=A>=200&&A<300;if(t.responseType==="json"&&typeof q=="string"){let Ue=q;q=q.replace(IL,"");try{q=q!==""?JSON.parse(q):null}catch(ye){q=Ue,Ee&&(Ee=!1,q={error:ye,text:q})}}Ee?(o.next(new cc({body:q,headers:M,status:A,statusText:B,url:J||void 0})),o.complete()):o.error(new Cr({error:q,headers:M,status:A,statusText:B,url:J||void 0}))},p=M=>{let{url:A}=l(),B=new Cr({error:M,status:s.status||0,statusText:s.statusText||"Unknown Error",url:A||void 0});o.error(B)},y=!1,m=M=>{y||(o.next(l()),y=!0);let A={type:ni.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(A.total=M.total),t.responseType==="text"&&s.responseText&&(A.partialText=s.responseText),o.next(A)},D=M=>{let A={type:ni.UploadProgress,loaded:M.loaded};M.lengthComputable&&(A.total=M.total),o.next(A)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",D)),s.send(a),o.next({type:ni.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",D)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(Z(zi))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),H0=new z(""),bL="XSRF-TOKEN",DL=new z("",{providedIn:"root",factory:()=>bL}),TL="X-XSRF-TOKEN",CL=new z("",{providedIn:"root",factory:()=>TL}),uc=class{},SL=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ec(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(Z(it),Z(wr),Z(DL))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();function AL(n,e){let t=n.url.toLowerCase();if(!O(H0)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=O(uc).getToken(),i=O(CL);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var yy=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(yy||{});function RL(n,e){return{\u0275kind:n,\u0275providers:e}}function vy(...n){let e=[pL,gy,Nd,{provide:us,useExisting:Nd},{provide:ls,useFactory:()=>O(U0,{optional:!0})??O(gy)},{provide:B0,useValue:AL,multi:!0},{provide:H0,useValue:!0},{provide:uc,useClass:SL}];for(let t of n)e.push(...t.\u0275providers);return yr(e)}function _y(){return RL(yy.Fetch,[Sd,{provide:U0,useExisting:Sd},{provide:ls,useExisting:Sd}])}var z0=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Z(it))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ie="primary",bc=Symbol("RouteTitle"),Dy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ki(n){return new Dy(n)}function J0(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function NL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Hn(n[t],e[t]))return!1;return!0}function Hn(n,e){let t=n?Ty(n):void 0,r=e?Ty(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!X0(n[i],e[i]))return!1;return!0}function Ty(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function X0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function eC(n){return n.length>0?n[n.length-1]:null}function oi(n){return Xp(n)?n:Ui(n)?Ne(Promise.resolve(n)):Y(n)}var PL={exact:nC,subset:rC},tC={exact:xL,subset:kL,ignored:()=>!0};function q0(n,e,t){return PL[t.paths](n.root,e.root,t.matrixParams)&&tC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function xL(n,e){return Hn(n,e)}function nC(n,e,t){if(!Wi(n.segments,e.segments)||!kd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!nC(n.children[r],e.children[r],t))return!1;return!0}function kL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>X0(n[t],e[t]))}function rC(n,e,t){return iC(n,e,e.segments,t)}function iC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Wi(i,t)||e.hasChildren()||!kd(i,t,r))}else if(n.segments.length===t.length){if(!Wi(n.segments,t)||!kd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!rC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Wi(n.segments,i)||!kd(n.segments,i,r)||!n.children[ie]?!1:iC(n.children[ie],e,o,r)}}function kd(n,e,t){return e.every((r,i)=>tC[t](n[i].parameters,r.parameters))}var qn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new be([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ki(this.queryParams),this._queryParamMap}toString(){return LL.serialize(this)}},be=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Od(this)}},ri=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ki(this.parameters),this._parameterMap}toString(){return sC(this)}};function OL(n,e){return Wi(n,e)&&n.every((t,r)=>Hn(t.parameters,e[r].parameters))}function Wi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function FL(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ie&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ie&&(t=t.concat(e(i,r)))}),t}var Dc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>new Qi,providedIn:"root"})}return n})(),Qi=class{parse(e){let t=new Sy(e);return new qn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${lc(e.root,!0)}`,r=UL(e.queryParams),i=typeof e.fragment=="string"?`#${VL(e.fragment)}`:"";return`${t}${r}${i}`}},LL=new Qi;function Od(n){return n.segments.map(e=>sC(e)).join("/")}function lc(n,e){if(!n.hasChildren())return Od(n);if(e){let t=n.children[ie]?lc(n.children[ie],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ie&&r.push(`${i}:${lc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=FL(n,(r,i)=>i===ie?[lc(n.children[ie],!1)]:[`${i}:${lc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ie]!=null?`${Od(n)}/${t[0]}`:`${Od(n)}/(${t.join("//")})`}}function oC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pd(n){return oC(n).replace(/%3B/gi,";")}function VL(n){return encodeURI(n)}function Cy(n){return oC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fd(n){return decodeURIComponent(n)}function W0(n){return Fd(n.replace(/\+/g,"%20"))}function sC(n){return`${Cy(n.path)}${jL(n.parameters)}`}function jL(n){return Object.entries(n).map(([e,t])=>`;${Cy(e)}=${Cy(t)}`).join("")}function UL(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Pd(t)}=${Pd(i)}`).join("&"):`${Pd(t)}=${Pd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var BL=/^[^\/()?;#]+/;function Iy(n){let e=n.match(BL);return e?e[0]:""}var $L=/^[^\/()?;=#]+/;function HL(n){let e=n.match($L);return e?e[0]:""}var zL=/^[^=?&#]+/;function qL(n){let e=n.match(zL);return e?e[0]:""}var WL=/^[^&#]+/;function GL(n){let e=n.match(WL);return e?e[0]:""}var Sy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ie]=new be(e,t)),r}parseSegment(){let e=Iy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new ri(Fd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=HL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Iy(this.remaining);i&&(r=i,this.capture(r))}e[Fd(t)]=Fd(r)}parseQueryParam(e){let t=qL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=GL(this.remaining);s&&(r=s,this.capture(r))}let i=W0(t),o=W0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Iy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ie);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ie]:new be([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function aC(n){return n.segments.length>0?new be([],{[ie]:n}):n}function cC(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=cC(i);if(r===ie&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new be(n.segments,e);return KL(t)}function KL(n){if(n.numberOfChildren===1&&n.children[ie]){let e=n.children[ie];return new be(n.segments.concat(e.segments),e.children)}return n}function ii(n){return n instanceof qn}function uC(n,e,t=null,r=null){let i=lC(n);return dC(i,e,t,r)}function lC(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new be(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=aC(r);return e??i}function dC(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Ey(i,i,i,t,r);let o=QL(e);if(o.toRoot())return Ey(i,i,new be([],{}),t,r);let s=YL(o,i,n),a=s.processChildren?hc(s.segmentGroup,s.index,o.commands):fC(s.segmentGroup,s.index,o.commands);return Ey(i,s.segmentGroup,a,t,r)}function Vd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function pc(n){return typeof n=="object"&&n!=null&&n.outlets}function Ey(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=hC(n,e,t);let a=aC(cC(s));return new qn(a,o,i)}function hC(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=hC(o,e,t)}),new be(n.segments,r)}var jd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Vd(r[0]))throw new $(4003,!1);let i=r.find(pc);if(i&&i!==eC(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function QL(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new jd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new jd(t,e,r)}var ps=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function YL(n,e,t){if(n.isAbsolute)return new ps(e,!0,0);if(!t)return new ps(e,!1,NaN);if(t.parent===null)return new ps(t,!0,0);let r=Vd(n.commands[0])?0:1,i=t.segments.length-1+r;return ZL(t,i,n.numberOfDoubleDots)}function ZL(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new ps(r,!1,i-o)}function JL(n){return pc(n[0])?n[0].outlets:{[ie]:n}}function fC(n,e,t){if(n??=new be([],{}),n.segments.length===0&&n.hasChildren())return hc(n,e,t);let r=XL(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new be(n.segments.slice(0,r.pathIndex),{});return o.children[ie]=new be(n.segments.slice(r.pathIndex),n.children),hc(o,0,i)}else return r.match&&i.length===0?new be(n.segments,{}):r.match&&!n.hasChildren()?Ay(n,e,t):r.match?hc(n,0,i):Ay(n,e,t)}function hc(n,e,t){if(t.length===0)return new be(n.segments,{});{let r=JL(t),i={};if(Object.keys(r).some(o=>o!==ie)&&n.children[ie]&&n.numberOfChildren===1&&n.children[ie].segments.length===0){let o=hc(n.children[ie],e,t);return new be(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=fC(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new be(n.segments,i)}}function XL(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(pc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!K0(u,l,s))return o;r+=2}else{if(!K0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ay(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(pc(o)){let u=eV(o.outlets);return new be(r,u)}if(i===0&&Vd(t[0])){let u=n.segments[e];r.push(new ri(u.path,G0(t[0]))),i++;continue}let s=pc(o)?o.outlets[ie]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Vd(a)?(r.push(new ri(s,G0(a))),i+=2):(r.push(new ri(s,{})),i++)}return new be(r,{})}function eV(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Ay(new be([],{}),0,r))}),e}function G0(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function K0(n,e,t){return n==t.path&&Hn(e,t.parameters)}var Ld="imperative",ot=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ot||{}),Wt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Yi=class extends Wt{type=ot.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Tn=class extends Wt{urlAfterRedirects;type=ot.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ut=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ut||{}),gc=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(gc||{}),zn=class extends Wt{reason;code;type=ot.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ar=class extends Wt{reason;code;type=ot.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ms=class extends Wt{error;target;type=ot.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},mc=class extends Wt{urlAfterRedirects;state;type=ot.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ud=class extends Wt{urlAfterRedirects;state;type=ot.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bd=class extends Wt{urlAfterRedirects;state;shouldActivate;type=ot.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$d=class extends Wt{urlAfterRedirects;state;type=ot.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hd=class extends Wt{urlAfterRedirects;state;type=ot.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zd=class{route;type=ot.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},qd=class{route;type=ot.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wd=class{snapshot;type=ot.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gd=class{snapshot;type=ot.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kd=class{snapshot;type=ot.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qd=class{snapshot;type=ot.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var yc=class{},ys=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function tV(n,e){return n.providers&&!n._injector&&(n._injector=gd(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Dn(n){return n.outlet||ie}function nV(n,e){let t=n.filter(r=>Dn(r)===e);return t.push(...n.filter(r=>Dn(r)!==e)),t}function Tc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Yd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Tc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Is(this.rootInjector)}},Is=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Yd(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Z(ht))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Ry(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Ry(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=My(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return My(e,this._root).map(t=>t.value)}};function Ry(n,e){if(n===e.value)return e;for(let t of e.children){let r=Ry(n,t);if(r)return r}return null}function My(n,e){if(n===e.value)return[e];for(let t of e.children){let r=My(n,t);if(r.length)return r.unshift(e),r}return[]}var qt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function fs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var vc=class extends Zd{snapshot;constructor(e,t){super(e),this.snapshot=t,Vy(this,e)}toString(){return this.snapshot.toString()}};function pC(n){let e=rV(n),t=new lt([new ri("",{})]),r=new lt({}),i=new lt({}),o=new lt({}),s=new lt(""),a=new Cn(t,r,o,s,i,ie,n,e.root);return a.snapshot=e.root,new vc(new qt(a,[]),e)}function rV(n){let e={},t={},r={},i="",o=new Gi([],e,r,i,t,ie,n,null,{});return new _c("",new qt(o,[]))}var Cn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(X(l=>l[bc]))??Y(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>Ki(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>Ki(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Jd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&mC(i)&&(r.resolve[bc]=i.title),r}var Gi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[bc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ki(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ki(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},_c=class extends Zd{url;constructor(e,t){super(t),this.url=e,Vy(this,t)}toString(){return gC(this._root)}};function Vy(n,e){e.value._routerState=n,e.children.forEach(t=>Vy(n,t))}function gC(n){let e=n.children.length>0?` { ${n.children.map(gC).join(", ")} } `:"";return`${n.value}${e}`}function wy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Hn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Hn(e.params,t.params)||n.paramsSubject.next(t.params),NL(e.url,t.url)||n.urlSubject.next(t.url),Hn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ny(n,e){let t=Hn(n.params,e.params)&&OL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Ny(n.parent,e.parent))}function mC(n){return typeof n.title=="string"||n.title===null}var yC=new z(""),Cc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ie;activateEvents=new Ye;deactivateEvents=new Ye;attachEvents=new Ye;detachEvents=new Ye;routerOutletData=YD(void 0);parentContexts=O(Is);location=O(Xr);changeDetector=O($i);inputBinder=O(nh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Py(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=rt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ir]})}return n})(),Py=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Cn?this.route:e===Is?this.childContexts:e===yC?this.outletData:this.parent.get(e,t)}},nh=new z("");function iV(n,e,t){let r=Ic(n,e._root,t?t._root:void 0);return new vc(r,e)}function Ic(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=oV(n,e,t);return new qt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ic(n,a)),s}}let r=sV(e.value),i=e.children.map(o=>Ic(n,o));return new qt(r,i)}}function oV(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ic(n,r,i);return Ic(n,r)})}function sV(n){return new Cn(new lt(n.url),new lt(n.params),new lt(n.queryParams),new lt(n.fragment),new lt(n.data),n.outlet,n.component,n)}var vs=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},vC="ngNavigationCancelingError";function Xd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ii(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=_C(!1,Ut.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function _C(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[vC]=!0,t.cancellationCode=e,t}function aV(n){return IC(n)&&ii(n.url)}function IC(n){return!!n&&n[vC]}var cV=(n,e,t,r)=>X(i=>(new xy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),xy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),wy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=fs(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=fs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=fs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=fs(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Qd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Gd(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(wy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),wy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},eh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},gs=class{component;route;constructor(e,t){this.component=e,this.route=t}};function uV(n,e,t){let r=n._root,i=e?e._root:null;return dc(r,i,t,[r.value])}function lV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Es(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Hb(n)?n:e.get(n):r}function dc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=fs(e);return n.children.forEach(s=>{dV(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>fc(a,t.getContext(s),i)),i}function dV(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=hV(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new eh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?dc(n,e,a?a.children:null,r,i):dc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new gs(a.outlet.component,s))}else s&&fc(e,a,i),i.canActivateChecks.push(new eh(r)),o.component?dc(n,null,a?a.children:null,r,i):dc(n,null,t,r,i);return i}function hV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Wi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Wi(n.url,e.url)||!Hn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ny(n,e)||!Hn(n.queryParams,e.queryParams);case"paramsChange":default:return!Ny(n,e)}}function fc(n,e,t){let r=fs(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?fc(s,e.children.getContext(o),t):fc(s,null,t):fc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new gs(e.outlet.component,i)):t.canDeactivateChecks.push(new gs(null,i)):t.canDeactivateChecks.push(new gs(null,i))}function Sc(n){return typeof n=="function"}function fV(n){return typeof n=="boolean"}function pV(n){return n&&Sc(n.canLoad)}function gV(n){return n&&Sc(n.canActivate)}function mV(n){return n&&Sc(n.canActivateChild)}function yV(n){return n&&Sc(n.canDeactivate)}function vV(n){return n&&Sc(n.canMatch)}function EC(n){return n instanceof sr||n?.name==="EmptyError"}var xd=Symbol("INITIAL_VALUE");function _s(){return Ht(n=>gl(n.map(e=>e.pipe(ur(1),_l(xd)))).pipe(X(e=>{for(let t of e)if(t!==!0){if(t===xd)return xd;if(t===!1||_V(t))return t}return!0}),At(e=>e!==xd),ur(1)))}function _V(n){return ii(n)||n instanceof vs}function IV(n,e){return Qe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Y(he(L({},t),{guardsResult:!0})):EV(s,r,i,n).pipe(Qe(a=>a&&fV(a)?wV(r,o,n,e):Y(a)),X(a=>he(L({},t),{guardsResult:a})))})}function EV(n,e,t,r){return Ne(n).pipe(Qe(i=>SV(i.component,i.route,t,e,r)),lr(i=>i!==!0,!0))}function wV(n,e,t,r){return Ne(e).pipe(cr(i=>Lo(DV(i.route.parent,r),bV(i.route,r),CV(n,i.path,t),TV(n,i.route,t))),lr(i=>i!==!0,!0))}function bV(n,e){return n!==null&&e&&e(new Kd(n)),Y(!0)}function DV(n,e){return n!==null&&e&&e(new Wd(n)),Y(!0)}function TV(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(o=>ml(()=>{let s=Tc(e)??t,a=Es(o,s),u=gV(a)?a.canActivate(e,n):ft(s,()=>a(e,n));return oi(u).pipe(lr())}));return Y(i).pipe(_s())}function CV(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>lV(s)).filter(s=>s!==null).map(s=>ml(()=>{let a=s.guards.map(u=>{let l=Tc(s.node)??t,h=Es(u,l),p=mV(h)?h.canActivateChild(r,n):ft(l,()=>h(r,n));return oi(p).pipe(lr())});return Y(a).pipe(_s())}));return Y(o).pipe(_s())}function SV(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Y(!0);let s=o.map(a=>{let u=Tc(e)??i,l=Es(a,u),h=yV(l)?l.canDeactivate(n,e,t,r):ft(u,()=>l(n,e,t,r));return oi(h).pipe(lr())});return Y(s).pipe(_s())}function AV(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Y(!0);let o=i.map(s=>{let a=Es(s,n),u=pV(a)?a.canLoad(e,t):ft(n,()=>a(e,t));return oi(u)});return Y(o).pipe(_s(),wC(r))}function wC(n){return Yu(dt(e=>{if(typeof e!="boolean")throw Xd(n,e)}),X(e=>e===!0))}function RV(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Y(!0);let o=i.map(s=>{let a=Es(s,n),u=vV(a)?a.canMatch(e,t):ft(n,()=>a(e,t));return oi(u)});return Y(o).pipe(_s(),wC(r))}var Ec=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},wc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function hs(n){return Oo(new Ec(n))}function MV(n){return Oo(new $(4e3,!1))}function NV(n){return Oo(_C(!1,Ut.GuardRejected))}var ky=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Y(r);if(i.numberOfChildren>1||!i.children[ie])return MV(`${e.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,params:m,data:D,title:M}=i,A=ft(o,()=>a({params:m,data:D,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,title:M}));if(A instanceof qn)throw new wc(A);t=A}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new wc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new qn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new be(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Oy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function PV(n,e,t,r,i){let o=bC(n,e,t);return o.matched?(r=tV(e,r),RV(r,e,t,i).pipe(X(s=>s===!0?o:L({},Oy)))):Y(o)}function bC(n,e,t){if(e.path==="**")return xV(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},Oy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||J0)(t,n,e);if(!i)return L({},Oy);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function xV(n){return{matched:!0,parameters:n.length>0?eC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Q0(n,e,t,r){return t.length>0&&FV(n,t,r)?{segmentGroup:new be(e,OV(r,new be(t,n.children))),slicedSegments:[]}:t.length===0&&LV(n,t,r)?{segmentGroup:new be(n.segments,kV(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new be(n.segments,n.children),slicedSegments:t}}function kV(n,e,t,r){let i={};for(let o of t)if(rh(n,e,o)&&!r[Dn(o)]){let s=new be([],{});i[Dn(o)]=s}return L(L({},r),i)}function OV(n,e){let t={};t[ie]=e;for(let r of n)if(r.path===""&&Dn(r)!==ie){let i=new be([],{});t[Dn(r)]=i}return t}function FV(n,e,t){return t.some(r=>rh(n,e,r)&&Dn(r)!==ie)}function LV(n,e,t){return t.some(r=>rh(n,e,r))}function rh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function VV(n,e,t){return e.length===0&&!n.children[t]}var Fy=class{};function jV(n,e,t,r,i,o,s="emptyOnly"){return new Ly(n,e,t,r,i,s,o).recognize()}var UV=31,Ly=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ky(this.urlSerializer,this.urlTree)}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=Q0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(({children:t,rootSnapshot:r})=>{let i=new qt(r,t),o=new _c("",i),s=uC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Gi([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ie,t).pipe(X(r=>({children:r,rootSnapshot:t})),ar(r=>{if(r instanceof wc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ec?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(X(s=>s instanceof qt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ne(o).pipe(cr(s=>{let a=r.children[s],u=nV(t,s);return this.processSegmentGroup(e,u,a,s,i)}),vl((s,a)=>(s.push(...a),s)),Qr(null),tg(),Qe(s=>{if(s===null)return hs(r);let a=DC(s);return BV(a),Y(a)}))}processSegment(e,t,r,i,o,s,a){return Ne(t).pipe(cr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(ar(l=>{if(l instanceof Ec)return Y(null);throw l}))),lr(u=>!!u),ar(u=>{if(EC(u))return VV(r,i,o)?Y(new Fy):hs(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return Dn(r)!==s&&(s===ie||!rh(i,o,r))?hs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):hs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:y}=bC(t,i,o);if(!u)return hs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>UV&&(this.allowRedirects=!1));let m=new Gi(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Y0(i),Dn(i),i.component??i._loadedComponent??null,i,Z0(i)),D=Jd(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(D.params),m.data=Object.freeze(D.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Qe(A=>this.processSegment(e,r,t,A.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=PV(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ht(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ht(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:m}=u,D=new Gi(y,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Y0(r),Dn(r),r.component??r._loadedComponent??null,r,Z0(r)),M=Jd(D,s,this.paramsInheritanceStrategy);D.params=Object.freeze(M.params),D.data=Object.freeze(M.data);let{segmentGroup:A,slicedSegments:B}=Q0(t,y,m,l);if(B.length===0&&A.hasChildren())return this.processChildren(h,l,A,D).pipe(X(q=>new qt(D,q)));if(l.length===0&&B.length===0)return Y(new qt(D,[]));let J=Dn(r)===o;return this.processSegment(h,l,A,B,J?ie:o,!0,D).pipe(X(q=>new qt(D,q instanceof qt?[q]:[])))}))):hs(t)))}getChildConfig(e,t,r){return t.children?Y({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Y({routes:t._loadedRoutes,injector:t._loadedInjector}):AV(e,t,r,this.urlSerializer).pipe(Qe(i=>i?this.configLoader.loadChildren(e,t).pipe(dt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):NV(t))):Y({routes:[],injector:e})}};function BV(n){n.sort((e,t)=>e.value.outlet===ie?-1:t.value.outlet===ie?1:e.value.outlet.localeCompare(t.value.outlet))}function $V(n){let e=n.value.routeConfig;return e&&e.path===""}function DC(n){let e=[],t=new Set;for(let r of n){if(!$V(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=DC(r.children);e.push(new qt(r.value,i))}return e.filter(r=>!t.has(r))}function Y0(n){return n.data||{}}function Z0(n){return n.resolve||{}}function HV(n,e,t,r,i,o){return Qe(s=>jV(n,e,t,r,s.extractedUrl,i,o).pipe(X(({state:a,tree:u})=>he(L({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function zV(n,e){return Qe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Y(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of TC(u))s.add(l);let a=0;return Ne(s).pipe(cr(u=>o.has(u)?qV(u,r,n,e):(u.data=Jd(u,u.parent,n).resolve,Y(void 0))),dt(()=>a++),Vo(1),Qe(u=>a===s.size?Y(t):kt))})}function TC(n){let e=n.children.map(t=>TC(t)).flat();return[n,...e]}function qV(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!mC(i)&&(o[bc]=i.title),WV(o,n,e,r).pipe(X(s=>(n._resolvedData=s,n.data=Jd(n,n.parent,t).resolve,null)))}function WV(n,e,t,r){let i=Ty(n);if(i.length===0)return Y({});let o={};return Ne(i).pipe(Qe(s=>GV(n[s],e,t,r).pipe(lr(),dt(a=>{if(a instanceof vs)throw Xd(new Qi,a);o[s]=a}))),Vo(1),X(()=>o),ar(s=>EC(s)?kt:Oo(s)))}function GV(n,e,t,r){let i=Tc(e)??r,o=Es(n,i),s=o.resolve?o.resolve(e,t):ft(i,()=>o(e,t));return oi(s)}function by(n){return Ht(e=>{let t=n(e);return t?Ne(t).pipe(X(()=>e)):Y(e)})}var jy=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ie);return r}getResolvedTitleForRoute(t){return t.data[bc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>O(CC),providedIn:"root"})}return n})(),CC=(()=>{class n extends jy{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Z(z0))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ac=new z("",{providedIn:"root",factory:()=>({})}),Uy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Se(0,"router-outlet")},dependencies:[Cc],encapsulation:2})}return n})();function By(n){let e=n.children&&n.children.map(By),t=e?he(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ie&&(t.component=Uy),t}var Rc=new z(""),SC=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=O(Zm);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Y(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=oi(t.loadComponent()).pipe(X(RC),dt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ti(()=>{this.componentLoaders.delete(t)})),i=new No(r,()=>new We).pipe(Mo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=AC(r,this.compiler,t,this.onLoadEndListener).pipe(Ti(()=>{this.childrenLoaders.delete(r)})),s=new No(o,()=>new We).pipe(Mo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AC(n,e,t,r){return oi(n.loadChildren()).pipe(X(RC),Qe(i=>i instanceof Qm||Array.isArray(i)?Y(i):Ne(e.compileModuleAsync(i))),X(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Rc,[],{optional:!0,self:!0}).flat()),{routes:s.map(By),injector:o}}))}function KV(n){return n&&typeof n=="object"&&"default"in n}function RC(n){return KV(n)?n.default:n}var ih=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>O(QV),providedIn:"root"})}return n})(),QV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MC=new z("");var NC=new z(""),PC=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new We;transitionAbortSubject=new We;configLoader=O(SC);environmentInjector=O(ht);destroyRef=O(Qa);urlSerializer=O(Dc);rootContexts=O(Is);location=O(cs);inputBindingEnabled=O(nh,{optional:!0})!==null;titleStrategy=O(jy);options=O(Ac,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=O(ih);createViewTransition=O(MC,{optional:!0});navigationErrorHandler=O(NC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Y(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new zd(i)),r=i=>this.events.next(new qd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(he(L({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new lt(null),this.transitions.pipe(At(r=>r!==null),Ht(r=>{let i=!1,o=!1;return Y(r).pipe(Ht(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ut.SupersededByNewNavigation),kt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?he(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new Ar(s.id,this.urlSerializer.serialize(s.rawUrl),l,gc.IgnoredSameUrlNavigation)),s.resolve(!1),kt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Y(s).pipe(Ht(l=>(this.events.next(new Yi(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?kt:Promise.resolve(l))),HV(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),dt(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=he(L({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new mc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:y,extras:m}=s,D=new Yi(l,this.urlSerializer.serialize(h),p,y);this.events.next(D);let M=pC(this.rootComponentType).snapshot;return this.currentTransition=r=he(L({},s),{targetSnapshot:M,urlAfterRedirects:h,extras:he(L({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,Y(r)}else{let l="";return this.events.next(new Ar(s.id,this.urlSerializer.serialize(s.extractedUrl),l,gc.IgnoredByUrlHandlingStrategy)),s.resolve(!1),kt}}),dt(s=>{let a=new Ud(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),X(s=>(this.currentTransition=r=he(L({},s),{guards:uV(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),IV(this.environmentInjector,s=>this.events.next(s)),dt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Xd(this.urlSerializer,s.guardsResult);let a=new Bd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),At(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Ut.GuardRejected),!1)),by(s=>{if(s.guards.canActivateChecks.length!==0)return Y(s).pipe(dt(a=>{let u=new $d(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Ht(a=>{let u=!1;return Y(a).pipe(zV(this.paramsInheritanceStrategy,this.environmentInjector),dt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Ut.NoDataFromResolver)}}))}),dt(a=>{let u=new Hd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),by(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(dt(h=>{u.component=h}),X(()=>{})));for(let h of u.children)l.push(...a(h));return l};return gl(a(s.targetSnapshot.root)).pipe(Qr(null),ur(1))}),by(()=>this.afterPreactivation()),Ht(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Ne(u).pipe(X(()=>r)):Y(r)}),X(s=>{let a=iV(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=he(L({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),dt(()=>{this.events.next(new yc)}),cV(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),ur(1),dt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Tn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),ng(this.transitionAbortSubject.pipe(dt(s=>{throw s}))),Ti(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Ut.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),ar(s=>{if(this.destroyed)return r.resolve(!1),kt;if(o=!0,IC(s))this.events.next(new zn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),aV(s)?this.events.next(new ys(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ms(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=ft(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof vs){let{message:l,cancellationCode:h}=Xd(this.urlSerializer,u);this.events.next(new zn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new ys(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return kt}))}))}cancelNavigationTransition(t,r,i){let o=new zn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function YV(n){return n!==Ld}var xC=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>O(ZV),providedIn:"root"})}return n})(),th=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},ZV=(()=>{class n extends th{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ts(n)))(i||n)}})();static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kC=(()=>{class n{urlSerializer=O(Dc);options=O(Ac,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=O(cs);urlHandlingStrategy=O(ih);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new qn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof qn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=pC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>O(JV),providedIn:"root"})}return n})(),JV=(()=>{class n extends kC{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Yi?this.updateStateMemento():t instanceof Ar?this.commitTransition(r):t instanceof mc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof yc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof zn&&(t.code===Ut.GuardRejected||t.code===Ut.NoDataFromResolver)?this.restoreHistory(r):t instanceof ms?this.restoreHistory(r,!0):t instanceof Tn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=L(L({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=L(L({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ts(n)))(i||n)}})();static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $y(n,e){n.events.pipe(At(t=>t instanceof Tn||t instanceof zn||t instanceof ms||t instanceof Ar),X(t=>t instanceof Tn||t instanceof Ar?0:(t instanceof zn?t.code===Ut.Redirect||t.code===Ut.SupersededByNewNavigation:!1)?2:1),At(t=>t!==2),ur(1)).subscribe(()=>{e()})}var XV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},e2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=O(XT);stateManager=O(kC);options=O(Ac,{optional:!0})||{};pendingTasks=O(Er);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=O(PC);urlSerializer=O(Dc);location=O(cs);urlHandlingStrategy=O(ih);_events=new We;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=O(xC);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=O(Rc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!O(nh,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new $e;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof zn&&r.code!==Ut.Redirect&&r.code!==Ut.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Tn)this.navigated=!0;else if(r instanceof ys){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||YV(i.source)},s);this.scheduleNavigation(a,Ld,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}n2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ld,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(By),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=lC(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return dC(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ii(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ld,null,r)}navigate(t,r={skipLocationChange:!1}){return t2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},XV):r===!1?i=L({},e2):i=r,ii(t))return q0(this.currentUrlTree,t,i);let o=this.parseUrl(t);return q0(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,y)=>{a=p,u=y});let h=this.pendingTasks.add();return $y(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function t2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new $(4008,!1)}function n2(n){return!(n instanceof yc)&&!(n instanceof ys)}var ws=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new We;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Tn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ii(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:dT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:ii(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(K(Wn),K(Cn),Tm("tabindex"),K(ji),K(vn),K(as))};static \u0275dir=rt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ae("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Za("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Hi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Hi],replaceUrl:[2,"replaceUrl","replaceUrl",Hi],routerLink:"routerLink"},features:[Ir]})}return n})(),Hy=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ye;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Tn&&this.update()})}ngAfterContentInit(){Y(this.links.changes,Y(null)).pipe(Fo()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ne(t).pipe(Fo()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=i2(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(K(Wn),K(vn),K(ji),K($i),K(ws,8))};static \u0275dir=rt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&i0(o,ws,5),r&2){let s;yd(s=vd())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Ir]})}return n})();function i2(n){return!!n.paths}var o2=new z("");function zy(n,...e){return yr([{provide:Rc,multi:!0,useValue:n},[],{provide:Cn,useFactory:s2,deps:[Wn]},{provide:Ym,multi:!0,useFactory:a2},e.map(t=>t.\u0275providers)])}function s2(n){return n.routerState.root}function a2(){let n=O(Mt);return e=>{let t=n.get(Fi);if(e!==t.components[0])return;let r=n.get(Wn),i=n.get(c2);n.get(u2)===1&&r.initialNavigation(),n.get(l2,null,ce.Optional)?.setUpPreloading(),n.get(o2,null,ce.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var c2=new z("",{factory:()=>new We}),u2=new z("",{providedIn:"root",factory:()=>1});var l2=new z("");var FC=()=>{};var VC=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},d2=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},oh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,y=(a&15)<<2|l>>6,m=l&63;u||(m=64,s||(y=64)),r.push(t[h],t[p],t[y],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(VC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):d2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Wy;let y=o<<2|a>>4;if(r.push(y),l!==64){let m=a<<4&240|l>>2;if(r.push(m),p!==64){let D=l<<6&192|p;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Wy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},h2=function(n){let e=VC(n);return oh.encodeByteArray(e,!0)},Mc=function(n){return h2(n).replace(/\./g,"")},sh=function(n){try{return oh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var f2=()=>jC().__FIREBASE_DEFAULTS__,p2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},g2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&sh(n[1]);return e&&JSON.parse(e)},ah=()=>{try{return FC()||f2()||p2()||g2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},UC=n=>{var e,t;return(t=(e=ah())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},BC=n=>{let e=UC(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ky=()=>{var n;return(n=ah())===null||n===void 0?void 0:n.config},$C=n=>{var e;return(e=ah())===null||e===void 0?void 0:e[`_${n}`]};var Zi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function HC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Mc(JSON.stringify(t)),Mc(JSON.stringify(s)),""].join(".")}function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function m2(){var n;let e=(n=ah())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WC(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function GC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KC(){return!m2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nc(){try{return typeof indexedDB=="object"}catch{return!1}}function QC(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var y2="FirebaseError",sn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=y2,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sn.prototype.create)}},Sn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?v2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new sn(i,a,r)}};function v2(n,e){return n.replace(_2,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var _2=/\{\$([^}]+)}/g;function Ji(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(LC(o)&&LC(s)){if(!Ji(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function LC(n){return n!==null&&typeof n=="object"}function Qy(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function YC(n,e){let t=new Gy(n,e);return t.subscribe.bind(t)}var Gy=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");I2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=qy),i.error===void 0&&(i.error=qy),i.complete===void 0&&(i.complete=qy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function I2(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function qy(){}var S7=4*60*60*1e3;function st(n){return n&&n._delegate?n._delegate:n}var Pt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Xi="[DEFAULT]";var Yy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Zi;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w2(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Xi){return this.instances.has(e)}getOptions(e=Xi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:E2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xi){return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function E2(n){return n===Xi?void 0:n}function w2(n){return n.instantiationMode==="EAGER"}var ch=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Yy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var b2=[],fe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(fe||{}),D2={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},T2=fe.INFO,C2={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},S2=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=C2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Gn=class{constructor(e){this.name=e,this._logLevel=T2,this._logHandler=S2,this._userLogHandler=null,b2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?D2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var A2=(n,e)=>e.some(t=>n instanceof t),ZC,JC;function R2(){return ZC||(ZC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M2(){return JC||(JC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var XC=new WeakMap,Jy=new WeakMap,eS=new WeakMap,Zy=new WeakMap,ev=new WeakMap;function N2(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Kn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&XC.set(t,n)}).catch(()=>{}),ev.set(e,n),e}function P2(n){if(Jy.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Jy.set(n,e)}var Xy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Jy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||eS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Kn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function tS(n){Xy=n(Xy)}function x2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(uh(this),e,...t);return eS.set(r,e.sort?e.sort():[e]),Kn(r)}:M2().includes(n)?function(...e){return n.apply(uh(this),e),Kn(XC.get(this))}:function(...e){return Kn(n.apply(uh(this),e))}}function k2(n){return typeof n=="function"?x2(n):(n instanceof IDBTransaction&&P2(n),A2(n,R2())?new Proxy(n,Xy):n)}function Kn(n){if(n instanceof IDBRequest)return N2(n);if(Zy.has(n))return Zy.get(n);let e=k2(n);return e!==n&&(Zy.set(n,e),ev.set(e,n)),e}var uh=n=>ev.get(n);function rS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Kn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Kn(s.result),u.oldVersion,u.newVersion,Kn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var O2=["get","getKey","getAll","getAllKeys","count"],F2=["put","add","delete","clear"],tv=new Map;function nS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(tv.get(e))return tv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=F2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||O2.includes(t)))return;let o=function(s,...a){return C(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return tv.set(e,o),o}tS(n=>he(L({},n),{get:(e,t,r)=>nS(e,t)||n.get(e,t,r),has:(e,t)=>!!nS(e,t)||n.has(e,t)}));var rv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(L2(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function L2(n){let e=n.getComponent();return e?.type==="VERSION"}var iv="@firebase/app",iS="0.11.4";var Rr=new Gn("@firebase/app"),V2="@firebase/app-compat",j2="@firebase/analytics-compat",U2="@firebase/analytics",B2="@firebase/app-check-compat",$2="@firebase/app-check",H2="@firebase/auth",z2="@firebase/auth-compat",q2="@firebase/database",W2="@firebase/data-connect",G2="@firebase/database-compat",K2="@firebase/functions",Q2="@firebase/functions-compat",Y2="@firebase/installations",Z2="@firebase/installations-compat",J2="@firebase/messaging",X2="@firebase/messaging-compat",ej="@firebase/performance",tj="@firebase/performance-compat",nj="@firebase/remote-config",rj="@firebase/remote-config-compat",ij="@firebase/storage",oj="@firebase/storage-compat",sj="@firebase/firestore",aj="@firebase/vertexai",cj="@firebase/firestore-compat",uj="firebase",lj="11.6.0";var ov="[DEFAULT]",dj={[iv]:"fire-core",[V2]:"fire-core-compat",[U2]:"fire-analytics",[j2]:"fire-analytics-compat",[$2]:"fire-app-check",[B2]:"fire-app-check-compat",[H2]:"fire-auth",[z2]:"fire-auth-compat",[q2]:"fire-rtdb",[W2]:"fire-data-connect",[G2]:"fire-rtdb-compat",[K2]:"fire-fn",[Q2]:"fire-fn-compat",[Y2]:"fire-iid",[Z2]:"fire-iid-compat",[J2]:"fire-fcm",[X2]:"fire-fcm-compat",[ej]:"fire-perf",[tj]:"fire-perf-compat",[nj]:"fire-rc",[rj]:"fire-rc-compat",[ij]:"fire-gcs",[oj]:"fire-gcs-compat",[sj]:"fire-fst",[cj]:"fire-fst-compat",[aj]:"fire-vertex","fire-js":"fire-js",[uj]:"fire-js-all"};var Pc=new Map,hj=new Map,sv=new Map;function oS(n,e){try{n.container.addComponent(e)}catch(t){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function An(n){let e=n.name;if(sv.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;sv.set(e,n);for(let t of Pc.values())oS(t,n);for(let t of hj.values())oS(t,n);return!0}function lh(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Mr(n){return n==null?!1:n.settings!==void 0}var fj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new Sn("app","Firebase",fj);var av=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}};var bs=lj;function lv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ov,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw si.create("bad-app-name",{appName:String(i)});if(t||(t=Ky()),!t)throw si.create("no-options");let o=Pc.get(i);if(o){if(Ji(t,o.options)&&Ji(r,o.config))return o;throw si.create("duplicate-app",{appName:i})}let s=new ch(i);for(let u of sv.values())s.addComponent(u);let a=new av(t,r,s);return Pc.set(i,a),a}function Ds(n=ov){let e=Pc.get(n);if(!e&&n===ov&&Ky())return lv();if(!e)throw si.create("no-app",{appName:n});return e}function dh(){return Array.from(Pc.values())}function Ge(n,e,t){var r;let i=(r=dj[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(a.join(" "));return}An(new Pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var pj="firebase-heartbeat-database",gj=1,xc="firebase-heartbeat-store",nv=null;function uS(){return nv||(nv=rS(pj,gj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(xc)}catch(t){console.warn(t)}}}}).catch(n=>{throw si.create("idb-open",{originalErrorMessage:n.message})})),nv}function mj(n){return C(this,null,function*(){try{let t=(yield uS()).transaction(xc),r=yield t.objectStore(xc).get(lS(n));return yield t.done,r}catch(e){if(e instanceof sn)Rr.warn(e.message);else{let t=si.create("idb-get",{originalErrorMessage:e?.message});Rr.warn(t.message)}}})}function sS(n,e){return C(this,null,function*(){try{let r=(yield uS()).transaction(xc,"readwrite");yield r.objectStore(xc).put(e,lS(n)),yield r.done}catch(t){if(t instanceof sn)Rr.warn(t.message);else{let r=si.create("idb-set",{originalErrorMessage:t?.message});Rr.warn(r.message)}}})}function lS(n){return`${n.name}!${n.options.appId}`}var yj=1024,vj=30,cv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new uv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=aS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>vj){let s=Ij(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Rr.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=aS(),{heartbeatsToSend:r,unsentEntries:i}=_j(this._heartbeatsCache.heartbeats),o=Mc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Rr.warn(t),""}})}};function aS(){return new Date().toISOString().substring(0,10)}function _j(n,e=yj){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),cS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),cS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var uv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return Nc()?QC().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield mj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function cS(n){return Mc(JSON.stringify({version:2,heartbeats:n})).length}function Ij(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Ej(n){An(new Pt("platform-logger",e=>new rv(e),"PRIVATE")),An(new Pt("heartbeat",e=>new cv(e),"PRIVATE")),Ge(iv,iS,n),Ge(iv,iS,"esm2017"),Ge("fire-js","")}Ej("");var wj="firebase",bj="11.6.0";Ge(wj,bj,"app");function dv(n){n===void 0&&(sD(dv),n=O(Mt));let e=n.get(ud);return t=>new oe(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var to=new Zo("ANGULARFIRE2_VERSION");function fh(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Cs=(n,e)=>{let t=e?[e]:dh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ts=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Ts||{}),dS=Xm()&&typeof Zone<"u"?Ts.WARN:Ts.SILENT;var hh=class{zone;delegate;constructor(e,t=Zp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},no=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=O(Ce);this.outsideAngular=t.runOutsideAngular(()=>new hh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new hh(typeof Zone>"u"?void 0:Zone.current,Yp))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hS=!1;function Dj(n,e){!hS&&(dS>Ts.SILENT||Xm())&&(hS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),dS>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function Tj(n){let e=O(Ce,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function eo(n){let e=O(Ce,{optional:!0});return e?e.run(()=>n()):n()}var Cj=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),ft(t,()=>eo(()=>n.apply(void 0,r)))),Ze=(n,e,t)=>(t||=e?Ts.WARN:Ts.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=O(no),s=O(ud),a=O(ht)}catch{return Dj(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=eo(()=>s.add())),i[l]=Cj(i[l],r,a));let u=Tj(()=>n.apply(this,i));return e?u instanceof oe?u.pipe(Kr(o.outsideAngular),Gr(o.insideAngular),dv(a)):u instanceof Promise?eo(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>ft(a,()=>eo(()=>l(p))),p=>ft(a,()=>eo(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:eo(()=>u):u instanceof oe?u.pipe(Kr(o.outsideAngular),Gr(o.insideAngular)):eo(()=>u)});var ro=class{constructor(e){return e}},kc=class{constructor(){return dh()}};function Sj(n){return n&&n.length===1?n[0]:new ro(Ds())}var hv=new z("angularfire2._apps"),Aj={provide:ro,useFactory:Sj,deps:[[new mr,hv]]},Rj={provide:kc,deps:[[new mr,hv]]};function Mj(n){return(e,t)=>{let r=t.get(wr);Ge("angularfire",to.full,"core"),Ge("angularfire",to.full,"app"),Ge("angular",c0.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ro(i)}}function fS(n,...e){return yr([Aj,Rj,{provide:hv,useFactory:Mj(n),multi:!0,deps:[Ce,Mt,no,...e]}])}var pS=Ze(lv,!0);var Nj=new Map,Pj={activated:!1,tokenObservers:[]},xj={initialized:!1,enabled:!1};function Rn(n){return Nj.get(n)||Object.assign({},Pj)}function vS(){return xj}var kj="https://content-firebaseappcheck.googleapis.com/v1";var Oj="exchangeDebugToken",gS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},PQ=24*60*60*1e3;var gv=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return C(this,null,function*(){this.stop();try{this.pending=new Zi,this.pending.promise.catch(t=>{}),yield Fj(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Zi,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Fj(n){return new Promise(e=>{setTimeout(e,n)})}var Lj={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ai=new Sn("appCheck","AppCheck",Lj);function _S(n){if(!Rn(n).activated)throw ai.create("use-before-activation",{appName:n.name})}function IS(r,i){return C(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(m){throw ai.create("fetch-network-error",{originalErrorMessage:m?.message})}if(u.status!==200)throw ai.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(m){throw ai.create("fetch-parse-error",{originalErrorMessage:m?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ai.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,y=Date.now();return{token:l.token,expireTimeMillis:y+p,issuedAtTimeMillis:y}})}function ES(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${kj}/projects/${t}/apps/${r}:${Oj}?key=${i}`,body:{debug_token:e}}}var Vj="firebase-app-check-database",jj=1,mv="firebase-app-check-store";var ph=null;function Uj(){return ph||(ph=new Promise((n,e)=>{try{let t=indexedDB.open(Vj,jj);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ai.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(mv,{keyPath:"compositeKey"})}}}catch(t){e(ai.create("storage-open",{originalErrorMessage:t?.message}))}}),ph)}function Bj(n,e){return $j(Hj(n),e)}function $j(n,e){return C(this,null,function*(){let r=(yield Uj()).transaction(mv,"readwrite"),o=r.objectStore(mv).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(ai.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function Hj(n){return`${n.options.appId}-${n.name}`}var Oc=new Gn("@firebase/app-check");function fv(n,e){return Nc()?Bj(n,e).catch(t=>{Oc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function wS(){return vS().enabled}function bS(){return C(this,null,function*(){let n=vS();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var zj={error:"UNKNOWN_ERROR"};function qj(n){return oh.encodeString(JSON.stringify(n),!1)}function yv(n,e=!1,t=!1){return C(this,null,function*(){let r=n.app;_S(r);let i=Rn(r),o=i.token,s;if(o&&!Fc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Fc(l)?o=l:yield fv(r,void 0))}if(!e&&o&&Fc(o))return{token:o.token};let a=!1;if(wS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=IS(ES(r,yield bS()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield fv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Oc.warn(l.message):t&&Oc.error(l),pv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Rn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Oc.warn(l.message):t&&Oc.error(l),s=l}let u;return o?s?Fc(o)?u={token:o.token,internalError:s}:u=pv(s):(u={token:o.token},i.token=o,yield fv(r,o)):u=pv(s),a&&Qj(r,u),u})}function Wj(n){return C(this,null,function*(){let e=n.app;_S(e);let{provider:t}=Rn(e);if(wS()){let r=yield bS(),{token:i}=yield IS(ES(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function Gj(n,e,t,r){let{app:i}=n,o=Rn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Fc(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),mS(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>mS(n))}function DS(n,e){let t=Rn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function mS(n){let{app:e}=n,t=Rn(e),r=t.tokenRefresher;r||(r=Kj(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Kj(n){let{app:e}=n;return new gv(()=>C(this,null,function*(){let t=Rn(e),r;if(t.token?r=yield yv(n,!0):r=yield yv(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Rn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},gS.RETRIAL_MIN_WAIT,gS.RETRIAL_MAX_WAIT)}function Qj(n,e){let t=Rn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Fc(n){return n.expireTimeMillis-Date.now()>0}function pv(n){return{token:qj(zj),error:n}}var vv=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Rn(this.app);for(let t of e)DS(this.app,t.next);return Promise.resolve()}};function Yj(n,e){return new vv(n,e)}function Zj(n){return{getToken:e=>yv(n,e),getLimitedUseToken:()=>Wj(n),addTokenListener:e=>Gj(n,"INTERNAL",e),removeTokenListener:e=>DS(n.app,e)}}var Jj="@firebase/app-check",Xj="0.8.13";var eU="app-check",yS="app-check-internal";function tU(){An(new Pt(eU,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return Yj(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(yS).initialize()})),An(new Pt(yS,n=>{let e=n.getProvider("app-check").getImmediate();return Zj(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ge(Jj,Xj)}tU();var nU="app-check";var gh=class{constructor(){return Cs(nU)}};var rU=["localhost","0.0.0.0","127.0.0.1"],qQ=typeof window<"u"&&rU.includes(window.location.hostname);function PS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var xS=PS,kS=new Sn("auth","Firebase",PS());var _h=new Gn("@firebase/auth");function oU(n,...e){_h.logLevel<=fe.WARN&&_h.warn(`Auth (${bs}): ${n}`,...e)}function yh(n,...e){_h.logLevel<=fe.ERROR&&_h.error(`Auth (${bs}): ${n}`,...e)}function TS(n,...e){throw Mv(n,...e)}function Rv(n,...e){return Mv(n,...e)}function OS(n,e,t){let r=Object.assign(Object.assign({},xS()),{[e]:t});return new Sn("auth","Firebase",r).create(e,{appName:n.name})}function vh(n){return OS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mv(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return kS.create(n,...e)}function De(n,e,...t){if(!n)throw Mv(e,...t)}function Lc(n){let e="INTERNAL ASSERTION FAILED: "+n;throw yh(e),new Error(e)}function Ih(n,e){n||Lc(e)}function sU(){return CS()==="http:"||CS()==="https:"}function CS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function aU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sU()||WC()||"connection"in navigator)?navigator.onLine:!0}function cU(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var so=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ih(t>e,"Short delay should be less than long delay!"),this.isMobile=zC()||GC()}get(){return aU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function uU(n,e){Ih(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Eh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var lU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var dU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hU=new so(3e4,6e4);function FS(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ch(o,s,a,u){return C(this,arguments,function*(n,e,t,r,i={}){return LS(n,i,()=>C(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Qy(Object.assign({key:n.config.apiKey},h)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:y},l);return qC()||(m.referrerPolicy="no-referrer"),Eh.fetch()(yield VS(n,n.config.apiHost,t,p),m)}))})}function LS(n,e,t){return C(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},lU),e);try{let i=new Ev(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw mh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw mh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw mh(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw OS(n,h,l);TS(n,h)}}catch(i){if(i instanceof sn)throw i;TS(n,"network-request-failed",{message:String(i)})}})}function VS(n,e,t,r){return C(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?uU(n.config,i):`${n.config.apiScheme}://${i}`;return dU.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Ev=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Rv(this.auth,"network-request-failed")),hU.get())})}};function mh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Rv(n,e,r);return i.customData._tokenResponse=t,i}function fU(n,e){return C(this,null,function*(){return Ch(n,"POST","/v1/accounts:delete",e)})}function wh(n,e){return C(this,null,function*(){return Ch(n,"POST","/v1/accounts:lookup",e)})}function Vc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Nv(n,e=!1){return C(this,null,function*(){let t=st(n),r=yield t.getIdToken(e),i=jS(r);De(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Vc(_v(i.auth_time)),issuedAtTime:Vc(_v(i.iat)),expirationTime:Vc(_v(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function _v(n){return Number(n)*1e3}function jS(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{let i=sh(t);return i?JSON.parse(i):(yh("Failed to decode base64 JWT payload"),null)}catch(i){return yh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function SS(n){let e=jS(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function wv(n,e,t=!1){return C(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof sn&&pU(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function pU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var bv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),t)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Uc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function bh(n){return C(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield wv(n,wh(t,{idToken:r}));De(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?US(o.providerUserInfo):[],a=gU(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Uc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function Pv(n){return C(this,null,function*(){let e=st(n);yield bh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function gU(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function US(n){return n.map(e=>{var{providerId:t}=e,r=Jp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function mU(n,e){return C(this,null,function*(){let t=yield LS(n,{},()=>C(this,null,function*(){let r=Qy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield VS(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Eh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function yU(n,e){return C(this,null,function*(){return Ch(n,"POST","/v2/accounts:revokeToken",FS(n,e))})}var jc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");let t=SS(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return C(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield mU(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(De(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(De(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(De(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Lc("not implemented")}};function ci(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var io=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Jp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Uc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let t=yield wv(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Nv(this,e)}reload(){return Pv(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield bh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(Mr(this.auth.app))return Promise.reject(vh(this.auth));let e=yield this.getIdToken();return yield wv(this,fU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,D=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,A=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,B=(l=t.createdAt)!==null&&l!==void 0?l:void 0,J=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:q,emailVerified:Ee,isAnonymous:Ue,providerData:ye,stsTokenManager:w}=t;De(q&&w,e,"internal-error");let v=jc.fromJSON(this.name,w);De(typeof q=="string",e,"internal-error"),ci(p,e.name),ci(y,e.name),De(typeof Ee=="boolean",e,"internal-error"),De(typeof Ue=="boolean",e,"internal-error"),ci(m,e.name),ci(D,e.name),ci(M,e.name),ci(A,e.name),ci(B,e.name),ci(J,e.name);let I=new n({uid:q,auth:e,email:y,emailVerified:Ee,displayName:p,isAnonymous:Ue,photoURL:D,phoneNumber:m,tenantId:M,stsTokenManager:v,createdAt:B,lastLoginAt:J});return ye&&Array.isArray(ye)&&(I.providerData=ye.map(E=>Object.assign({},E))),A&&(I._redirectEventId=A),I}static _fromIdTokenResponse(e,t,r=!1){return C(this,null,function*(){let i=new jc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield bh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return C(this,null,function*(){let i=t.users[0];De(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?US(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new jc;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Uc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var AS=new Map;function oo(n){Ih(n instanceof Function,"Expected a class definition");let e=AS.get(n);return e?(Ih(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,AS.set(n,e),e)}var vU=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(t,r){return C(this,null,function*(){this.storage[t]=r})}_get(t){return C(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return C(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Dv=vU;function Iv(n,e,t){return`firebase:${n}:${e}:${t}`}var Dh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Iv(this.userKey,i.apiKey,o),this.fullPersistenceKey=Iv("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield wh(this.auth,{idToken:e}).catch(()=>{});return t?io._fromGetAccountInfoResponse(this.auth,t,e):null}return io._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return C(this,null,function*(){if(!t.length)return new n(oo(Dv),e,r);let i=(yield Promise.all(t.map(l=>C(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||oo(Dv),s=Iv(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let y=yield wh(e,{idToken:h}).catch(()=>{});if(!y)break;p=yield io._fromGetAccountInfoResponse(e,y,h)}else p=io._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>C(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function RS(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_U(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DU(e))return"Blackberry";if(TU(e))return"Webos";if(IU(e))return"Safari";if((e.includes("chrome/")||EU(e))&&!e.includes("edge/"))return"Chrome";if(bU(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function _U(n=Gt()){return/firefox\//i.test(n)}function IU(n=Gt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EU(n=Gt()){return/crios\//i.test(n)}function wU(n=Gt()){return/iemobile/i.test(n)}function bU(n=Gt()){return/android/i.test(n)}function DU(n=Gt()){return/blackberry/i.test(n)}function TU(n=Gt()){return/webos/i.test(n)}function BS(n,e=[]){let t;switch(n){case"Browser":t=RS(Gt());break;case"Worker":t=`${RS(Gt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bs}/${r}`}var Tv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function CU(t){return C(this,arguments,function*(n,e={}){return Ch(n,"GET","/v2/passwordPolicy",FS(n,e))})}var SU=6,Cv=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:SU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Sv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Th(this),this.idTokenSubscription=new Th(this),this.beforeStateQueue=new Tv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oo(t)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Dh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let t=yield wh(this,{idToken:e}),r=yield io._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var t;if(Mr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield bh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=cU()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(Mr(this.app))return Promise.reject(vh(this));let t=e?st(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return C(this,null,function*(){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return Mr(this.app)?Promise.reject(vh(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Mr(this.app)?Promise.reject(vh(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(oo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield CU(this),t=new Cv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield yU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&oo(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=yield Dh.create(this,[oo(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return C(this,null,function*(){var e;if(Mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&oU(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function AU(n){return st(n)}var Th=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=YC(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var RU={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MU(n){RU=n}function NU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function PU(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(oo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var rY=NU("rcb"),iY=new so(3e4,6e4);var oY=new so(2e3,1e4);var sY=10*60*1e3;var aY=new so(3e4,6e4);var cY=new so(5e3,15e3);var uY=encodeURIComponent("fac");var MS="@firebase/auth",NS="1.10.0";var Av=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function xU(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kU(n){An(new Pt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;De(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BS(n)},l=new Sv(r,i,o,u);return PU(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),An(new Pt("auth-internal",e=>{let t=AU(e.getProvider("auth").getImmediate());return(r=>new Av(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ge(MS,NS,xU(n)),Ge(MS,NS,"esm2017")}var OU=5*60,lY=$C("authIdTokenMaxAge")||OU;function FU(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}MU({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Rv("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",FU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kU("Browser");var kB="auth";var Sh=class{constructor(){return Cs(kB)}};var $S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},HS={};var Nr,xv;(function(){var n;function e(w,v){function I(){}I.prototype=v.prototype,w.D=v.prototype,w.prototype=new I,w.prototype.constructor=w,w.C=function(E,b,S){for(var _=Array(arguments.length-2),nr=2;nr<arguments.length;nr++)_[nr-2]=arguments[nr];return v.prototype[b].apply(E,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,I){I||(I=0);var E=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)E[b]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(b=0;16>b;++b)E[b]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=w.g[0],I=w.g[1],b=w.g[2];var S=w.g[3],_=v+(S^I&(b^S))+E[0]+3614090360&4294967295;v=I+(_<<7&4294967295|_>>>25),_=S+(b^v&(I^b))+E[1]+3905402710&4294967295,S=v+(_<<12&4294967295|_>>>20),_=b+(I^S&(v^I))+E[2]+606105819&4294967295,b=S+(_<<17&4294967295|_>>>15),_=I+(v^b&(S^v))+E[3]+3250441966&4294967295,I=b+(_<<22&4294967295|_>>>10),_=v+(S^I&(b^S))+E[4]+4118548399&4294967295,v=I+(_<<7&4294967295|_>>>25),_=S+(b^v&(I^b))+E[5]+1200080426&4294967295,S=v+(_<<12&4294967295|_>>>20),_=b+(I^S&(v^I))+E[6]+2821735955&4294967295,b=S+(_<<17&4294967295|_>>>15),_=I+(v^b&(S^v))+E[7]+4249261313&4294967295,I=b+(_<<22&4294967295|_>>>10),_=v+(S^I&(b^S))+E[8]+1770035416&4294967295,v=I+(_<<7&4294967295|_>>>25),_=S+(b^v&(I^b))+E[9]+2336552879&4294967295,S=v+(_<<12&4294967295|_>>>20),_=b+(I^S&(v^I))+E[10]+4294925233&4294967295,b=S+(_<<17&4294967295|_>>>15),_=I+(v^b&(S^v))+E[11]+2304563134&4294967295,I=b+(_<<22&4294967295|_>>>10),_=v+(S^I&(b^S))+E[12]+1804603682&4294967295,v=I+(_<<7&4294967295|_>>>25),_=S+(b^v&(I^b))+E[13]+4254626195&4294967295,S=v+(_<<12&4294967295|_>>>20),_=b+(I^S&(v^I))+E[14]+2792965006&4294967295,b=S+(_<<17&4294967295|_>>>15),_=I+(v^b&(S^v))+E[15]+1236535329&4294967295,I=b+(_<<22&4294967295|_>>>10),_=v+(b^S&(I^b))+E[1]+4129170786&4294967295,v=I+(_<<5&4294967295|_>>>27),_=S+(I^b&(v^I))+E[6]+3225465664&4294967295,S=v+(_<<9&4294967295|_>>>23),_=b+(v^I&(S^v))+E[11]+643717713&4294967295,b=S+(_<<14&4294967295|_>>>18),_=I+(S^v&(b^S))+E[0]+3921069994&4294967295,I=b+(_<<20&4294967295|_>>>12),_=v+(b^S&(I^b))+E[5]+3593408605&4294967295,v=I+(_<<5&4294967295|_>>>27),_=S+(I^b&(v^I))+E[10]+38016083&4294967295,S=v+(_<<9&4294967295|_>>>23),_=b+(v^I&(S^v))+E[15]+3634488961&4294967295,b=S+(_<<14&4294967295|_>>>18),_=I+(S^v&(b^S))+E[4]+3889429448&4294967295,I=b+(_<<20&4294967295|_>>>12),_=v+(b^S&(I^b))+E[9]+568446438&4294967295,v=I+(_<<5&4294967295|_>>>27),_=S+(I^b&(v^I))+E[14]+3275163606&4294967295,S=v+(_<<9&4294967295|_>>>23),_=b+(v^I&(S^v))+E[3]+4107603335&4294967295,b=S+(_<<14&4294967295|_>>>18),_=I+(S^v&(b^S))+E[8]+1163531501&4294967295,I=b+(_<<20&4294967295|_>>>12),_=v+(b^S&(I^b))+E[13]+2850285829&4294967295,v=I+(_<<5&4294967295|_>>>27),_=S+(I^b&(v^I))+E[2]+4243563512&4294967295,S=v+(_<<9&4294967295|_>>>23),_=b+(v^I&(S^v))+E[7]+1735328473&4294967295,b=S+(_<<14&4294967295|_>>>18),_=I+(S^v&(b^S))+E[12]+2368359562&4294967295,I=b+(_<<20&4294967295|_>>>12),_=v+(I^b^S)+E[5]+4294588738&4294967295,v=I+(_<<4&4294967295|_>>>28),_=S+(v^I^b)+E[8]+2272392833&4294967295,S=v+(_<<11&4294967295|_>>>21),_=b+(S^v^I)+E[11]+1839030562&4294967295,b=S+(_<<16&4294967295|_>>>16),_=I+(b^S^v)+E[14]+4259657740&4294967295,I=b+(_<<23&4294967295|_>>>9),_=v+(I^b^S)+E[1]+2763975236&4294967295,v=I+(_<<4&4294967295|_>>>28),_=S+(v^I^b)+E[4]+1272893353&4294967295,S=v+(_<<11&4294967295|_>>>21),_=b+(S^v^I)+E[7]+4139469664&4294967295,b=S+(_<<16&4294967295|_>>>16),_=I+(b^S^v)+E[10]+3200236656&4294967295,I=b+(_<<23&4294967295|_>>>9),_=v+(I^b^S)+E[13]+681279174&4294967295,v=I+(_<<4&4294967295|_>>>28),_=S+(v^I^b)+E[0]+3936430074&4294967295,S=v+(_<<11&4294967295|_>>>21),_=b+(S^v^I)+E[3]+3572445317&4294967295,b=S+(_<<16&4294967295|_>>>16),_=I+(b^S^v)+E[6]+76029189&4294967295,I=b+(_<<23&4294967295|_>>>9),_=v+(I^b^S)+E[9]+3654602809&4294967295,v=I+(_<<4&4294967295|_>>>28),_=S+(v^I^b)+E[12]+3873151461&4294967295,S=v+(_<<11&4294967295|_>>>21),_=b+(S^v^I)+E[15]+530742520&4294967295,b=S+(_<<16&4294967295|_>>>16),_=I+(b^S^v)+E[2]+3299628645&4294967295,I=b+(_<<23&4294967295|_>>>9),_=v+(b^(I|~S))+E[0]+4096336452&4294967295,v=I+(_<<6&4294967295|_>>>26),_=S+(I^(v|~b))+E[7]+1126891415&4294967295,S=v+(_<<10&4294967295|_>>>22),_=b+(v^(S|~I))+E[14]+2878612391&4294967295,b=S+(_<<15&4294967295|_>>>17),_=I+(S^(b|~v))+E[5]+4237533241&4294967295,I=b+(_<<21&4294967295|_>>>11),_=v+(b^(I|~S))+E[12]+1700485571&4294967295,v=I+(_<<6&4294967295|_>>>26),_=S+(I^(v|~b))+E[3]+2399980690&4294967295,S=v+(_<<10&4294967295|_>>>22),_=b+(v^(S|~I))+E[10]+4293915773&4294967295,b=S+(_<<15&4294967295|_>>>17),_=I+(S^(b|~v))+E[1]+2240044497&4294967295,I=b+(_<<21&4294967295|_>>>11),_=v+(b^(I|~S))+E[8]+1873313359&4294967295,v=I+(_<<6&4294967295|_>>>26),_=S+(I^(v|~b))+E[15]+4264355552&4294967295,S=v+(_<<10&4294967295|_>>>22),_=b+(v^(S|~I))+E[6]+2734768916&4294967295,b=S+(_<<15&4294967295|_>>>17),_=I+(S^(b|~v))+E[13]+1309151649&4294967295,I=b+(_<<21&4294967295|_>>>11),_=v+(b^(I|~S))+E[4]+4149444226&4294967295,v=I+(_<<6&4294967295|_>>>26),_=S+(I^(v|~b))+E[11]+3174756917&4294967295,S=v+(_<<10&4294967295|_>>>22),_=b+(v^(S|~I))+E[2]+718787259&4294967295,b=S+(_<<15&4294967295|_>>>17),_=I+(S^(b|~v))+E[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+b&4294967295,w.g[3]=w.g[3]+S&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var I=v-this.blockSize,E=this.B,b=this.h,S=0;S<v;){if(b==0)for(;S<=I;)i(this,w,S),S+=this.blockSize;if(typeof w=="string"){for(;S<v;)if(E[b++]=w.charCodeAt(S++),b==this.blockSize){i(this,E),b=0;break}}else for(;S<v;)if(E[b++]=w[S++],b==this.blockSize){i(this,E),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var I=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=I&255,I/=256;for(this.u(w),w=Array(16),v=I=0;4>v;++v)for(var E=0;32>E;E+=8)w[I++]=this.g[v]>>>E&255;return w};function o(w,v){var I=a;return Object.prototype.hasOwnProperty.call(I,w)?I[w]:I[w]=v(w)}function s(w,v){this.h=v;for(var I=[],E=!0,b=w.length-1;0<=b;b--){var S=w[b]|0;E&&S==v||(I[b]=S,E=!1)}this.g=I}var a={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return A(l(-w));for(var v=[],I=1,E=0;w>=I;E++)v[E]=w/I|0,I*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return A(h(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),E=p,b=0;b<w.length;b+=8){var S=Math.min(8,w.length-b),_=parseInt(w.substring(b,b+S),v);8>S?(S=l(Math.pow(v,S)),E=E.j(S).add(l(_))):(E=E.j(I),E=E.add(l(_)))}return E}var p=u(0),y=u(1),m=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-A(this).m();for(var w=0,v=1,I=0;I<this.g.length;I++){var E=this.i(I);w+=(0<=E?E:4294967296+E)*v,v*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(D(this))return"0";if(M(this))return"-"+A(this).toString(w);for(var v=l(Math.pow(w,6)),I=this,E="";;){var b=Ee(I,v).g;I=B(I,b.j(v));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(w);if(I=b,D(I))return S+E;for(;6>S.length;)S="0"+S;E=S+E}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function D(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function M(w){return w.h==-1}n.l=function(w){return w=B(this,w),M(w)?-1:D(w)?0:1};function A(w){for(var v=w.g.length,I=[],E=0;E<v;E++)I[E]=~w.g[E];return new s(I,~w.h).add(y)}n.abs=function(){return M(this)?A(this):this},n.add=function(w){for(var v=Math.max(this.g.length,w.g.length),I=[],E=0,b=0;b<=v;b++){var S=E+(this.i(b)&65535)+(w.i(b)&65535),_=(S>>>16)+(this.i(b)>>>16)+(w.i(b)>>>16);E=_>>>16,S&=65535,_&=65535,I[b]=_<<16|S}return new s(I,I[I.length-1]&-2147483648?-1:0)};function B(w,v){return w.add(A(v))}n.j=function(w){if(D(this)||D(w))return p;if(M(this))return M(w)?A(this).j(A(w)):A(A(this).j(w));if(M(w))return A(this.j(A(w)));if(0>this.l(m)&&0>w.l(m))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,I=[],E=0;E<2*v;E++)I[E]=0;for(E=0;E<this.g.length;E++)for(var b=0;b<w.g.length;b++){var S=this.i(E)>>>16,_=this.i(E)&65535,nr=w.i(b)>>>16,aa=w.i(b)&65535;I[2*E+2*b]+=_*aa,J(I,2*E+2*b),I[2*E+2*b+1]+=S*aa,J(I,2*E+2*b+1),I[2*E+2*b+1]+=_*nr,J(I,2*E+2*b+1),I[2*E+2*b+2]+=S*nr,J(I,2*E+2*b+2)}for(E=0;E<v;E++)I[E]=I[2*E+1]<<16|I[2*E];for(E=v;E<2*v;E++)I[E]=0;return new s(I,0)};function J(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function q(w,v){this.g=w,this.h=v}function Ee(w,v){if(D(v))throw Error("division by zero");if(D(w))return new q(p,p);if(M(w))return v=Ee(A(w),v),new q(A(v.g),A(v.h));if(M(v))return v=Ee(w,A(v)),new q(A(v.g),v.h);if(30<w.g.length){if(M(w)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var I=y,E=v;0>=E.l(w);)I=Ue(I),E=Ue(E);var b=ye(I,1),S=ye(E,1);for(E=ye(E,2),I=ye(I,2);!D(E);){var _=S.add(E);0>=_.l(w)&&(b=b.add(I),S=_),E=ye(E,1),I=ye(I,1)}return v=B(w,b.j(v)),new q(b,v)}for(b=p;0<=w.l(v);){for(I=Math.max(1,Math.floor(w.m()/v.m())),E=Math.ceil(Math.log(I)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),S=l(I),_=S.j(v);M(_)||0<_.l(w);)I-=E,S=l(I),_=S.j(v);D(S)&&(S=y),b=b.add(S),w=B(w,_)}return new q(b,w)}n.A=function(w){return Ee(this,w).h},n.and=function(w){for(var v=Math.max(this.g.length,w.g.length),I=[],E=0;E<v;E++)I[E]=this.i(E)&w.i(E);return new s(I,this.h&w.h)},n.or=function(w){for(var v=Math.max(this.g.length,w.g.length),I=[],E=0;E<v;E++)I[E]=this.i(E)|w.i(E);return new s(I,this.h|w.h)},n.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),I=[],E=0;E<v;E++)I[E]=this.i(E)^w.i(E);return new s(I,this.h^w.h)};function Ue(w){for(var v=w.g.length+1,I=[],E=0;E<v;E++)I[E]=w.i(E)<<1|w.i(E-1)>>>31;return new s(I,w.h)}function ye(w,v){var I=v>>5;v%=32;for(var E=w.g.length-I,b=[],S=0;S<E;S++)b[S]=0<v?w.i(S+I)>>>v|w.i(S+I+1)<<32-v:w.i(S+I);return new s(b,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xv=HS.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Nr=HS.Integer=s}).apply(typeof $S<"u"?$S:typeof self<"u"?self:typeof window<"u"?window:{});var Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pr={};var kv,OB,Ss,Ov,Bc,Rh,Fv,Lv,Vv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ah=="object"&&Ah];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var T=c[g];if(!(T in f))break e;f=f[T]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,T={next:function(){if(!g&&f<c.length){var R=f++;return{value:d(R,c[R]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function y(c,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function m(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function D(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,T,R){for(var V=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)V[Re-2]=arguments[Re];return d.prototype[T].apply(g,V)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function A(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let T=c.length||0,R=g.length||0;c.length=T+R;for(let V=0;V<R;V++)c[T+V]=g[V]}else c.push(g)}}class B{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function J(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Ee(c){return Ee[" "](c),c}Ee[" "]=function(){};var Ue=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ye(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function w(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)c[f]=g[f];for(let R=0;R<I.length;R++)f=I[R],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function _(){var c=Jf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class nr{constructor(){this.h=this.g=null}add(d,f){let g=aa.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var aa=new B(()=>new JM,c=>c.reset());class JM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ca,ua=!1,Jf=new nr,yE=()=>{let c=a.Promise.resolve(void 0);ca=()=>{c.then(XM)}};var XM=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){S(f)}var d=aa;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ua=!1};function $r(){this.s=this.s,this.C=this.C}$r.prototype.s=!1,$r.prototype.ma=function(){this.s||(this.s=!0,this.N())},$r.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function yt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}yt.prototype.h=function(){this.defaultPrevented=!0};var eN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function la(c,d){if(yt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ue){e:{try{Ee(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:tN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&la.aa.h.call(this)}}D(la,yt);var tN={2:"touch",3:"pen",4:"mouse"};la.prototype.h=function(){la.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var da="closure_listenable_"+(1e6*Math.random()|0),nN=0;function rN(c,d,f,g,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++nN,this.da=this.fa=!1}function wu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function bu(c){this.src=c,this.g={},this.h=0}bu.prototype.add=function(c,d,f,g,T){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var V=ep(c,d,g,T);return-1<V?(d=c[V],f||(d.fa=!1)):(d=new rN(d,this.src,R,!!g,T),d.fa=f,c.push(d)),d};function Xf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],T=Array.prototype.indexOf.call(g,d,void 0),R;(R=0<=T)&&Array.prototype.splice.call(g,T,1),R&&(wu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function ep(c,d,f,g){for(var T=0;T<c.length;++T){var R=c[T];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==g)return T}return-1}var tp="closure_lm_"+(1e6*Math.random()|0),np={};function vE(c,d,f,g,T){if(g&&g.once)return IE(c,d,f,g,T);if(Array.isArray(d)){for(var R=0;R<d.length;R++)vE(c,d[R],f,g,T);return null}return f=sp(f),c&&c[da]?c.K(d,f,l(g)?!!g.capture:!!g,T):_E(c,d,f,!1,g,T)}function _E(c,d,f,g,T,R){if(!d)throw Error("Invalid event type");var V=l(T)?!!T.capture:!!T,Re=ip(c);if(Re||(c[tp]=Re=new bu(c)),f=Re.add(d,f,g,V,R),f.proxy)return f;if(g=iN(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)eN||(T=V),T===void 0&&(T=!1),c.addEventListener(d.toString(),g,T);else if(c.attachEvent)c.attachEvent(wE(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function iN(){function c(f){return d.call(c.src,c.listener,f)}let d=oN;return c}function IE(c,d,f,g,T){if(Array.isArray(d)){for(var R=0;R<d.length;R++)IE(c,d[R],f,g,T);return null}return f=sp(f),c&&c[da]?c.L(d,f,l(g)?!!g.capture:!!g,T):_E(c,d,f,!0,g,T)}function EE(c,d,f,g,T){if(Array.isArray(d))for(var R=0;R<d.length;R++)EE(c,d[R],f,g,T);else g=l(g)?!!g.capture:!!g,f=sp(f),c&&c[da]?(c=c.i,d=String(d).toString(),d in c.g&&(R=c.g[d],f=ep(R,f,g,T),-1<f&&(wu(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete c.g[d],c.h--)))):c&&(c=ip(c))&&(d=c.g[d.toString()],c=-1,d&&(c=ep(d,f,g,T)),(f=-1<c?d[c]:null)&&rp(f))}function rp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[da])Xf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(wE(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=ip(d))?(Xf(f,c),f.h==0&&(f.src=null,d[tp]=null)):wu(c)}}}function wE(c){return c in np?np[c]:np[c]="on"+c}function oN(c,d){if(c.da)c=!0;else{d=new la(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&rp(c),c=f.call(g,d)}return c}function ip(c){return c=c[tp],c instanceof bu?c:null}var op="__closure_events_fn_"+(1e9*Math.random()>>>0);function sp(c){return typeof c=="function"?c:(c[op]||(c[op]=function(d){return c.handleEvent(d)}),c[op])}function vt(){$r.call(this),this.i=new bu(this),this.M=this,this.F=null}D(vt,$r),vt.prototype[da]=!0,vt.prototype.removeEventListener=function(c,d,f,g){EE(this,c,d,f,g)};function Ct(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new yt(d,c);else if(d instanceof yt)d.target=d.target||c;else{var T=d;d=new yt(g,c),E(d,T)}if(T=!0,f)for(var R=f.length-1;0<=R;R--){var V=d.g=f[R];T=Du(V,g,!0,d)&&T}if(V=d.g=c,T=Du(V,g,!0,d)&&T,T=Du(V,g,!1,d)&&T,f)for(R=0;R<f.length;R++)V=d.g=f[R],T=Du(V,g,!1,d)&&T}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)wu(f[g]);delete c.g[d],c.h--}}this.F=null},vt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},vt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Du(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,R=0;R<d.length;++R){var V=d[R];if(V&&!V.da&&V.capture==f){var Re=V.listener,ut=V.ha||V.src;V.fa&&Xf(c.i,V),T=Re.call(ut,g)!==!1&&T}}return T&&!g.defaultPrevented}function bE(c,d,f){if(typeof c=="function")f&&(c=y(c,f));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function DE(c){c.g=bE(()=>{c.g=null,c.i&&(c.i=!1,DE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class sN extends $r{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:DE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ha(c){$r.call(this),this.h=c,this.g={}}D(ha,$r);var TE=[];function CE(c){ye(c.g,function(d,f){this.g.hasOwnProperty(f)&&rp(d)},c),c.g={}}ha.prototype.N=function(){ha.aa.N.call(this),CE(this)},ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ap=a.JSON.stringify,aN=a.JSON.parse,cN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function cp(){}cp.prototype.h=null;function SE(c){return c.h||(c.h=c.i())}function AE(){}var fa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function up(){yt.call(this,"d")}D(up,yt);function lp(){yt.call(this,"c")}D(lp,yt);var yi={},RE=null;function Tu(){return RE=RE||new vt}yi.La="serverreachability";function ME(c){yt.call(this,yi.La,c)}D(ME,yt);function pa(c){let d=Tu();Ct(d,new ME(d))}yi.STAT_EVENT="statevent";function NE(c,d){yt.call(this,yi.STAT_EVENT,c),this.stat=d}D(NE,yt);function St(c){let d=Tu();Ct(d,new NE(d,c))}yi.Ma="timingevent";function PE(c,d){yt.call(this,yi.Ma,c),this.size=d}D(PE,yt);function ga(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ma(){this.g=!0}ma.prototype.xa=function(){this.g=!1};function uN(c,d,f,g,T,R){c.info(function(){if(c.g)if(R)for(var V="",Re=R.split("&"),ut=0;ut<Re.length;ut++){var Ie=Re[ut].split("=");if(1<Ie.length){var _t=Ie[0];Ie=Ie[1];var It=_t.split("_");V=2<=It.length&&It[1]=="type"?V+(_t+"="+Ie+"&"):V+(_t+"=redacted&")}}else V=null;else V=R;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+V})}function lN(c,d,f,g,T,R,V){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+R+" "+V})}function Eo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+hN(c,f)+(g?" "+g:"")})}function dN(c,d){c.info(function(){return"TIMEOUT: "+d})}ma.prototype.info=function(){};function hN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var R=T[0];if(R!="noop"&&R!="stop"&&R!="close")for(var V=1;V<T.length;V++)T[V]=""}}}}return ap(f)}catch{return d}}var Cu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dp;function Su(){}D(Su,cp),Su.prototype.g=function(){return new XMLHttpRequest},Su.prototype.i=function(){return{}},dp=new Su;function Hr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new ha(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kE}function kE(){this.i=null,this.g="",this.h=!1}var OE={},hp={};function fp(c,d,f){c.L=1,c.v=Nu(rr(d)),c.m=f,c.P=!0,FE(c,null)}function FE(c,d){c.F=Date.now(),Au(c),c.A=rr(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),YE(f.i,"t",g),c.C=0,f=c.j.J,c.h=new kE,c.g=pw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new sN(y(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(TE[0]=T.toString()),T=TE);for(var R=0;R<T.length;R++){var V=vE(f,T[R],g||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),pa(),uN(c.i,c.u,c.A,c.l,c.R,c.m)}Hr.prototype.ca=function(c){c=c.target;let d=this.M;d&&ir(c)==3?d.j():this.Y(c)},Hr.prototype.Y=function(c){try{if(c==this.g)e:{let It=ir(this.g);var d=this.g.Ba();let Do=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||rw(this.g)))){this.J||It!=4||d==7||(d==8||0>=Do?pa(3):pa(2)),pp(this);var f=this.g.Z();this.X=f;t:if(LE(this)){var g=rw(this.g);c="";var T=g.length,R=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vi(this),ya(this);var V="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(R&&d==T-1)});g.length=0,this.h.g+=c,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=f==200,lN(this.i,this.u,this.A,this.l,this.R,It,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,ut=this.g;if((Re=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Re)){var Ie=Re;break t}}Ie=null}if(f=Ie)Eo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gp(this,f);else{this.o=!1,this.s=3,St(12),vi(this),ya(this);break e}}if(this.P){f=!0;let fn;for(;!this.J&&this.C<V.length;)if(fn=fN(this,V),fn==hp){It==4&&(this.s=4,St(14),f=!1),Eo(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==OE){this.s=4,St(15),Eo(this.i,this.l,V,"[Invalid Chunk]"),f=!1;break}else Eo(this.i,this.l,fn,null),gp(this,fn);if(LE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||V.length!=0||this.h.h||(this.s=1,St(16),f=!1),this.o=this.o&&f,!f)Eo(this.i,this.l,V,"[Invalid Chunked Response]"),vi(this),ya(this);else if(0<V.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),Ep(_t),_t.M=!0,St(11))}}else Eo(this.i,this.l,V,null),gp(this,V);It==4&&vi(this),this.o&&!this.J&&(It==4?lw(this.j,this):(this.o=!1,Au(this)))}else MN(this.g),f==400&&0<V.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),vi(this),ya(this)}}}catch{}finally{}};function LE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function fN(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?hp:(f=Number(d.substring(f,g)),isNaN(f)?OE:(g+=1,g+f>d.length?hp:(d=d.slice(g,g+f),c.C=g+f,d)))}Hr.prototype.cancel=function(){this.J=!0,vi(this)};function Au(c){c.S=Date.now()+c.I,VE(c,c.I)}function VE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ga(y(c.ba,c),d)}function pp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Hr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(dN(this.i,this.A),this.L!=2&&(pa(),St(17)),vi(this),this.s=2,ya(this)):VE(this,this.S-c)};function ya(c){c.j.G==0||c.J||lw(c.j,c)}function vi(c){pp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,CE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function gp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||mp(f.h,c))){if(!c.K&&mp(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Fu(f),ku(f);else break e;Ip(f),St(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=ga(y(f.Za,f),6e3));if(1>=BE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ii(f,11)}else if((c.K||f.g==c)&&Fu(f),!J(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let Ie=T[d];if(f.T=Ie[0],Ie=Ie[1],f.G==2)if(Ie[0]=="c"){f.K=Ie[1],f.ia=Ie[2];let _t=Ie[3];_t!=null&&(f.la=_t,f.j.info("VER="+f.la));let It=Ie[4];It!=null&&(f.Aa=It,f.j.info("SVER="+f.Aa));let Do=Ie[5];Do!=null&&typeof Do=="number"&&0<Do&&(g=1.5*Do,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let fn=c.g;if(fn){let Vu=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vu){var R=g.h;R.g||Vu.indexOf("spdy")==-1&&Vu.indexOf("quic")==-1&&Vu.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(yp(R,R.h),R.h=null))}if(g.D){let wp=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;wp&&(g.ya=wp,Oe(g.I,g.D,wp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var V=c;if(g.qa=fw(g,g.J?g.ia:null,g.W),V.K){$E(g.h,V);var Re=V,ut=g.L;ut&&(Re.I=ut),Re.B&&(pp(Re),Au(Re)),g.g=V}else cw(g);0<f.i.length&&Ou(f)}else Ie[0]!="stop"&&Ie[0]!="close"||Ii(f,7);else f.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Ii(f,7):_p(f):Ie[0]!="noop"&&f.l&&f.l.ta(Ie),f.v=0)}}pa(4)}catch{}}var pN=class{constructor(c,d){this.g=c,this.map=d}};function jE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function UE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function BE(c){return c.h?1:c.g?c.g.size:0}function mp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function yp(c,d){c.g?c.g.add(d):c.h=d}function $E(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}jE.prototype.cancel=function(){if(this.i=HE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function HE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function gN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function mN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function zE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=mN(c),g=gN(c),T=g.length,R=0;R<T;R++)d.call(void 0,g[R],f&&f[R],c)}var qE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),T=null;if(0<=g){var R=c[f].substring(0,g);T=c[f].substring(g+1)}else R=c[f];d(R,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function _i(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _i){this.h=c.h,Ru(this,c.j),this.o=c.o,this.g=c.g,Mu(this,c.s),this.l=c.l;var d=c.i,f=new Ia;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),WE(this,f),this.m=c.m}else c&&(d=String(c).match(qE))?(this.h=!1,Ru(this,d[1]||"",!0),this.o=va(d[2]||""),this.g=va(d[3]||"",!0),Mu(this,d[4]),this.l=va(d[5]||"",!0),WE(this,d[6]||"",!0),this.m=va(d[7]||"")):(this.h=!1,this.i=new Ia(null,this.h))}_i.prototype.toString=function(){var c=[],d=this.j;d&&c.push(_a(d,GE,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(_a(d,GE,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(_a(f,f.charAt(0)=="/"?IN:_N,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",_a(f,wN)),c.join("")};function rr(c){return new _i(c)}function Ru(c,d,f){c.j=f?va(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Mu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function WE(c,d,f){d instanceof Ia?(c.i=d,bN(c.i,c.h)):(f||(d=_a(d,EN)),c.i=new Ia(d,c.h))}function Oe(c,d,f){c.i.set(d,f)}function Nu(c){return Oe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function va(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _a(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,vN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var GE=/[#\/\?@]/g,_N=/[#\?:]/g,IN=/[#\?]/g,EN=/[#\?@]/g,wN=/#/g;function Ia(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function zr(c){c.g||(c.g=new Map,c.h=0,c.i&&yN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Ia.prototype,n.add=function(c,d){zr(this),this.i=null,c=wo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function KE(c,d){zr(c),d=wo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function QE(c,d){return zr(c),d=wo(c,d),c.g.has(d)}n.forEach=function(c,d){zr(this),this.g.forEach(function(f,g){f.forEach(function(T){c.call(d,T,g,this)},this)},this)},n.na=function(){zr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let T=c[g];for(let R=0;R<T.length;R++)f.push(d[g])}return f},n.V=function(c){zr(this);let d=[];if(typeof c=="string")QE(this,c)&&(d=d.concat(this.g.get(wo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return zr(this),this.i=null,c=wo(this,c),QE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function YE(c,d,f){KE(c,d),0<f.length&&(c.i=null,c.g.set(wo(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let R=encodeURIComponent(String(g)),V=this.V(g);for(g=0;g<V.length;g++){var T=R;V[g]!==""&&(T+="="+encodeURIComponent(String(V[g]))),c.push(T)}}return this.i=c.join("&")};function wo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function bN(c,d){d&&!c.j&&(zr(c),c.i=null,c.g.forEach(function(f,g){var T=g.toLowerCase();g!=T&&(KE(this,g),YE(this,T,f))},c)),c.j=d}function DN(c,d){let f=new ma;if(a.Image){let g=new Image;g.onload=m(qr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=m(qr,f,"TestLoadImage: error",!1,d,g),g.onabort=m(qr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=m(qr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function TN(c,d){let f=new ma,g=new AbortController,T=setTimeout(()=>{g.abort(),qr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(R=>{clearTimeout(T),R.ok?qr(f,"TestPingServer: ok",!0,d):qr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),qr(f,"TestPingServer: error",!1,d)})}function qr(c,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function CN(){this.g=new cN}function SN(c,d,f){let g=f||"";try{zE(c,function(T,R){let V=T;l(T)&&(V=ap(T)),d.push(g+R+"="+encodeURIComponent(V))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function Ea(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Ea,cp),Ea.prototype.g=function(){return new Pu(this.l,this.j)},Ea.prototype.i=function(c){return function(){return c}}({});function Pu(c,d){vt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Pu,vt),n=Pu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ba(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wa(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ba(this)),this.g&&(this.readyState=3,ba(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ZE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ZE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?wa(this):ba(this),this.readyState==3&&ZE(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,wa(this))},n.Qa=function(c){this.g&&(this.response=c,wa(this))},n.ga=function(){this.g&&wa(this)};function wa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ba(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ba(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function JE(c){let d="";return ye(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function vp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=JE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Oe(c,d,f))}function Be(c){vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Be,vt);var AN=/^https?$/i,RN=["POST","PUT"];n=Be.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dp.g(),this.v=this.o?SE(this.o):SE(dp),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(R){XE(this,R);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let R of g.keys())f.set(R,g.get(R));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(RN,d,void 0))||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,V]of f)this.g.setRequestHeader(R,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nw(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){XE(this,R)}};function XE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,ew(c),xu(c)}function ew(c){c.A||(c.A=!0,Ct(c,"complete"),Ct(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ct(this,"complete"),Ct(this,"abort"),xu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xu(this,!0)),Be.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?tw(this):this.bb())},n.bb=function(){tw(this)};function tw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||ir(c)!=4||c.Z()!=2)){if(c.u&&ir(c)==4)bE(c.Ea,0,c);else if(Ct(c,"readystatechange"),ir(c)==4){c.h=!1;try{let V=c.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=V===0){var T=String(c.D).match(qE)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),g=!AN.test(T?T.toLowerCase():"")}f=g}if(f)Ct(c,"complete"),Ct(c,"success");else{c.m=6;try{var R=2<ir(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",ew(c)}}finally{xu(c)}}}}function xu(c,d){if(c.g){nw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Ct(c,"ready");try{f.onreadystatechange=g}catch{}}}function nw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function ir(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),aN(d)}};function rw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function MN(c){let d={};c=(c.g&&2<=ir(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(J(c[g]))continue;var f=b(c[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[T]||[];d[T]=R,R.push(f)}w(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Da(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function iw(c){this.Aa=0,this.i=[],this.j=new ma,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Da("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Da("baseRetryDelayMs",5e3,c),this.cb=Da("retryDelaySeedMs",1e4,c),this.Wa=Da("forwardChannelMaxRetries",2,c),this.wa=Da("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new jE(c&&c.concurrentRequestLimit),this.Da=new CN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=iw.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){St(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=fw(this,null,this.W),Ou(this)};function _p(c){if(ow(c),c.G==3){var d=c.U++,f=rr(c.I);if(Oe(f,"SID",c.K),Oe(f,"RID",d),Oe(f,"TYPE","terminate"),Ta(c,f),d=new Hr(c,c.j,d),d.L=2,d.v=Nu(rr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=pw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Au(d)}hw(c)}function ku(c){c.g&&(Ep(c),c.g.cancel(),c.g=null)}function ow(c){ku(c),c.u&&(a.clearTimeout(c.u),c.u=null),Fu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ou(c){if(!UE(c.h)&&!c.s){c.s=!0;var d=c.Ga;ca||yE(),ua||(ca(),ua=!0),Jf.add(d,c),c.B=0}}function NN(c,d){return BE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ga(y(c.Ga,c,d),dw(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new Hr(this,this.j,c),R=this.o;if(this.S&&(R?(R=v(R),E(R,this.S)):R=this.S),this.m!==null||this.O||(T.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=aw(this,T,d),f=rr(this.I),Oe(f,"RID",c),Oe(f,"CVER",22),this.D&&Oe(f,"X-HTTP-Session-Id",this.D),Ta(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(JE(R)))+"&"+d:this.m&&vp(f,this.m,R)),yp(this.h,T),this.Ua&&Oe(f,"TYPE","init"),this.P?(Oe(f,"$req",d),Oe(f,"SID","null"),T.T=!0,fp(T,f,null)):fp(T,f,d),this.G=2}}else this.G==3&&(c?sw(this,c):this.i.length==0||UE(this.h)||sw(this))};function sw(c,d){var f;d?f=d.l:f=c.U++;let g=rr(c.I);Oe(g,"SID",c.K),Oe(g,"RID",f),Oe(g,"AID",c.T),Ta(c,g),c.m&&c.o&&vp(g,c.m,c.o),f=new Hr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=aw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),yp(c.h,f),fp(f,g,d)}function Ta(c,d){c.H&&ye(c.H,function(f,g){Oe(d,g,f)}),c.l&&zE({},function(f,g){Oe(d,g,f)})}function aw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?y(c.l.Na,c.l,c):null;e:{var T=c.i;let R=-1;for(;;){let V=["count="+f];R==-1?0<f?(R=T[0].g,V.push("ofs="+R)):R=0:V.push("ofs="+R);let Re=!0;for(let ut=0;ut<f;ut++){let Ie=T[ut].g,_t=T[ut].map;if(Ie-=R,0>Ie)R=Math.max(0,T[ut].g-100),Re=!1;else try{SN(_t,V,"req"+Ie+"_")}catch{g&&g(_t)}}if(Re){g=V.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function cw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ca||yE(),ua||(ca(),ua=!0),Jf.add(d,c),c.v=0}}function Ip(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ga(y(c.Fa,c),dw(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,uw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ga(y(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),ku(this),uw(this))};function Ep(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function uw(c){c.g=new Hr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=rr(c.qa);Oe(d,"RID","rpc"),Oe(d,"SID",c.K),Oe(d,"AID",c.T),Oe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Oe(d,"TO",c.ja),Oe(d,"TYPE","xmlhttp"),Ta(c,d),c.m&&c.o&&vp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Nu(rr(d)),f.m=null,f.P=!0,FE(f,c)}n.Za=function(){this.C!=null&&(this.C=null,ku(this),Ip(this),St(19))};function Fu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function lw(c,d){var f=null;if(c.g==d){Fu(c),Ep(c),c.g=null;var g=2}else if(mp(c.h,d))f=d.D,$E(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;g=Tu(),Ct(g,new PE(g,f)),Ou(c)}else cw(c);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&NN(c,d)||g==2&&Ip(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function dw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ii(c,d){if(c.j.info("Error code "+d),d==2){var f=y(c.fb,c),g=c.Xa;let T=!g;g=new _i(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ru(g,"https"),Nu(g),T?DN(g.toString(),f):TN(g.toString(),f)}else St(2);c.G=0,c.l&&c.l.sa(d),hw(c),ow(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function hw(c){if(c.G=0,c.ka=[],c.l){let d=HE(c.h);(d.length!=0||c.i.length!=0)&&(A(c.ka,d),A(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function fw(c,d,f){var g=f instanceof _i?rr(f):new _i(f);if(g.g!="")d&&(g.g=d+"."+g.g),Mu(g,g.s);else{var T=a.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var R=new _i(null);g&&Ru(R,g),d&&(R.g=d),T&&Mu(R,T),f&&(R.l=f),g=R}return f=c.D,d=c.ya,f&&d&&Oe(g,f,d),Oe(g,"VER",c.la),Ta(c,g),g}function pw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Be(new Ea({eb:f})):new Be(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function gw(){}n=gw.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Lu(){}Lu.prototype.g=function(c,d){return new Bt(c,d)};function Bt(c,d){vt.call(this),this.g=new iw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!J(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!J(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new bo(this)}D(Bt,vt),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){_p(this.g)},Bt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=ap(c),c=f);d.i.push(new pN(d.Ya++,c)),d.G==3&&Ou(d)},Bt.prototype.N=function(){this.g.l=null,delete this.j,_p(this.g),delete this.g,Bt.aa.N.call(this)};function mw(c){up.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}D(mw,up);function yw(){lp.call(this),this.status=1}D(yw,lp);function bo(c){this.g=c}D(bo,gw),bo.prototype.ua=function(){Ct(this.g,"a")},bo.prototype.ta=function(c){Ct(this.g,new mw(c))},bo.prototype.sa=function(c){Ct(this.g,new yw)},bo.prototype.ra=function(){Ct(this.g,"b")},Lu.prototype.createWebChannel=Lu.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,Vv=Pr.createWebChannelTransport=function(){return new Lu},Lv=Pr.getStatEventTarget=function(){return Tu()},Fv=Pr.Event=yi,Rh=Pr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cu.NO_ERROR=0,Cu.TIMEOUT=8,Cu.HTTP_ERROR=6,Bc=Pr.ErrorCode=Cu,xE.COMPLETE="complete",Ov=Pr.EventType=xE,AE.EventType=fa,fa.OPEN="a",fa.CLOSE="b",fa.ERROR="c",fa.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Ss=Pr.WebChannel=AE,OB=Pr.FetchXmlHttpFactory=Ea,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,kv=Pr.XhrIo=Be}).apply(typeof Ah<"u"?Ah:typeof self<"u"?self:typeof window<"u"?window:{});var zS="@firebase/firestore",qS="4.7.10";var at=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");var Qs="11.5.0";var lo=new Gn("@firebase/firestore");function As(){return lo.logLevel}function H(n,...e){if(lo.logLevel<=fe.DEBUG){let t=e.map(CI);lo.debug(`Firestore (${Qs}): ${n}`,...t)}}function kr(n,...e){if(lo.logLevel<=fe.ERROR){let t=e.map(CI);lo.error(`Firestore (${Qs}): ${n}`,...t)}}function Fs(n,...e){if(lo.logLevel<=fe.WARN){let t=e.map(CI);lo.warn(`Firestore (${Qs}): ${n}`,...t)}}function CI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Q(n="Unexpected state"){let e=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: `+n;throw kr(e),new Error(e)}function Te(n,e){n||Q()}function ee(n,e){return n}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends sn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Mn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Fh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Hv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(at.UNAUTHENTICATED))}shutdown(){}},zv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},qv=class{constructor(e){this.t=e,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Te(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Mn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Mn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>C(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Mn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new Fh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new at(e)}},Wv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=at.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},Gv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Wv(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Lh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Kv=class{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Mr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Te(this.o===void 0);let r=o=>{o.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,H("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Lh(this.V));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Te(typeof t.token=="string"),this.R=t.token,new Lh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function FB(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function OA(){return new TextEncoder}var Vh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=FB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function de(n,e){return n<e?-1:n>e?1:0}function Qv(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return de(r,i);{let o=OA(),s=LB(o.encode(WS(n,t)),o.encode(WS(e,t)));return s!==0?s:de(r,i)}}t+=r>65535?2:1}return de(n.length,e.length)}function WS(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function LB(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return de(n[t],e[t]);return de(n.length,e.length)}function Ls(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var GS=-62135596800,KS=1e6,gt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*KS);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new U(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new U(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<GS)throw new U(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/KS}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-GS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var re=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new gt(0,0))}static max(){return new n(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var QS="__name__",jh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Q(),r===void 0?r=e.length-t:r>e.length-t&&Q(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return de(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Qv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nr.fromString(e.substring(4,e.length-2))}},je=class n extends jh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},VB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qt=class n extends jh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return VB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===QS}static keyField(){return new n([QS])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new U(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new U(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var G=class n{constructor(e){this.path=e}static fromPath(e){return new n(je.fromString(e))}static fromName(e){return new n(je.fromString(e).popFirst(5))}static empty(){return new n(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new je(e.slice()))}};var Wc=-1,Yv=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Yv.UNKNOWN_ID=-1;function jB(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new gt(t+1,0):new gt(t,r));return new ho(i,G.empty(),e)}function UB(n){return new ho(n.readTime,n.key,Wc)}var ho=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(re.min(),G.empty(),Wc)}static max(){return new n(re.max(),G.empty(),Wc)}};function BB(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=G.comparator(n.documentKey,e.documentKey),t!==0?t:de(n.largestBatchId,e.largestBatchId))}var $B="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ys(n){return C(this,null,function*(){if(n.code!==x.FAILED_PRECONDITION||n.message!==$B)throw n;H("LocalStore","Unexpectedly lost primary lease")})}var F=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function HB(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zs(n){return n.name==="IndexedDbTransactionError"}var SI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this._e&&this._e(t),t}}n.ae=-1;return n})(),AI=-1;function Ef(n){return n==null}function Gc(n){return n===0&&1/n==-1/0}function zB(n){return typeof n=="number"&&Number.isInteger(n)&&!Gc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var FA="";function qB(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=YS(e)),e=WB(n.get(t),e);return YS(e)}function WB(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case FA:t+="";break;default:t+=o}}return t}function YS(n){return n+FA+""}var GB="remoteDocuments",LA="owner";var VA="mutationQueues";var jA="mutations";var UA="documentMutations",KB="remoteDocumentsV14";var BA="remoteDocumentGlobal";var $A="targets";var HA="targetDocuments";var zA="targetGlobal",qA="collectionParents";var WA="clientMetadata";var GA="bundles";var KA="namedQueries";var QB="indexConfiguration";var YB="indexState";var ZB="indexEntries";var QA="documentOverlays";var JB="globals";var XB=[VA,jA,UA,GB,$A,LA,zA,HA,WA,BA,qA,GA,KA],fZ=[...XB,QA],e$=[VA,jA,UA,KB,$A,LA,zA,HA,WA,BA,qA,GA,KA,QA],t$=e$,n$=[...t$,QB,YB,ZB];var pZ=[...n$,JB];function ZS(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function pi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function YA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var qe=class n{constructor(e,t){this.comparator=e,this.root=t||Qn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ps(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ps(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ps(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ps(this.root,e,this.comparator,!0)}},Ps=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Qn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();let e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}};Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Qn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ct=class n{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Uh(this.data.getIterator())}getIteratorFrom(e){return new Uh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Uh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var cn=class n{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new n([])}unionWith(e){let t=new ct(Qt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ls(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Bh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Tt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Bh("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Tt.EMPTY_BYTE_STRING=new Tt("");var r$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(n){if(Te(!!n),typeof n=="string"){let e=0,t=r$.exec(n);if(Te(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(n.seconds),nanos:Ve(n.nanos)}}function Ve(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Fr(n){return typeof n=="string"?Tt.fromBase64String(n):Tt.fromUint8Array(n)}var ZA="server_timestamp",JA="__type__",XA="__previous_value__",eR="__local_write_time__";function wf(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[JA])===null||t===void 0?void 0:t.stringValue)===ZA}function bf(n){let e=n.mapValue.fields[XA];return wf(e)?bf(e):e}function Kc(n){let e=Or(n.mapValue.fields[eR].timestampValue);return new gt(e.seconds,e.nanos)}var Jv=class{constructor(e,t,r,i,o,s,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},$h="(default)",Hh=class n{constructor(e,t){this.projectId=e,this.database=t||$h}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===$h}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var RI="__type__",tR="__max__",Mh={mapValue:{fields:{__type__:{stringValue:tR}}}},MI="__vector__",Vs="value";function li(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wf(n)?4:rR(n)?9007199254740991:nR(n)?10:11:Q()}function Jn(n,e){if(n===e)return!0;let t=li(n);if(t!==li(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kc(n).isEqual(Kc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Or(i.timestampValue),a=Or(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Fr(i.bytesValue).isEqual(Fr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ve(i.geoPointValue.latitude)===Ve(o.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ve(i.integerValue)===Ve(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ve(i.doubleValue),a=Ve(o.doubleValue);return s===a?Gc(s)===Gc(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ls(n.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(ZS(s)!==ZS(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Jn(s[u],a[u])))return!1;return!0}(n,e);default:return Q()}}function Qc(n,e){return(n.values||[]).find(t=>Jn(t,e))!==void 0}function js(n,e){if(n===e)return 0;let t=li(n),r=li(e);if(t!==r)return de(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return de(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ve(o.integerValue||o.doubleValue),u=Ve(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return JS(n.timestampValue,e.timestampValue);case 4:return JS(Kc(n),Kc(e));case 5:return Qv(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Fr(o),u=Fr(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=de(a[l],u[l]);if(h!==0)return h}return de(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=de(Ve(o.latitude),Ve(s.latitude));return a!==0?a:de(Ve(o.longitude),Ve(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return XS(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},y=s.fields||{},m=(a=p[Vs])===null||a===void 0?void 0:a.arrayValue,D=(u=y[Vs])===null||u===void 0?void 0:u.arrayValue,M=de(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((h=D?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:XS(m,D)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Mh.mapValue&&s===Mh.mapValue)return 0;if(o===Mh.mapValue)return 1;if(s===Mh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let y=Qv(u[p],h[p]);if(y!==0)return y;let m=js(a[u[p]],l[h[p]]);if(m!==0)return m}return de(u.length,h.length)}(n.mapValue,e.mapValue);default:throw Q()}}function JS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return de(n,e);let t=Or(n),r=Or(e),i=de(t.seconds,r.seconds);return i!==0?i:de(t.nanos,r.nanos)}function XS(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=js(t[i],r[i]);if(o)return o}return de(t.length,r.length)}function Us(n){return Xv(n)}function Xv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Or(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Fr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return G.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Xv(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Xv(t.fields[s])}`;return i+"}"}(n.mapValue):Q()}function xh(n){switch(li(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=bf(n);return e?16+xh(e):16;case 5:return 2*n.stringValue.length;case 6:return Fr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+xh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return pi(r.fields,(o,s)=>{i+=o.length+xh(s)}),i}(n.mapValue);default:throw Q()}}function zh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function e_(n){return!!n&&"integerValue"in n}function NI(n){return!!n&&"arrayValue"in n}function eA(n){return!!n&&"nullValue"in n}function tA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kh(n){return!!n&&"mapValue"in n}function nR(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[RI])===null||t===void 0?void 0:t.stringValue)===MI}function Hc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return pi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Hc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function rR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===tR}var mZ={mapValue:{fields:{[RI]:{stringValue:MI},[Vs]:{arrayValue:{}}}}};var Kt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hc(t)}setAll(e){let t=Qt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Hc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());kh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];kh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){pi(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Hc(this.value))}};function iR(n){let e=[];return pi(n.fields,(t,r)=>{let i=new Qt([t]);if(kh(r)){let o=iR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new cn(e)}var Nn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,re.min(),re.min(),re.min(),Kt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,re.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,re.min(),re.min(),Kt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,re.min(),re.min(),Kt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var di=class{constructor(e,t){this.position=e,this.inclusive=t}};function nA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=G.comparator(G.fromName(s.referenceValue),t.key):r=js(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function rA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jn(n.position[t],e.position[t]))return!1;return!0}var fo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function i$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var qh=class{},et=class n extends qh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new n_(e,t,r):t==="array-contains"?new o_(e,r):t==="in"?new s_(e,r):t==="not-in"?new a_(e,r):t==="array-contains-any"?new c_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new r_(e,r):new i_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(js(t,this.value)):t!==null&&li(this.value)===li(t)&&this.matchesComparison(js(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Pn=class n extends qh{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new n(e,t)}matches(e){return oR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}};function oR(n){return n.op==="and"}function sR(n){return o$(n)&&oR(n)}function o$(n){for(let e of n.filters)if(e instanceof Pn)return!1;return!0}function t_(n){if(n instanceof et)return n.field.canonicalString()+n.op.toString()+Us(n.value);if(sR(n))return n.filters.map(e=>t_(e)).join(",");{let e=n.filters.map(t=>t_(t)).join(",");return`${n.op}(${e})`}}function aR(n,e){return n instanceof et?function(r,i){return i instanceof et&&r.op===i.op&&r.field.isEqual(i.field)&&Jn(r.value,i.value)}(n,e):n instanceof Pn?function(r,i){return i instanceof Pn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&aR(s,i.filters[a]),!0):!1}(n,e):void Q()}function cR(n){return n instanceof et?function(t){return`${t.field.canonicalString()} ${t.op} ${Us(t.value)}`}(n):n instanceof Pn?function(t){return t.op.toString()+" {"+t.getFilters().map(cR).join(" ,")+"}"}(n):"Filter"}var n_=class extends et{constructor(e,t,r){super(e,t,r),this.key=G.fromName(r.referenceValue)}matches(e){let t=G.comparator(e.key,this.key);return this.matchesComparison(t)}},r_=class extends et{constructor(e,t){super(e,"in",t),this.keys=uR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},i_=class extends et{constructor(e,t){super(e,"not-in",t),this.keys=uR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function uR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>G.fromName(r.referenceValue))}var o_=class extends et{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return NI(t)&&Qc(t.arrayValue,this.value)}},s_=class extends et{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Qc(this.value.arrayValue,t)}},a_=class extends et{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Qc(this.value.arrayValue,t)}},c_=class extends et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!NI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Qc(this.value.arrayValue,r))}};var u_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.le=null}};function iA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new u_(n,e,t,r,i,o,s)}function PI(n){let e=ee(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>t_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ef(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Us(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Us(r)).join(",")),e.le=t}return e.le}function xI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!i$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!aR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rA(n.startAt,e.startAt)&&rA(n.endAt,e.endAt)}function l_(n){return G.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Lr=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}};function s$(n,e,t,r,i,o,s,a){return new Lr(n,e,t,r,i,o,s,a)}function Df(n){return new Lr(n)}function oA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function kI(n){return n.collectionGroup!==null}function xs(n){let e=ee(n);if(e.he===null){e.he=[];let t=new Set;for(let o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ct(Qt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new fo(o,r))}),t.has(Qt.keyField().canonicalString())||e.he.push(new fo(Qt.keyField(),r))}return e.he}function Yn(n){let e=ee(n);return e.Pe||(e.Pe=a$(e,xs(n))),e.Pe}function a$(n,e){if(n.limitType==="F")return iA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new fo(i.field,o)});let t=n.endAt?new di(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new di(n.startAt.position,n.startAt.inclusive):null;return iA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function d_(n,e){let t=n.filters.concat([e]);return new Lr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Wh(n,e,t){return new Lr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Tf(n,e){return xI(Yn(n),Yn(e))&&n.limitType===e.limitType}function lR(n){return`${PI(Yn(n))}|lt:${n.limitType}`}function Rs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>cR(i)).join(", ")}]`),Ef(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Us(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Us(i)).join(",")),`Target(${r})`}(Yn(n))}; limitType=${n.limitType})`}function Cf(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):G.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of xs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=nA(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,xs(r),i)||r.endAt&&!function(s,a,u){let l=nA(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,xs(r),i))}(n,e)}function c$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dR(n){return(e,t)=>{let r=!1;for(let i of xs(n)){let o=u$(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function u$(n,e,t){let r=n.field.isKeyField()?G.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?js(u,l):Q()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}var Vr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pi(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return YA(this.inner)}size(){return this.innerSize}};var l$=new qe(G.comparator);function jr(){return l$}var hR=new qe(G.comparator);function $c(...n){let e=hR;for(let t of n)e=e.insert(t.key,t);return e}function fR(n){let e=hR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ao(){return zc()}function pR(){return zc()}function zc(){return new Vr(n=>n.toString(),(n,e)=>n.isEqual(e))}var d$=new qe(G.comparator),h$=new ct(G.comparator);function me(...n){let e=h$;for(let t of n)e=e.add(t);return e}var f$=new ct(de);function p$(){return f$}function OI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function gR(n){return{integerValue:""+n}}function g$(n,e){return zB(e)?gR(e):OI(n,e)}var Bs=class{constructor(){this._=void 0}};function m$(n,e,t){return n instanceof $s?function(i,o){let s={fields:{[JA]:{stringValue:ZA},[eR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&wf(o)&&(o=bf(o)),o&&(s.fields[XA]=o),{mapValue:s}}(t,e):n instanceof po?yR(n,e):n instanceof go?vR(n,e):function(i,o){let s=mR(i,o),a=sA(s)+sA(i.Ie);return e_(s)&&e_(i.Ie)?gR(a):OI(i.serializer,a)}(n,e)}function y$(n,e,t){return n instanceof po?yR(n,e):n instanceof go?vR(n,e):t}function mR(n,e){return n instanceof Hs?function(r){return e_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var $s=class extends Bs{},po=class extends Bs{constructor(e){super(),this.elements=e}};function yR(n,e){let t=_R(e);for(let r of n.elements)t.some(i=>Jn(i,r))||t.push(r);return{arrayValue:{values:t}}}var go=class extends Bs{constructor(e){super(),this.elements=e}};function vR(n,e){let t=_R(e);for(let r of n.elements)t=t.filter(i=>!Jn(i,r));return{arrayValue:{values:t}}}var Hs=class extends Bs{constructor(e,t){super(),this.serializer=e,this.Ie=t}};function sA(n){return Ve(n.integerValue||n.doubleValue)}function _R(n){return NI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function v$(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof po&&i instanceof po||r instanceof go&&i instanceof go?Ls(r.elements,i.elements,Jn):r instanceof Hs&&i instanceof Hs?Jn(r.Ie,i.Ie):r instanceof $s&&i instanceof $s}(n.transform,e.transform)}var h_=class{constructor(e,t){this.version=e,this.transformResults=t}},xr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Oh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var zs=class{};function IR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Yc(n.key,xr.none()):new mo(n.key,n.data,xr.none());{let t=n.data,r=Kt.empty(),i=new ct(Qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Xn(n.key,r,new cn(i.toArray()),xr.none())}}function _$(n,e,t){n instanceof mo?function(i,o,s){let a=i.value.clone(),u=cA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Xn?function(i,o,s){if(!Oh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=cA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(ER(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function qc(n,e,t,r){return n instanceof mo?function(o,s,a,u){if(!Oh(o.precondition,s))return a;let l=o.value.clone(),h=uA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Xn?function(o,s,a,u){if(!Oh(o.precondition,s))return a;let l=uA(o.fieldTransforms,u,s),h=s.data;return h.setAll(ER(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Oh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function I$(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=mR(r.transform,i||null);o!=null&&(t===null&&(t=Kt.empty()),t.set(r.field,o))}return t||null}function aA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ls(r,i,(o,s)=>v$(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var mo=class extends zs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Xn=class extends zs{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function ER(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function cA(n,e,t){let r=new Map;Te(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,y$(s,a,t[i]))}return r}function uA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,m$(o,s,e))}return r}var Yc=class extends zs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},f_=class extends zs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var p_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&_$(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=qc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=qc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=pR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=IR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),me())}isEqual(e){return this.batchId===e.batchId&&Ls(this.mutations,e.mutations,(t,r)=>aA(t,r))&&Ls(this.baseMutations,e.baseMutations,(t,r)=>aA(t,r))}},g_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Te(e.mutations.length===r.length);let i=function(){return d$}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var m_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var y_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Je,_e;function E$(n){switch(n){case x.OK:return Q();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return Q()}}function wR(n){if(n===void 0)return kr("GRPC error has no .code"),x.UNKNOWN;switch(n){case Je.OK:return x.OK;case Je.CANCELLED:return x.CANCELLED;case Je.UNKNOWN:return x.UNKNOWN;case Je.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Je.INTERNAL:return x.INTERNAL;case Je.UNAVAILABLE:return x.UNAVAILABLE;case Je.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Je.NOT_FOUND:return x.NOT_FOUND;case Je.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Je.ABORTED:return x.ABORTED;case Je.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Je.DATA_LOSS:return x.DATA_LOSS;default:return Q()}}(_e=Je||(Je={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var lA=null;var w$=new Nr([4294967295,4294967295],0);function dA(n){let e=OA().encode(n),t=new xv;return t.update(e),new Uint8Array(t.digest())}function hA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Nr([t,r],0),new Nr([i,o],0)]}var v_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new co(`Invalid padding: ${t}`);if(r<0)throw new co(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new co(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new co(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Nr.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Nr.fromNumber(r)));return i.compare(w$)===1&&(i=new Nr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;let t=dA(e),[r,i]=hA(t);for(let o=0;o<this.hashCount;o++){let s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ee===0)return;let t=dA(e),[r,i]=hA(t);for(let o=0;o<this.hashCount;o++){let s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},co=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Gh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Zc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(re.min(),i,new qe(de),jr(),me())}},Zc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,me(),me(),me())}};var ks=class{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}},Kh=class{constructor(e,t){this.targetId=e,this.ge=t}},Qh=class{constructor(e,t,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Yh=class{constructor(){this.pe=0,this.ye=fA(),this.we=Tt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=me(),t=me(),r=me();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new Zc(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=fA()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Te(this.pe>=0)}Le(){this.be=!0,this.Se=!0}},__=class{constructor(e){this.ke=e,this.qe=new Map,this.Qe=jr(),this.$e=Nh(),this.Ue=Nh(),this.Ke=new qe(de)}We(e){for(let t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(let t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{let r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Q()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){let t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){let o=i.target;if(l_(o))if(r===0){let s=new G(o.path);this.ze(t,s,Nn.newNoDocument(s,re.min()))}else Te(r===1);else{let s=this.et(t);if(s!==r){let a=this.tt(e),u=a?this.nt(a,e,s):1;if(u!==0){this.Ye(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,l)}lA?.rt(function(h,p,y,m,D){var M,A,B,J,q,Ee;let Ue={localCacheCount:h,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},ye=p.unchangedNames;return ye&&(Ue.bloomFilter={applied:D===0,hashCount:(M=ye?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(J=(B=(A=ye?.bits)===null||A===void 0?void 0:A.bitmap)===null||B===void 0?void 0:B.length)!==null&&J!==void 0?J:0,padding:(Ee=(q=ye?.bits)===null||q===void 0?void 0:q.padding)!==null&&Ee!==void 0?Ee:0,mightContain:w=>{var v;return(v=m?.mightContain(w))!==null&&v!==void 0&&v}}),Ue}(s,e.ge,this.ke.it(),a,u))}}}}tt(e){let t=e.ge.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Fr(r).toUint8Array()}catch(u){if(u instanceof Bh)return Fs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new v_(s,i,o)}catch(u){return Fs(u instanceof co?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ee===0?null:a}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){let r=this.ke.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ke.it(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,o,null),i++)}),i}ot(e){let t=new Map;this.qe.forEach((o,s)=>{let a=this.Xe(s);if(a){if(o.current&&l_(a.target)){let u=new G(a.target.path);this._t(u).has(s)||this.ut(s,u)||this.ze(s,u,Nn.newNoDocument(u,e))}o.ve&&(t.set(s,o.Fe()),o.Me())}});let r=me();this.Ue.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Xe(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));let i=new Gh(e,t,this.Ke,this.Qe,r);return this.Qe=jr(),this.$e=Nh(),this.Ue=Nh(),this.Ke=new qe(de),i}Ge(e,t){if(!this.Je(e))return;let r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;let i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){let t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Yh,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new ct(de),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new ct(de),this.$e=this.$e.insert(e,t)),t}Je(e){let t=this.Xe(e)!==null;return t||H("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){let t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Yh),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}};function Nh(){return new qe(G.comparator)}function fA(){return new qe(G.comparator)}var b$={asc:"ASCENDING",desc:"DESCENDING"},D$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T$={and:"AND",or:"OR"},I_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function E_(n,e){return n.useProto3Json||Ef(e)?e:{value:e}}function Zh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function C$(n,e){return Zh(n,e.toTimestamp())}function Zn(n){return Te(!!n),re.fromTimestamp(function(t){let r=Or(t);return new gt(r.seconds,r.nanos)}(n))}function FI(n,e){return w_(n,e).canonicalString()}function w_(n,e){let t=function(i){return new je(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function DR(n){let e=je.fromString(n);return Te(RR(e)),e}function b_(n,e){return FI(n.databaseId,e.path)}function jv(n,e){let t=DR(e);if(t.get(1)!==n.databaseId.projectId)throw new U(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new U(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new G(CR(t))}function TR(n,e){return FI(n.databaseId,e)}function S$(n){let e=DR(n);return e.length===4?je.emptyPath():CR(e)}function D_(n){return new je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CR(n){return Te(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function pA(n,e,t){return{name:b_(n,e),fields:t.value.mapValue.fields}}function A$(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Te(h===void 0||typeof h=="string"),Tt.fromBase64String(h||"")):(Te(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Tt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?x.UNKNOWN:wR(l.code);return new U(h,l.message||"")}(s);t=new Qh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=jv(n,r.document.name),o=Zn(r.document.updateTime),s=r.document.createTime?Zn(r.document.createTime):re.min(),a=new Kt({mapValue:{fields:r.document.fields}}),u=Nn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new ks(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=jv(n,r.document),o=r.readTime?Zn(r.readTime):re.min(),s=Nn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new ks([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=jv(n,r.document),o=r.removedTargetIds||[];t=new ks([],o,i,null)}else{if(!("filter"in e))return Q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new y_(i,o),a=r.targetId;t=new Kh(a,s)}}return t}function R$(n,e){let t;if(e instanceof mo)t={update:pA(n,e.key,e.value)};else if(e instanceof Yc)t={delete:b_(n,e.key)};else if(e instanceof Xn)t={update:pA(n,e.key,e.data),updateMask:V$(e.fieldMask)};else{if(!(e instanceof f_))return Q();t={verify:b_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof $s)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof po)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof go)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Hs)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Q()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:C$(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q()}(n,e.precondition)),t}function M$(n,e){return n&&n.length>0?(Te(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?Zn(i.updateTime):Zn(o);return s.isEqual(re.min())&&(s=Zn(o)),new h_(s,i.transformResults||[])}(t,e))):[]}function N$(n,e){return{documents:[TR(n,e.path)]}}function P$(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=TR(n,i);let o=function(l){if(l.length!==0)return AR(Pn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(y){return{field:Ms(y.field),direction:O$(y.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=E_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ht:t,parent:i}}function x$(n){let e=S$(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Te(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let y=SR(p);return y instanceof Pn&&sR(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(y=>function(D){return new fo(Ns(D.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(y))}(t.orderBy));let a=null;t.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,Ef(y)?null:y}(t.limit));let u=null;t.startAt&&(u=function(p){let y=!!p.before,m=p.values||[];return new di(m,y)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let y=!p.before,m=p.values||[];return new di(m,y)}(t.endAt)),s$(e,i,s,o,a,"F",u,l)}function k$(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function SR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ns(t.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ns(t.unaryFilter.field);return et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ns(t.unaryFilter.field);return et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ns(t.unaryFilter.field);return et.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(n):n.fieldFilter!==void 0?function(t){return et.create(Ns(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Pn.create(t.compositeFilter.filters.map(r=>SR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(t.compositeFilter.op))}(n):Q()}function O$(n){return b$[n]}function F$(n){return D$[n]}function L$(n){return T$[n]}function Ms(n){return{fieldPath:n.canonicalString()}}function Ns(n){return Qt.fromServerFormat(n.fieldPath)}function AR(n){return n instanceof et?function(t){if(t.op==="=="){if(tA(t.value))return{unaryFilter:{field:Ms(t.field),op:"IS_NAN"}};if(eA(t.value))return{unaryFilter:{field:Ms(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tA(t.value))return{unaryFilter:{field:Ms(t.field),op:"IS_NOT_NAN"}};if(eA(t.value))return{unaryFilter:{field:Ms(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ms(t.field),op:F$(t.op),value:t.value}}}(n):n instanceof Pn?function(t){let r=t.getFilters().map(i=>AR(i));return r.length===1?r[0]:{compositeFilter:{op:L$(t.op),filters:r}}}(n):Q()}function V$(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function RR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Jc=class n{constructor(e,t,r,i,o=re.min(),s=re.min(),a=Tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var T_=class{constructor(e){this.Tt=e}};function j$(n){let e=x$({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Wh(e,e.limit,"L"):e}var Jh=class{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Ve(e.integerValue));else if("doubleValue"in e){let r=Ve(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),Gc(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=Or(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(Fr(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?rR(e)?this.ft(t,Number.MAX_SAFE_INTEGER):nR(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):Q()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){let r=e.fields||{};this.ft(t,55);for(let i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;let o=e.fields||{};this.ft(t,53);let s=Vs,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(Ve(a)),this.wt(s,t),this.Rt(o[s],t)}Ft(e,t){let r=e.values||[];this.ft(t,50);for(let i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),G.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}St(e){e.gt(2)}};Jh.xt=new Jh;var C_=class{constructor(){this.Tn=new S_}addToCollectionParentIndex(e,t){return this.Tn.add(t),F.resolve()}getCollectionParents(e,t){return F.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return F.resolve()}deleteFieldIndex(e,t){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,t){return F.resolve()}getDocumentsMatchingTarget(e,t){return F.resolve(null)}getIndexType(e,t){return F.resolve(0)}getFieldIndexes(e,t){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,t){return F.resolve(ho.min())}getMinOffsetFromCollectionGroup(e,t){return F.resolve(ho.min())}updateCollectionGroup(e,t,r){return F.resolve()}updateIndexEntries(e,t){return F.resolve()}},S_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ct(je.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(je.comparator)).toArray()}};var yZ=new Uint8Array(0);var gA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MR=41943040,an=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(MR,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);var Xc=class n{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new n(0)}static Kn(){return new n(-1)}};var mA="LruGarbageCollector",U$=1048576;function yA([n,e],[t,r]){let i=de(n,t);return i===0?de(e,r):i}var A_=class{constructor(e){this.Hn=e,this.buffer=new ct(yA),this.Jn=0}Yn(){return++this.Jn}Zn(e){let t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();yA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},R_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){H(mA,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>C(this,null,function*(){this.Xn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zs(t)?H(mA,"Ignoring IndexedDB error during garbage collection: ",t):yield Ys(t)}yield this.er(3e5)}))}},M_=class{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return F.resolve(SI.ae);let r=new A_(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(gA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gA):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),As()<=fe.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function B$(n,e){return new M_(n,e)}var N_=class{constructor(){this.changes=new Vr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?F.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var P_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var x_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&qc(r.mutation,i,cn.empty(),gt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=me()){let i=ao();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=$c();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=ao();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,me()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=jr(),s=zc(),a=function(){return zc()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Xn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),qc(h.mutation,l,h.mutation.getFieldMask(),gt.now())):s.set(l.key,cn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new P_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=zc(),i=new qe((s,a)=>s-a),o=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||cn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=pR();h.forEach(y=>{if(!o.has(y)){let m=IR(t.get(y),r.get(y));m!==null&&p.set(y,m),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):F.resolve(ao()),a=Wc,u=o;return s.next(l=>F.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{u=u.insert(h,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,me())).next(h=>({batchId:a,changes:fR(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new G(t)).next(r=>{let i=$c();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=$c();return this.indexManager.getCollectionParents(e,o).next(a=>F.forEach(a,u=>{let l=function(p,y){return new Lr(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Nn.newInvalidDocument(h)))});let a=$c();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&qc(h.mutation,l,cn.empty(),gt.now()),Cf(t,l)&&(a=a.insert(u,l))}),a})}};var k_=class{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return F.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Zn(i.createTime)}}(t)),F.resolve()}getNamedQuery(e,t){return F.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:j$(i.bundledQuery),readTime:Zn(i.readTime)}}(t)),F.resolve()}};var O_=class{constructor(){this.overlays=new qe(G.comparator),this.Rr=new Map}getOverlay(e,t){return F.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ao();return F.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),F.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),F.resolve()}getOverlaysForCollection(e,t,r){let i=ao(),o=t.length+1,s=new G(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new qe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=ao(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=ao(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return F.resolve(a)}Et(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new m_(t,r));let o=this.Rr.get(t);o===void 0&&(o=me(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}};var F_=class{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,F.resolve()}};var eu=class{constructor(){this.Vr=new ct(Xe.mr),this.gr=new ct(Xe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){let r=new Xe(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Xe(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){let t=new G(new je([])),r=new Xe(t,e),i=new Xe(t,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){let t=new G(new je([])),r=new Xe(t,e),i=new Xe(t,e+1),o=me();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Xe(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Xe=class{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return G.comparator(e.key,t.key)||de(e.Cr,t.Cr)}static pr(e,t){return de(e.Cr,t.Cr)||G.comparator(e.key,t.key)}};var L_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new ct(Xe.mr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new p_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Mr=this.Mr.add(new Xe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,t){return F.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Nr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?AI:this.Fr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Xe(t,0),i=new Xe(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{let a=this.Or(s.Cr);o.push(a)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ct(de);return t.forEach(i=>{let o=new Xe(i,0),s=new Xe(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],a=>{r=r.add(a.Cr)})}),F.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;G.isDocumentKey(o)||(o=o.child(""));let s=new Xe(new G(o),0),a=new ct(de);return this.Mr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Cr)),!0)},s),F.resolve(this.Br(a))}Br(e){let t=[];return e.forEach(r=>{let i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Te(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return F.forEach(t.mutations,i=>{let o=new Xe(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){let r=new Xe(t,0),i=this.Mr.firstAfterOrEqual(r);return F.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){let t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var V_=class{constructor(e){this.kr=e,this.docs=function(){return new qe(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return F.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(t))}getEntries(e,t){let r=jr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Nn.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=jr(),s=t.path,a=new G(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||BB(UB(h),r)<=0||(i.has(h.key)||Cf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Q()}qr(e,t){return F.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new j_(this)}getSize(e){return F.resolve(this.size)}},j_=class extends N_{constructor(e){super(),this.Ir=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),F.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}};var U_=class{constructor(e){this.persistence=e,this.Qr=new Vr(t=>PI(t),xI),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.$r=0,this.Ur=new eu,this.targetCount=0,this.Kr=Xc.Un()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),F.resolve()}zn(e){this.Qr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Kr=new Xc(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,F.resolve()}updateTargetData(e,t){return this.zn(t),F.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,t){let r=this.Qr.get(t)||null;return F.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),F.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),F.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Ur.vr(t);return F.resolve(r)}containsKey(e,t){return F.resolve(this.Ur.containsKey(t))}};var Xh=class{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new SI(0),this.zr=!1,this.zr=!0,this.jr=new F_,this.referenceDelegate=e(this),this.Hr=new U_(this),this.indexManager=new C_,this.remoteDocumentCache=function(i){return new V_(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new T_(t),this.Yr=new k_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new O_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new L_(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){H("MemoryPersistence","Starting transaction:",e);let i=new B_(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return F.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}},B_=class extends Zv{constructor(e){super(),this.currentSequenceNumber=e}},$_=class n{constructor(e){this.persistence=e,this.ti=new eu,this.ni=null}static ri(e){return new n(e)}get ii(){if(this.ni)return this.ni;throw Q()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),F.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),F.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.ii,r=>{let i=G.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,re.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return F.or([()=>F.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}},ef=class n{constructor(e,t){this.persistence=e,this.oi=new Vr(r=>qB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=B$(this,t)}static ri(e,t){return new n(e,t)}Zr(){}Xr(e){return F.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){let t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return F.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?F.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,t).next(a=>{a||(r++,o.removeEntry(s,re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),F.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),F.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xh(e.data.value)),t}ar(e,t,r){return F.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.oi.get(t);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var H_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=me(),i=me();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var z_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var q_=class{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return KC()?8:HB(Gt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.rs(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new z_;return this._s(e,t,s).next(a=>{if(o.result=a,this.Xi)return this.us(e,t,s,a.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(As()<=fe.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Rs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),F.resolve()):(As()<=fe.DEBUG&&H("QueryEngine","Query:",Rs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(As()<=fe.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Rs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(t))):F.resolve())}rs(e,t){if(oA(t))return F.resolve(null);let r=Yn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Wh(t,null,"F"),r=Yn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=me(...o);return this.ns.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.cs(t,a);return this.ls(t,l,s,u.readTime)?this.rs(e,Wh(t,null,"F")):this.hs(e,l,t,u)}))})))}ss(e,t,r,i){return oA(t)||i.isEqual(re.min())?F.resolve(null):this.ns.getDocuments(e,r).next(o=>{let s=this.cs(t,o);return this.ls(t,s,r,i)?F.resolve(null):(As()<=fe.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Rs(t)),this.hs(e,s,t,jB(i,Wc)).next(a=>a))})}cs(e,t){let r=new ct(dR(e));return t.forEach((i,o)=>{Cf(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return As()<=fe.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Rs(t)),this.ns.getDocumentsMatchingQuery(e,t,ho.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var LI="LocalStore",$$=3e8,W_=class{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new qe(de),this.Is=new Vr(o=>PI(o),xI),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x_(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}};function H$(n,e,t,r){return new W_(n,e,t,r)}function NR(n,e){return C(this,null,function*(){let t=ee(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=me();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Rs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function z$(n,e){let t=ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,y=p.keys(),m=F.resolve();return y.forEach(D=>{m=m.next(()=>h.getEntry(u,D)).next(M=>{let A=l.docVersions.get(D);Te(A!==null),M.version.compareTo(A)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=me();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function PR(n){let e=ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function q$(n,e){let t=ee(n),r=e.snapshotVersion,i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;let a=[];e.targetChanges.forEach((h,p)=>{let y=i.get(p);if(!y)return;a.push(t.Hr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Hr.addMatchingKeys(o,h.addedDocuments,p)));let m=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(Tt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(M,A,B){return M.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=$$?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(y,m,h)&&a.push(t.Hr.updateTargetData(o,m))});let u=jr(),l=me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(W$(o,s,e.documentUpdates).next(h=>{u=h.Vs,l=h.fs})),!r.isEqual(re.min())){let h=t.Hr.getLastRemoteSnapshotVersion(o).next(p=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Ts=i,o))}function W$(n,e,t){let r=me(),i=me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=jr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):H(LI,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Vs:s,fs:i}})}function G$(n,e){let t=ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=AI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function K$(n,e){let t=ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):t.Hr.allocateTargetId(r).next(s=>(i=new Jc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}function G_(n,e,t){return C(this,null,function*(){let r=ee(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Zs(s))throw s;H(LI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)})}function vA(n,e,t){let r=ee(n),i=re.min(),o=me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ee(u),y=p.Is.get(h);return y!==void 0?F.resolve(p.Ts.get(y)):p.Hr.getTargetData(l,h)}(r,s,Yn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,t?i:re.min(),t?o:me())).next(a=>(Q$(r,c$(e),a),{documents:a,gs:o})))}function Q$(n,e,t){let r=n.Es.get(e)||re.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}var tf=class{constructor(){this.activeTargetIds=p$()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var K_=class{constructor(){this.ho=new tf,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new tf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Q_=class{To(e){}shutdown(){}};var _A="ConnectivityMonitor",nf=class{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){H(_A,"Network connectivity changed: AVAILABLE");for(let e of this.Vo)e(0)}Ro(){H(_A,"Network connectivity changed: UNAVAILABLE");for(let e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ph=null;function Y_(){return Ph===null?Ph=function(){return 268435456+Math.round(2147483648*Math.random())}():Ph++,"0x"+Ph.toString(16)}var Uv="RestConnection",Y$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Z_=class{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===$h?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,o){let s=Y_(),a=this.bo(e,t.toUriEncodedString());H(Uv,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,i,o),this.vo(e,a,u,r).then(l=>(H(Uv,`Received RPC '${e}' ${s}: `,l),l),l=>{throw Fs(Uv,`RPC '${e}' ${s} failed with error: `,l,"url: ",a,"request:",r),l})}Co(e,t,r,i,o,s){return this.So(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,t){let r=Y$[e];return`${this.po}/v1/${t}:${r}`}terminate(){}};var J_=class{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}};var Dt="WebChannelConnection",X_=class extends Z_{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){let o=Y_();return new Promise((s,a)=>{let u=new kv;u.setWithCredentials(!0),u.listenOnce(Ov.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Bc.NO_ERROR:let h=u.getResponseJson();H(Dt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Bc.TIMEOUT:H(Dt,`RPC '${e}' ${o} timed out`),a(new U(x.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:let p=u.getStatus();if(H(Dt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let m=y?.error;if(m&&m.status&&m.message){let D=function(A){let B=A.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(B)>=0?B:x.UNKNOWN}(m.status);a(new U(D,m.message))}else a(new U(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new U(x.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{H(Dt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);H(Dt,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Wo(e,t,r){let i=Y_(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Vv(),a=Lv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");H(Dt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),y=!1,m=!1,D=new J_({Fo:A=>{m?H(Dt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(y||(H(Dt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),H(Dt,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Mo:()=>p.close()}),M=(A,B,J)=>{A.listen(B,q=>{try{J(q)}catch(Ee){setTimeout(()=>{throw Ee},0)}})};return M(p,Ss.EventType.OPEN,()=>{m||(H(Dt,`RPC '${e}' stream ${i} transport opened.`),D.Qo())}),M(p,Ss.EventType.CLOSE,()=>{m||(m=!0,H(Dt,`RPC '${e}' stream ${i} transport closed`),D.Uo())}),M(p,Ss.EventType.ERROR,A=>{m||(m=!0,Fs(Dt,`RPC '${e}' stream ${i} transport errored:`,A),D.Uo(new U(x.UNAVAILABLE,"The operation could not be completed")))}),M(p,Ss.EventType.MESSAGE,A=>{var B;if(!m){let J=A.data[0];Te(!!J);let q=J,Ee=q?.error||((B=q[0])===null||B===void 0?void 0:B.error);if(Ee){H(Dt,`RPC '${e}' stream ${i} received error:`,Ee);let Ue=Ee.status,ye=function(I){let E=Je[I];if(E!==void 0)return wR(E)}(Ue),w=Ee.message;ye===void 0&&(ye=x.INTERNAL,w="Unknown error status: "+Ue+" with message "+Ee.message),m=!0,D.Uo(new U(ye,w)),p.close()}else H(Dt,`RPC '${e}' stream ${i} received:`,J),D.Ko(J)}}),M(a,Fv.STAT_EVENT,A=>{A.stat===Rh.PROXY?H(Dt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Rh.NOPROXY&&H(Dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.$o()},0),D}};function Bv(){return typeof document<"u"?document:null}function Sf(n){return new I_(n,!0)}var rf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();let t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}};var IA="PersistentStream",of=class{constructor(e,t,r,i,o,s,a,u){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new rf(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}stop(){return C(this,null,function*(){this.u_()&&(yield this.close(0))})}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}T_(){return C(this,null,function*(){if(this.c_())return this.close(0)})}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}close(e,t){return C(this,null,function*(){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===x.RESOURCE_EXHAUSTED?(kr(t.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Lo(t)})}A_(){}auth(){this.state=1;let e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{let i=new U(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){let r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(()=>C(this,null,function*(){this.state=0,this.start()}))}m_(e){return H(IA,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(H(IA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},eI=class extends of{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();let t=A$(this.serializer,e),r=function(o){if(!("targetChange"in o))return re.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?Zn(s.readTime):re.min()}(e);return this.listener.p_(t,r)}y_(e){let t={};t.database=D_(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=l_(u)?{documents:N$(o,u)}:{query:P$(o,u).ht},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=bR(o,s.resumeToken);let l=E_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(re.min())>0){a.readTime=Zh(o,s.snapshotVersion.toTimestamp());let l=E_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=k$(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){let t={};t.database=D_(this.serializer),t.removeTarget=e,this.I_(t)}},tI=class extends of{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Te(!!e.streamToken),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();let t=M$(e.writeResults,e.commitTime),r=Zn(e.commitTime);return this.listener.v_(r,t)}C_(){let e={};e.database=D_(this.serializer),this.I_(e)}b_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>R$(this.serializer,r))};this.I_(t)}};var nI=class{},rI=class extends nI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new U(x.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,w_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(x.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,w_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(x.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}},iI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(kr(t),this.N_=!1):H("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}};var yo="RemoteStore",oI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(()=>C(this,null,function*(){vo(this)&&(H(yo,"Restarting streams for network reachability change."),yield function(u){return C(this,null,function*(){let l=ee(u);l.W_.add(4),yield lu(l),l.j_.set("Unknown"),l.W_.delete(4),yield Af(l)})}(this))}))}),this.j_=new iI(r,i)}};function Af(n){return C(this,null,function*(){if(vo(n))for(let e of n.G_)yield e(!0)})}function lu(n){return C(this,null,function*(){for(let e of n.G_)yield e(!1)})}function xR(n,e){let t=ee(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),BI(t)?UI(t):Js(t).c_()&&jI(t,e))}function VI(n,e){let t=ee(n),r=Js(t);t.K_.delete(e),r.c_()&&kR(t,e),t.K_.size===0&&(r.c_()?r.P_():vo(t)&&t.j_.set("Unknown"))}function jI(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Js(n).y_(e)}function kR(n,e){n.H_.Ne(e),Js(n).w_(e)}function UI(n){n.H_=new __({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Js(n).start(),n.j_.B_()}function BI(n){return vo(n)&&!Js(n).u_()&&n.K_.size>0}function vo(n){return ee(n).W_.size===0}function OR(n){n.H_=void 0}function Z$(n){return C(this,null,function*(){n.j_.set("Online")})}function J$(n){return C(this,null,function*(){n.K_.forEach((e,t)=>{jI(n,e)})})}function X$(n,e){return C(this,null,function*(){OR(n),BI(n)?(n.j_.q_(e),UI(n)):n.j_.set("Unknown")})}function eH(n,e,t){return C(this,null,function*(){if(n.j_.set("Online"),e instanceof Qh&&e.state===2&&e.cause)try{yield function(i,o){return C(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.K_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.K_.delete(a),i.H_.removeTarget(a))})}(n,e)}catch(r){H(yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield sf(n,r)}else if(e instanceof ks?n.H_.We(e):e instanceof Kh?n.H_.Ze(e):n.H_.je(e),!t.isEqual(re.min()))try{let r=yield PR(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.H_.ot(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.K_.get(l);h&&o.K_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.K_.get(u);if(!h)return;o.K_.set(u,h.withResumeToken(Tt.EMPTY_BYTE_STRING,h.snapshotVersion)),kR(o,u);let p=new Jc(h.target,u,l,h.sequenceNumber);jI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){H(yo,"Failed to raise snapshot:",r),yield sf(n,r)}})}function sf(n,e,t){return C(this,null,function*(){if(!Zs(e))throw e;n.W_.add(1),yield lu(n),n.j_.set("Offline"),t||(t=()=>PR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){H(yo,"Retrying IndexedDB access"),yield t(),n.W_.delete(1),yield Af(n)}))})}function FR(n,e){return e().catch(t=>sf(n,t,e))}function Rf(n){return C(this,null,function*(){let e=ee(n),t=hi(e),r=e.U_.length>0?e.U_[e.U_.length-1].batchId:AI;for(;tH(e);)try{let i=yield G$(e.localStore,r);if(i===null){e.U_.length===0&&t.P_();break}r=i.batchId,nH(e,i)}catch(i){yield sf(e,i)}LR(e)&&VR(e)})}function tH(n){return vo(n)&&n.U_.length<10}function nH(n,e){n.U_.push(e);let t=hi(n);t.c_()&&t.S_&&t.b_(e.mutations)}function LR(n){return vo(n)&&!hi(n).u_()&&n.U_.length>0}function VR(n){hi(n).start()}function rH(n){return C(this,null,function*(){hi(n).C_()})}function iH(n){return C(this,null,function*(){let e=hi(n);for(let t of n.U_)e.b_(t.mutations)})}function oH(n,e,t){return C(this,null,function*(){let r=n.U_.shift(),i=g_.from(r,e,t);yield FR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Rf(n)})}function sH(n,e){return C(this,null,function*(){e&&hi(n).S_&&(yield function(r,i){return C(this,null,function*(){if(function(s){return E$(s)&&s!==x.ABORTED}(i.code)){let o=r.U_.shift();hi(r).h_(),yield FR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Rf(r)}})}(n,e)),LR(n)&&VR(n)})}function EA(n,e){return C(this,null,function*(){let t=ee(n);t.asyncQueue.verifyOperationInProgress(),H(yo,"RemoteStore received new credentials");let r=vo(t);t.W_.add(3),yield lu(t),r&&t.j_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),yield Af(t)})}function aH(n,e){return C(this,null,function*(){let t=ee(n);e?(t.W_.delete(2),yield Af(t)):e||(t.W_.add(2),yield lu(t),t.j_.set("Unknown"))})}function Js(n){return n.J_||(n.J_=function(t,r,i){let o=ee(t);return o.M_(),new eI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:Z$.bind(null,n),No:J$.bind(null,n),Lo:X$.bind(null,n),p_:eH.bind(null,n)}),n.G_.push(e=>C(this,null,function*(){e?(n.J_.h_(),BI(n)?UI(n):n.j_.set("Unknown")):(yield n.J_.stop(),OR(n))}))),n.J_}function hi(n){return n.Y_||(n.Y_=function(t,r,i){let o=ee(t);return o.M_(),new tI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:rH.bind(null,n),Lo:sH.bind(null,n),D_:iH.bind(null,n),v_:oH.bind(null,n)}),n.G_.push(e=>C(this,null,function*(){e?(n.Y_.h_(),yield Rf(n)):(yield n.Y_.stop(),n.U_.length>0&&(H(yo,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))}))),n.Y_}var sI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function $I(n,e){if(kr("AsyncQueue",`${e}: ${n}`),Zs(n))return new U(x.UNAVAILABLE,`${e}: ${n}`);throw n}var af=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||G.comparator(t.key,r.key):(t,r)=>G.comparator(t.key,r.key),this.keyedMap=$c(),this.sortedSet=new qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var cf=class{constructor(){this.Z_=new qe(G.comparator)}track(e){let t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Q():this.Z_=this.Z_.insert(t,e)}X_(){let e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}},qs=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,af.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var aI=class{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}},cI=class{constructor(){this.queries=wA(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){let i=ee(t),o=i.queries;i.queries=wA(),o.forEach((s,a)=>{for(let u of a.ta)u.onError(r)})})(this,new U(x.ABORTED,"Firestore shutting down"))}};function wA(){return new Vr(n=>lR(n),Tf)}function HI(n,e){return C(this,null,function*(){let t=ee(n),r=3,i=e.query,o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new aI,r=e.ra()?0:1);try{switch(r){case 0:o.ea=yield t.onListen(i,!0);break;case 1:o.ea=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=$I(s,`Initialization of query '${Rs(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&qI(t)})}function zI(n,e){return C(this,null,function*(){let t=ee(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function cH(n,e){let t=ee(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.ta)a.oa(i)&&(r=!0);s.ea=i}}r&&qI(t)}function uH(n,e,t){let r=ee(n),i=r.queries.get(e);if(i)for(let o of i.ta)o.onError(t);r.queries.delete(e)}function qI(n){n.ia.forEach(e=>{e.next()})}var uI,bA;(bA=uI||(uI={}))._a="default",bA.Cache="cache";var tu=class{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new qs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;let r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;let t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==uI.Cache}};var uf=class{constructor(e){this.key=e}},lf=class{constructor(e){this.key=e}},lI=class{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=me(),this.mutatedKeys=me(),this.ya=dR(e),this.wa=new af(this.ya)}get Sa(){return this.fa}ba(e,t){let r=t?t.Da:new cf,i=t?t.wa:this.wa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let y=i.get(h),m=Cf(this.query,p)?p:null,D=!!y&&this.mutatedKeys.has(y.key),M=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),A=!1;y&&m?y.data.isEqual(m.data)?D!==M&&(r.track({type:3,doc:m}),A=!0):this.va(y,m)||(r.track({type:2,doc:m}),A=!0,(u&&this.ya(m,u)>0||l&&this.ya(m,l)<0)&&(a=!0)):!y&&m?(r.track({type:0,doc:m}),A=!0):y&&!m&&(r.track({type:1,doc:y}),A=!0,(u||l)&&(a=!0)),A&&(m?(s=s.add(m),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{wa:s,Da:r,ls:a,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;let s=e.Da.X_();s.sort((h,p)=>function(m,D){let M=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return M(m)-M(D)}(h.type,p.type)||this.ya(h.doc,p.doc)),this.Ca(r),i=i!=null&&i;let a=t&&!i?this.Fa():[],u=this.pa.size===0&&this.current&&!i?1:0,l=u!==this.ga;return this.ga=u,s.length!==0||l?{snapshot:new qs(this.query,e.wa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new cf,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];let e=this.pa;this.pa=me(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});let t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new lf(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new uf(r))}),t}Oa(e){this.fa=e.gs,this.pa=me();let t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return qs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}},WI="SyncEngine",dI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},hI=class{constructor(e){this.key=e,this.Ba=!1}},fI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new Vr(a=>lR(a),Tf),this.qa=new Map,this.Qa=new Set,this.$a=new qe(G.comparator),this.Ua=new Map,this.Ka=new eu,this.Wa={},this.Ga=new Map,this.za=Xc.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}};function lH(n,e,t=!0){return C(this,null,function*(){let r=zR(n),i,o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=yield jR(r,e,t,!0),i})}function dH(n,e){return C(this,null,function*(){let t=zR(n);yield jR(t,e,!0,!1)})}function jR(n,e,t,r){return C(this,null,function*(){let i=yield K$(n.localStore,Yn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield hH(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&xR(n.remoteStore,i),a})}function hH(n,e,t,r,i){return C(this,null,function*(){n.Ha=(p,y,m)=>function(M,A,B,J){return C(this,null,function*(){let q=A.view.ba(B);q.ls&&(q=yield vA(M.localStore,A.query,!1).then(({documents:w})=>A.view.ba(w,q)));let Ee=J&&J.targetChanges.get(A.targetId),Ue=J&&J.targetMismatches.get(A.targetId)!=null,ye=A.view.applyChanges(q,M.isPrimaryClient,Ee,Ue);return TA(M,A.targetId,ye.Ma),ye.snapshot})}(n,p,y,m);let o=yield vA(n.localStore,e,!0),s=new lI(e,o.gs),a=s.ba(o.documents),u=Zc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);TA(n,t,l.Ma);let h=new dI(e,t,s);return n.ka.set(e,h),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),l.snapshot})}function fH(n,e,t){return C(this,null,function*(){let r=ee(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!Tf(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield G_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&VI(r.remoteStore,i.targetId),pI(r,i.targetId)}).catch(Ys))):(pI(r,i.targetId),yield G_(r.localStore,i.targetId,!0))})}function pH(n,e){return C(this,null,function*(){let t=ee(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),VI(t.remoteStore,r.targetId))})}function gH(n,e,t){return C(this,null,function*(){let r=wH(n);try{let i=yield function(s,a){let u=ee(s),l=gt.now(),h=a.reduce((m,D)=>m.add(D.key),me()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let D=jr(),M=me();return u.ds.getEntries(m,h).next(A=>{D=A,D.forEach((B,J)=>{J.isValidDocument()||(M=M.add(B))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,D)).next(A=>{p=A;let B=[];for(let J of a){let q=I$(J,p.get(J.key).overlayedDocument);q!=null&&B.push(new Xn(J.key,q,iR(q.value.mapValue),xr.exists(!0)))}return u.mutationQueue.addMutationBatch(m,l,B,a)}).next(A=>{y=A;let B=A.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(m,A.batchId,B)})}).then(()=>({batchId:y.batchId,changes:fR(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Wa[s.currentUser.toKey()];l||(l=new qe(de)),l=l.insert(a,u),s.Wa[s.currentUser.toKey()]=l}(r,i.batchId,t),yield du(r,i.changes),yield Rf(r.remoteStore)}catch(i){let o=$I(i,"Failed to persist write");t.reject(o)}})}function UR(n,e){return C(this,null,function*(){let t=ee(n);try{let r=yield q$(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Ua.get(o);s&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?Te(s.Ba):i.removedDocuments.size>0&&(Te(s.Ba),s.Ba=!1))}),yield du(t,r,e)}catch(r){yield Ys(r)}})}function DA(n,e,t){let r=ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ka.forEach((o,s)=>{let a=s.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ee(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let y of p.ta)y.sa(a)&&(l=!0)}),l&&qI(u)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function mH(n,e,t){return C(this,null,function*(){let r=ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Ua.get(e),o=i&&i.key;if(o){let s=new qe(G.comparator);s=s.insert(o,Nn.newNoDocument(o,re.min()));let a=me().add(o),u=new Gh(re.min(),new Map,new qe(de),s,a);yield UR(r,u),r.$a=r.$a.remove(o),r.Ua.delete(e),GI(r)}else yield G_(r.localStore,e,!1).then(()=>pI(r,e,t)).catch(Ys)})}function yH(n,e){return C(this,null,function*(){let t=ee(n),r=e.batch.batchId;try{let i=yield z$(t.localStore,e);$R(t,r,null),BR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield du(t,i)}catch(i){yield Ys(i)}})}function vH(n,e,t){return C(this,null,function*(){let r=ee(n);try{let i=yield function(s,a){let u=ee(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Te(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);$R(r,e,t),BR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield du(r,i)}catch(i){yield Ys(i)}})}function BR(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function $R(n,e,t){let r=ee(n),i=r.Wa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function pI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||HR(n,r)})}function HR(n,e){n.Qa.delete(e.path.canonicalString());let t=n.$a.get(e);t!==null&&(VI(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),GI(n))}function TA(n,e,t){for(let r of t)r instanceof uf?(n.Ka.addReference(r.key,e),_H(n,r)):r instanceof lf?(H(WI,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||HR(n,r.key)):Q()}function _H(n,e){let t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(H(WI,"New document in limbo: "+t),n.Qa.add(r),GI(n))}function GI(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){let e=n.Qa.values().next().value;n.Qa.delete(e);let t=new G(je.fromString(e)),r=n.za.next();n.Ua.set(r,new hI(t)),n.$a=n.$a.insert(t,r),xR(n.remoteStore,new Jc(Yn(Df(t.path)),r,"TargetPurposeLimboResolution",SI.ae))}}function du(n,e,t){return C(this,null,function*(){let r=ee(n),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((a,u)=>{s.push(r.Ha(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=H_.Yi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.La.p_(i),yield function(u,l){return C(this,null,function*(){let h=ee(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(l,y=>F.forEach(y.Hi,m=>h.persistence.referenceDelegate.addReference(p,y.targetId,m)).next(()=>F.forEach(y.Ji,m=>h.persistence.referenceDelegate.removeReference(p,y.targetId,m)))))}catch(p){if(!Zs(p))throw p;H(LI,"Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let m=h.Ts.get(y),D=m.snapshotVersion,M=m.withLastLimboFreeSnapshotVersion(D);h.Ts=h.Ts.insert(y,M)}}})}(r.localStore,o))})}function IH(n,e){return C(this,null,function*(){let t=ee(n);if(!t.currentUser.isEqual(e)){H(WI,"User change. New user:",e.toKey());let r=yield NR(t.localStore,e);t.currentUser=e,function(o,s){o.Ga.forEach(a=>{a.forEach(u=>{u.reject(new U(x.CANCELLED,s))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield du(t,r.Rs)}})}function EH(n,e){let t=ee(n),r=t.Ua.get(e);if(r&&r.Ba)return me().add(r.key);{let i=me(),o=t.qa.get(e);if(!o)return i;for(let s of o){let a=t.ka.get(s);i=i.unionWith(a.view.Sa)}return i}}function zR(n){let e=ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=UR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mH.bind(null,e),e.La.p_=cH.bind(null,e.eventManager),e.La.Ja=uH.bind(null,e.eventManager),e}function wH(n){let e=ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vH.bind(null,e),e}var qR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return C(this,null,function*(){this.serializer=Sf(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),yield this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)})}tu(t,r){return null}nu(t,r){return null}eu(t){return H$(this.persistence,new q_,t.initialUser,this.serializer)}Xa(t){return new Xh($_.ri,this.serializer)}Za(t){return new K_}terminate(){return C(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),gI=class extends qR{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Te(this.persistence.referenceDelegate instanceof ef);let r=this.persistence.referenceDelegate.garbageCollector;return new R_(r,e.asyncQueue,t)}Xa(e){let t=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new Xh(r=>ef.ri(r,t),this.serializer)}};var bH=(()=>{class n{initialize(t,r){return C(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>DA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=IH.bind(null,this.syncEngine),yield aH(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new cI}()}createDatastore(t){let r=Sf(t.databaseInfo.databaseId),i=function(s){return new X_(s)}(t.databaseInfo);return function(s,a,u,l){return new rI(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new oI(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>DA(this.syncEngine,r,0),function(){return nf.D()?new nf:new Q_}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let y=new fI(o,s,a,u,l,h);return p&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var t,r;yield function(o){return C(this,null,function*(){let s=ee(o);H(yo,"RemoteStore shutting down."),s.W_.add(5),yield lu(s),s.z_.shutdown(),s.j_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var nu=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var fi="FirestoreClient",mI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=at.UNAUTHENTICATED,this.clientId=Vh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>C(this,null,function*(){H(fi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(H(fi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=$I(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function $v(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),H(fi,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>C(this,null,function*(){r.isEqual(i)||(yield NR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function CA(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield DH(n);H(fi,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>EA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>EA(e.remoteStore,i)),n._onlineComponents=e})}function DH(n){return C(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){H(fi,"Using user provided OfflineComponentProvider");try{yield $v(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Fs("Error using user provided cache. Falling back to memory cache: "+t),yield $v(n,new qR)}}else H(fi,"Using default OfflineComponentProvider"),yield $v(n,new gI(void 0));return n._offlineComponents})}function WR(n){return C(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(H(fi,"Using user provided OnlineComponentProvider"),yield CA(n,n._uninitializedComponentsProvider._online)):(H(fi,"Using default OnlineComponentProvider"),yield CA(n,new bH))),n._onlineComponents})}function TH(n){return WR(n).then(e=>e.syncEngine)}function df(n){return C(this,null,function*(){let e=yield WR(n),t=e.eventManager;return t.onListen=lH.bind(null,e.syncEngine),t.onUnlisten=fH.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dH.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pH.bind(null,e.syncEngine),t})}function CH(n,e,t={}){let r=new Mn;return n.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(o,s,a,u,l){let h=new nu({next:y=>{h.su(),s.enqueueAndForget(()=>zI(o,p));let m=y.docs.has(a);!m&&y.fromCache?l.reject(new U(x.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&y.fromCache&&u&&u.source==="server"?l.reject(new U(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new tu(Df(a.path),h,{includeMetadataChanges:!0,Ta:!0});return HI(o,p)}(yield df(n),n.asyncQueue,e,t,r)})),r.promise}function SH(n,e,t={}){let r=new Mn;return n.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(o,s,a,u,l){let h=new nu({next:y=>{h.su(),s.enqueueAndForget(()=>zI(o,p)),y.fromCache&&u.source==="server"?l.reject(new U(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new tu(a,h,{includeMetadataChanges:!0,Ta:!0});return HI(o,p)}(yield df(n),n.asyncQueue,e,t,r)})),r.promise}function GR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var SA=new Map;function KR(n,e,t){if(!t)throw new U(x.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function AH(n,e,t,r){if(e===!0&&r===!0)throw new U(x.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function AA(n){if(!G.isDocumentKey(n))throw new U(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function RA(n){if(G.isDocumentKey(n))throw new U(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Mf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Q()}function un(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new U(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Mf(n);throw new U(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function RH(n,e){if(e<=0)throw new U(x.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}var QR="firestore.googleapis.com",MA=!0,hf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QR,this.ssl=MA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:MA;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<U$)throw new U(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new U(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new U(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new U(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ws=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new U(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new U(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Hv;switch(r.type){case"firstParty":return new Gv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=SA.get(t);r&&(H("ComponentProvider","Removing Datastore"),SA.delete(t),r.terminate())}(this),Promise.resolve()}};function YR(n,e,t,r={}){var i;let o=(n=un(n,Ws))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;o.host!==QR&&o.host!==a&&Fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!Ji(u,s)&&(n._setSettings(u),r.mockUserToken)){let l,h;if(typeof r.mockUserToken=="string")l=r.mockUserToken,h=at.MOCK_USER;else{l=HC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new U(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new at(p)}n._authCredentials=new zv(new Fh(l,h))}}var er=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},xt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ui=class n extends er{constructor(e,t,r){super(e,t,Df(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new G(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function ZR(n,e,...t){if(n=st(n),KR("collection","path",e),n instanceof Ws){let r=je.fromString(e,...t);return RA(r),new ui(n,null,r)}{if(!(n instanceof xt||n instanceof ui))throw new U(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(je.fromString(e,...t));return RA(r),new ui(n.firestore,null,r)}}function KI(n,e,...t){if(n=st(n),arguments.length===1&&(e=Vh.newId()),KR("doc","path",e),n instanceof Ws){let r=je.fromString(e,...t);return AA(r),new xt(n,null,new G(r))}{if(!(n instanceof xt||n instanceof ui))throw new U(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(je.fromString(e,...t));return AA(r),new xt(n.firestore,n instanceof ui?n.converter:null,new G(r))}}var NA="AsyncQueue",ff=class{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new rf(this,"async_queue_retry"),this.Su=()=>{let r=Bv();r&&H(NA,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;let t=Bv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;let t=Bv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});let t=new Mn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}Cu(){return C(this,null,function*(){if(this.Vu.length!==0){try{yield this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Zs(e))throw e;H(NA,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}})}vu(e){let t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw kr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);let i=sI.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&Q()}verifyOperationInProgress(){}Mu(){return C(this,null,function*(){let e;do e=this.bu,yield e;while(e!==this.bu)})}xu(e){for(let t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){let t=this.fu.indexOf(e);this.fu.splice(t,1)}};function PA(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var tr=class extends Ws{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new ff,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ff(e),this._firestoreClient=void 0,yield e}})}};function JR(n,e){let t=typeof n=="object"?n:Ds(),r=typeof n=="string"?n:e||$h,i=lh(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=BC("firestore");o&&YR(i,...o)}return i}function Nf(n){if(n._terminated)throw new U(x.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||MH(n),n._firestoreClient}function MH(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new Jv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,GR(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new mI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var ru=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Tt.fromBase64String(e))}catch(t){throw new U(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Gs=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new U(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var iu=class{constructor(e){this._methodName=e}};var ou=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new U(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new U(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}};var su=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var NH=/^__.*__$/,yI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Xn(e,this.data,this.fieldMask,t,this.fieldTransforms):new mo(e,this.data,t,this.fieldTransforms)}},pf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Xn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function XR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}var vI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return mf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(XR(this.Lu)&&NH.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}},_I=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Sf(e)}ju(e,t,r,i=!1){return new vI({Lu:e,methodName:t,zu:r,path:Qt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Pf(n){let e=n._freezeSettings(),t=Sf(n._databaseId);return new _I(n._databaseId,!!e.ignoreUndefinedProperties,t)}function PH(n,e,t,r,i,o={}){let s=n.ju(o.merge||o.mergeFields?2:0,e,t,i);QI("Data must be an object, but it was:",s,r);let a=tM(r,s),u,l;if(o.merge)u=new cn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let y=II(e,p,t);if(!s.contains(y))throw new U(x.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);rM(h,y)||h.push(y)}u=new cn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new yI(new Kt(a),u,l)}var gf=class n extends iu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function xH(n,e,t,r){let i=n.ju(1,e,t);QI("Data must be an object, but it was:",i,r);let o=[],s=Kt.empty();pi(r,(u,l)=>{let h=YI(e,u,t);l=st(l);let p=i.Uu(h);if(l instanceof gf)o.push(h);else{let y=hu(l,p);y!=null&&(o.push(h),s.set(h,y))}});let a=new cn(o);return new pf(s,a,i.fieldTransforms)}function kH(n,e,t,r,i,o){let s=n.ju(1,e,t),a=[II(e,r,t)],u=[i];if(o.length%2!=0)throw new U(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)a.push(II(e,o[y])),u.push(o[y+1]);let l=[],h=Kt.empty();for(let y=a.length-1;y>=0;--y)if(!rM(l,a[y])){let m=a[y],D=u[y];D=st(D);let M=s.Uu(m);if(D instanceof gf)l.push(m);else{let A=hu(D,M);A!=null&&(l.push(m),h.set(m,A))}}let p=new cn(l);return new pf(h,p,s.fieldTransforms)}function eM(n,e,t,r=!1){return hu(t,n.ju(r?4:3,e))}function hu(n,e){if(nM(n=st(n)))return QI("Unsupported field value:",e,n),tM(n,e);if(n instanceof iu)return function(r,i){if(!XR(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=hu(a,i.Ku(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=st(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return g$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=gt.fromDate(r);return{timestampValue:Zh(i.serializer,o)}}if(r instanceof gt){let o=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zh(i.serializer,o)}}if(r instanceof ou)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ru)return{bytesValue:bR(i.serializer,r._byteString)};if(r instanceof xt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:FI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof su)return function(s,a){return{mapValue:{fields:{[RI]:{stringValue:MI},[Vs]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Wu("VectorValues must only contain numeric values.");return OI(a.serializer,l)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Mf(r)}`)}(n,e)}function tM(n,e){let t={};return YA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pi(n,(r,i)=>{let o=hu(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function nM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof gt||n instanceof ou||n instanceof ru||n instanceof xt||n instanceof iu||n instanceof su)}function QI(n,e,t){if(!nM(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Mf(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function II(n,e,t){if((e=st(e))instanceof Gs)return e._internalPath;if(typeof e=="string")return YI(n,e);throw mf("Field path arguments must be of type string or ",n,!1,void 0,t)}var OH=new RegExp("[~\\*/\\[\\]]");function YI(n,e,t){if(e.search(OH)>=0)throw mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gs(...e.split("."))._internalPath}catch{throw mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new U(x.INVALID_ARGUMENT,a+n+u)}function rM(n,e){return n.some(t=>t.isEqual(e))}var au=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new EI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(xf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},EI=class extends au{data(){return super.data()}};function xf(n,e){return typeof e=="string"?YI(n,e):e instanceof Gs?e._internalPath:e._delegate._internalPath}function iM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new U(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cu=class{},Ks=class extends cu{};function oM(n,e,...t){let r=[];e instanceof cu&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof wI).length,a=o.filter(u=>u instanceof yf).length;if(s>1||s>0&&a>0)throw new U(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var yf=class n extends Ks{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return dM(e._query,t),new er(e.firestore,e.converter,d_(e._query,t))}_parse(e){let t=Pf(e.firestore);return function(o,s,a,u,l,h,p){let y;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new U(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){kA(p,h);let D=[];for(let M of p)D.push(xA(u,o,M));y={arrayValue:{values:D}}}else y=xA(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||kA(p,h),y=eM(a,s,p,h==="in"||h==="not-in");return et.create(l,h,y)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function sM(n,e,t){let r=e,i=xf("where",n);return yf._create(i,r,t)}var wI=class n extends cu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Pn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)dM(s,u),s=d_(s,u)}(e._query,t),new er(e.firestore,e.converter,d_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var bI=class n extends Ks{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new U(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new U(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fo(o,s)}(e._query,this._field,this._direction);return new er(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Lr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function aM(n,e="asc"){let t=e,r=xf("orderBy",n);return bI._create(r,t)}var DI=class n extends Ks{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){return new er(e.firestore,e.converter,Wh(e._query,this._limit,this._limitType))}};function cM(n){return RH("limit",n),DI._create("limit",n,"F")}var vf=class n extends Ks{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=FH(e,this.type,this._docOrFields,this._inclusive);return new er(e.firestore,e.converter,function(i,o){return new Lr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}};function uM(...n){return vf._create("startAt",n,!0)}function lM(...n){return vf._create("startAfter",n,!1)}function FH(n,e,t,r){if(t[0]=st(t[0]),t[0]instanceof au)return function(o,s,a,u,l){if(!u)throw new U(x.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let h=[];for(let p of xs(o))if(p.field.isKeyField())h.push(zh(s,u.key));else{let y=u.data.field(p.field);if(wf(y))throw new U(x.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){let m=p.field.canonicalString();throw new U(x.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}h.push(y)}return new di(h,l)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{let i=Pf(n.firestore);return function(s,a,u,l,h,p){let y=s.explicitOrderBy;if(h.length>y.length)throw new U(x.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let m=[];for(let D=0;D<h.length;D++){let M=h[D];if(y[D].field.isKeyField()){if(typeof M!="string")throw new U(x.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof M}`);if(!kI(s)&&M.indexOf("/")!==-1)throw new U(x.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${M}' contains a slash.`);let A=s.path.child(je.fromString(M));if(!G.isDocumentKey(A))throw new U(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);let B=new G(A);m.push(zh(a,B))}else{let A=eM(u,l,M);m.push(A)}}return new di(m,p)}(n._query,n.firestore._databaseId,i,e,t,r)}}function xA(n,e,t){if(typeof(t=st(t))=="string"){if(t==="")throw new U(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kI(e)&&t.indexOf("/")!==-1)throw new U(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(je.fromString(t));if(!G.isDocumentKey(r))throw new U(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zh(n,new G(r))}if(t instanceof xt)return zh(n,t._key);throw new U(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mf(t)}.`)}function kA(n,e){if(!Array.isArray(n)||n.length===0)throw new U(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dM(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new U(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var TI=class{convertValue(e,t="none"){switch(li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Q()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return pi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Vs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ve(s.doubleValue));return new su(o)}convertGeoPoint(e){return new ou(Ve(e.latitude),Ve(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=bf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Kc(e));default:return null}}convertTimestamp(e){let t=Or(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=je.fromString(e);Te(RR(r));let i=new Hh(r.get(1),r.get(3)),o=new G(r.popFirst(5));return i.isEqual(t)||kr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function LH(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var uo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},_f=class extends au{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Os(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(xf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Os=class extends _f{data(e={}){return super.data(e)}},If=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new uo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Os(this._firestore,this._userDataWriter,r.key,r,new uo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new U(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Os(i._firestore,i._userDataWriter,a.doc.key,a.doc,new uo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Os(i._firestore,i._userDataWriter,a.doc.key,a.doc,new uo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:VH(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function VH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}function hM(n){n=un(n,xt);let e=un(n.firestore,tr);return CH(Nf(e),n._key).then(t=>mM(e,n,t))}var uu=class extends TI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}};function fM(n){n=un(n,er);let e=un(n.firestore,tr),t=Nf(e),r=new uu(e);return iM(n._query),SH(t,n._query).then(i=>new If(e,r,n,i))}function pM(n,e,t,...r){n=un(n,xt);let i=un(n.firestore,tr),o=Pf(i),s;return s=typeof(e=st(e))=="string"||e instanceof Gs?kH(o,"updateDoc",n._key,e,t,r):xH(o,"updateDoc",n._key,e),XI(i,[s.toMutation(n._key,xr.exists(!0))])}function gM(n){return XI(un(n.firestore,tr),[new Yc(n._key,xr.none())])}function ZI(n,e){let t=un(n.firestore,tr),r=KI(n),i=LH(n.converter,e);return XI(t,[PH(Pf(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,xr.exists(!1))]).then(()=>r)}function JI(n,...e){var t,r,i;n=st(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||PA(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(PA(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof xt)l=un(n.firestore,tr),h=Df(n._key.path),u={next:p=>{e[s]&&e[s](mM(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=un(n,er);l=un(p.firestore,tr),h=p._query;let y=new uu(l);u={next:m=>{e[s]&&e[s](new If(l,y,p,m))},error:e[s+1],complete:e[s+2]},iM(n._query)}return function(y,m,D,M){let A=new nu(M),B=new tu(m,A,D);return y.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return HI(yield df(y),B)})),()=>{A.su(),y.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return zI(yield df(y),B)}))}}(Nf(l),h,a,u)}function XI(n,e){return function(r,i){let o=new Mn;return r.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return gH(yield TH(r),i,o)})),o.promise}(Nf(n),e)}function mM(n,e,t){let r=t.docs.get(e._key),i=new uu(n);return new _f(n,i,e._key,r,new uo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Qs=i})(bs),An(new Pt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new tr(new qv(r.getProvider("auth-internal")),new Kv(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ge(zS,qS,e),Ge(zS,qS,"esm2017")})();var kf=function(){return kf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},kf.apply(this,arguments)};var BH={includeMetadataChanges:!1};function eE(n,e){return e===void 0&&(e=BH),new oe(function(t){var r=JI(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function yM(n){return eE(n,{includeMetadataChanges:!0})}function vM(n,e){return e===void 0&&(e={}),yM(n).pipe(X(function(t){return tE(t,e)}))}function tE(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:kf(kf({},r),(t={},t[e.idField]=n.id,t))}function _M(n){return eE(n,{includeMetadataChanges:!0}).pipe(X(function(e){return e.docs}))}function IM(n,e){return e===void 0&&(e={}),_M(n).pipe(X(function(t){return t.map(function(r){return tE(r,e)})}))}var mt=class{constructor(e){return e}},EM="firestore",nE=class{constructor(){return Cs(EM)}};var rE=new z("angularfire2.firestore-instances");function $H(n,e){let t=fh(EM,n,e);return t&&new mt(t)}function HH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new mt(r)}}var zH={provide:nE,deps:[[new mr,rE]]},qH={provide:mt,useFactory:$H,deps:[[new mr,rE],ro]};function wM(n,...e){return Ge("angularfire",to.full,"fst"),yr([qH,zH,{provide:rE,useFactory:HH(n),multi:!0,deps:[Ce,Mt,no,kc,[new mr,Sh],[new mr,gh],...e]}])}var _o=Ze(IM,!0);var bM=Ze(vM,!0);var Yt=Ze(ZR,!0,2);var iE=Ze(gM,!0,2);var fu=Ze(KI,!0,2);var oE=Ze(hM,!0);var gi=Ze(fM,!0);var DM=Ze(JR,!0);var xn=Ze(cM,!0,2);var kn=Ze(aM,!0,2),ln=Ze(oM,!0,2);var Xs=Ze(lM,!0,2),Of=Ze(uM,!0,2);var TM=Ze(pM,!0,2);var Ur=Ze(sM,!0,2);var pu=()=>({exact:!0}),ea=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=He({type:n,selectors:[["app-header"]],decls:24,vars:10,consts:[[1,"navbar","navbar-expand-sm","bg-header","navbar-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapsibleNavbar",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","collapsibleNavbar",1,"collapse","navbar-collapse","justify-content-end"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/home","routerLinkActive","activebutton","ariaCurrentWhenActive","page",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","/pagination","routerLinkActive","activebutton","ariaCurrentWhenActive","page",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","/index","routerLinkActive","activebutton","ariaCurrentWhenActive","page",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","/add","routerLinkActive","activebutton","ariaCurrentWhenActive","page",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","/search","routerLinkActive","activebutton","ariaCurrentWhenActive","page",1,"nav-link",3,"routerLinkActiveOptions"]],template:function(t,r){t&1&&(P(0,"section")(1,"nav",0)(2,"div",1)(3,"a",2),k(4,"Telugu Dictionary Firebase"),N(),P(5,"button",3),Se(6,"span",4),N(),P(7,"div",5)(8,"ul",6)(9,"li",7)(10,"a",8),k(11,"Home"),N()(),P(12,"li",7)(13,"a",9),k(14,"Pagination"),N()(),P(15,"li",7)(16,"a",10),k(17,"Index"),N()(),P(18,"li",7)(19,"a",11),k(20,"Add Word"),N()(),P(21,"li",7)(22,"a",12),k(23,"Search"),N()()()()()()()),t&2&&(j(10),se("routerLinkActiveOptions",os(5,pu)),j(3),se("routerLinkActiveOptions",os(6,pu)),j(3),se("routerLinkActiveOptions",os(7,pu)),j(3),se("routerLinkActiveOptions",os(8,pu)),j(3),se("routerLinkActiveOptions",os(9,pu)))},dependencies:[ws,Hy],encapsulation:2})};var dn=class n{firestore;collectionRef;collectionName="dictionary";constructor(){this.firestore=O(mt),this.collectionRef=Yt(this.firestore,"dictionary")}getPaginatedItems(e,t=null){return C(this,null,function*(){let r=ln(this.collectionRef,kn("word"),xn(e));return t&&(r=ln(this.collectionRef,kn("word"),Xs(t),xn(e))),(yield gi(r)).docs.map(o=>L({id:o.id},o.data()))})}getDictionaryItems(){let e=Yt(this.firestore,"dictionary");return _o(this.collectionRef,{idField:"id"})}getItemByWord(e){let t=Yt(this.firestore,"dictionary"),r=ln(this.collectionRef,Ur("word","==",e.toUpperCase()));return gi(r).then(i=>i.docs.map(o=>L({id:o.id},o.data())))}getItemById(e){let t=fu(this.firestore,"dictionary",e);return bM(t)}getItems(){return _o(this.collectionRef,{idField:"id"})}addItemToFirestore(e){let t=Yt(this.firestore,"dictionary");return ZI(this.collectionRef,e).then(r=>oE(r).then(i=>L({id:r.id},i.data())))}deleteItem(e){return C(this,null,function*(){yield iE(fu(this.firestore,`items/${e}`))})}deleteItemById(e){let t=fu(this.firestore,"dictionary",e);return iE(t)}updateItemAndFetch(e,t){let r=fu(this.firestore,"dictionary",e);return TM(r,t).then(()=>oE(r).then(i=>L({id:i.id},i.data())))}getAllItems(){return gi(this.collectionRef).then(e=>e.docs.map(t=>L({id:t.id},t.data())))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var kM=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(K(ji),K(vn))};static \u0275dir=rt({type:n})}return n})(),WH=(()=>{class n extends kM{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ts(n)))(i||n)}})();static \u0275dir=rt({type:n,features:[Dr]})}return n})(),OM=new z("");var GH={provide:OM,useExisting:Vi(()=>mi),multi:!0};function KH(){let n=rn()?rn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var QH=new z(""),mi=(()=>{class n extends kM{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!KH())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(K(ji),K(vn),K(QH,8))};static \u0275dir=rt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ae("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ja([GH]),Dr]})}return n})();function YH(n){return n==null||ZH(n)===0}function ZH(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var uE=new z(""),FM=new z("");function JH(n){return YH(n.value)?{required:!0}:null}function CM(n){return null}function LM(n){return n!=null}function VM(n){return Ui(n)?Ne(n):n}function jM(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function UM(n,e){return e.map(t=>t(n))}function XH(n){return!n.validate}function BM(n){return n.map(e=>XH(e)?e:t=>e.validate(t))}function ez(n){if(!n)return null;let e=n.filter(LM);return e.length==0?null:function(t){return jM(UM(t,e))}}function lE(n){return n!=null?ez(BM(n)):null}function tz(n){if(!n)return null;let e=n.filter(LM);return e.length==0?null:function(t){let r=UM(t,e).map(VM);return eg(r).pipe(X(jM))}}function dE(n){return n!=null?tz(BM(n)):null}function SM(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function nz(n){return n._rawValidators}function rz(n){return n._rawAsyncValidators}function cE(n){return n?Array.isArray(n)?n:[n]:[]}function Lf(n,e){return Array.isArray(n)?n.includes(e):n===e}function AM(n,e){let t=cE(e);return cE(n).forEach(i=>{Lf(t,i)||t.push(i)}),t}function RM(n,e){return cE(e).filter(t=>!Lf(n,t))}var Vf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=lE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=dE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ra=class extends Vf{name;get formDirective(){return null}get path(){return null}},Iu=class extends Vf{_parent=null;name=null;valueAccessor=null},jf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},iz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},XJ=he(L({},iz),{"[class.ng-submitted]":"isSubmitted"}),oa=(()=>{class n extends jf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(K(Iu,2))};static \u0275dir=rt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&wt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Dr]})}return n})(),$M=(()=>{class n extends jf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(K(ra,10))};static \u0275dir=rt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&wt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Dr]})}return n})();var gu="VALID",Ff="INVALID",ta="PENDING",mu="DISABLED",ia=class{},Uf=class extends ia{value;source;constructor(e,t){super(),this.value=e,this.source=t}},vu=class extends ia{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},_u=class extends ia{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},na=class extends ia{status;source;constructor(e,t){super(),this.status=e,this.source=t}};function HM(n){return(Hf(n)?n.validators:n)||null}function oz(n){return Array.isArray(n)?lE(n):n||null}function zM(n,e){return(Hf(e)?e.asyncValidators:n)||null}function sz(n){return Array.isArray(n)?dE(n):n||null}function Hf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function az(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[t])throw new $(1001,"")}function cz(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new $(1002,"")})}var Bf=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return $n(this.statusReactive)}set status(e){$n(()=>this.statusReactive.set(e))}_status=ss(()=>this.statusReactive());statusReactive=rs(void 0);get valid(){return this.status===gu}get invalid(){return this.status===Ff}get pending(){return this.status==ta}get disabled(){return this.status===mu}get enabled(){return this.status!==mu}errors;get pristine(){return $n(this.pristineReactive)}set pristine(e){$n(()=>this.pristineReactive.set(e))}_pristine=ss(()=>this.pristineReactive());pristineReactive=rs(!0);get dirty(){return!this.pristine}get touched(){return $n(this.touchedReactive)}set touched(e){$n(()=>this.touchedReactive.set(e))}_touched=ss(()=>this.touchedReactive());touchedReactive=rs(!1);get untouched(){return!this.touched}_events=new We;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(AM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(AM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(RM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(RM(e,this._rawAsyncValidators))}hasValidator(e){return Lf(this._rawValidators,e)}hasAsyncValidator(e){return Lf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(he(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new _u(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new _u(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(he(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new vu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new vu(!0,r))}markAsPending(e={}){this.status=ta;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new na(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(he(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=mu,this.errors=null,this._forEachChild(i=>{i.disable(he(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Uf(this.value,r)),this._events.next(new na(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=gu,this._forEachChild(r=>{r.enable(he(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gu||this.status===ta)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Uf(this.value,t)),this._events.next(new na(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(he(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mu:gu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ta,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=VM(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new na(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?mu:this.errors?Ff:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ta)?ta:this._anyControlsHaveStatus(Ff)?Ff:gu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new vu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new _u(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Hf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=oz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=sz(this._rawAsyncValidators)}},$f=class extends Bf{constructor(e,t,r){super(HM(t),zM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){cz(this,!0,e),Object.keys(e).forEach(r=>{az(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var hE=new z("",{providedIn:"root",factory:()=>fE}),fE="always";function uz(n,e){return[...e.path,n]}function qM(n,e,t=fE){WM(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),dz(n,e),fz(n,e),hz(n,e),lz(n,e)}function MM(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lz(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function WM(n,e){let t=nz(n);e.validator!==null?n.setValidators(SM(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=rz(n);e.asyncValidator!==null?n.setAsyncValidators(SM(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();MM(e._rawValidators,i),MM(e._rawAsyncValidators,i)}function dz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&GM(n,e)})}function hz(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&GM(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function GM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function fz(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function pz(n,e){n==null,WM(n,e)}function gz(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function mz(n){return Object.getPrototypeOf(n.constructor)===WH}function yz(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function vz(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===mi?t=o:mz(o)?r=o:i=o}),i||r||t||null}var _z={provide:ra,useExisting:Vi(()=>pE)},yu=Promise.resolve(),pE=(()=>{class n extends ra{callSetDisabledState;get submitted(){return $n(this.submittedReactive)}_submitted=ss(()=>this.submittedReactive());submittedReactive=rs(!1);_directives=new Set;form;ngSubmit=new Ye;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new $f({},lE(t),dE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){yu.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),qM(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){yu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){yu.then(()=>{let r=this._findContainer(t.path),i=new $f({});pz(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){yu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){yu.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),yz(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(K(uE,10),K(FM,10),K(hE,8))};static \u0275dir=rt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ae("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ja([_z]),Dr]})}return n})();function NM(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function PM(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Iz=class extends Bf{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(HM(t),zM(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(PM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){NM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){NM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){PM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Ez={provide:Iu,useExisting:Vi(()=>Io)},xM=Promise.resolve(),Io=(()=>{class n extends Iu{_changeDetectorRef;callSetDisabledState;control=new Iz;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ye;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=vz(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),gz(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){qM(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){xM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Hi(r);xM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?uz(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(K(ra,9),K(uE,10),K(FM,10),K(OM,10),K($i,8),K(hE,8))};static \u0275dir=rt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ja([Ez]),Dr,Ir]})}return n})();var KM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=rt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var wz=(()=>{class n{_validator=CM;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):CM,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=rt({type:n,features:[Ir]})}return n})();var bz={provide:uE,useExisting:Vi(()=>gE),multi:!0};var gE=(()=>{class n extends wz{required;inputName="required";normalizeInput=Hi;createValidator=t=>JH;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ts(n)))(i||n)}})();static \u0275dir=rt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Za("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ja([bz]),Dr]})}return n})();var Dz=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=br({type:n});static \u0275inj=gr({})}return n})();var hn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:hE,useValue:t.callSetDisabledState??fE}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=br({type:n});static \u0275inj=gr({imports:[Dz]})}return n})();var sa=class n{transform(e,t,r){return e.sort((i,o)=>{let s=i[t],a=o[t];return s==null||a==null?0:r==="asc"?s.localeCompare(a):a.localeCompare(s)})}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=md({name:"customSort",type:n,pure:!0})};function Tz(n,e){if(n&1){let t=Nt();P(0,"tr")(1,"td",17)(2,"a",18),ae("click",function(){let i=xe(t).$implicit,o=Ae(2);return ke(o.viewDetails(i.id))}),k(3),En(4,"titlecase"),N()(),P(5,"td",19),k(6),N()()}if(n&2){let t=e.$implicit;j(3),Le(wn(4,2,t.word)),j(3),Le(t.meaning)}}function Cz(n,e){if(n&1){let t=Nt();P(0,"div",11)(1,"table",12)(2,"thead",13)(3,"tr")(4,"th")(5,"a",14),ae("click",function(){xe(t);let i=Ae();return ke(i.toggleSortOrder())}),k(6,"Word"),N()(),P(7,"th")(8,"a",15),k(9,"Meaning"),N()()()(),P(10,"tbody"),Fe(11,Tz,7,4,"tr",16),N()()()}if(n&2){let t=Ae();j(11),se("ngForOf",t.filteredItems)}}var Eu=class n{constructor(e,t){this.firestore=e;this.router=t;let r=Yt(this.firestore,"dictionary");this.items$=_o(r,{idField:"id"}),this.filterItems()}displayAddError="";firestoreService=O(dn);items$;selectedItem={id:"",word:"",meaning:""};sortedItems=[];sortOrder=!1;items=[];filteredItems=[];paginatedItemsList=[];searchTerm="";currentPage=1;itemsPerPage=5;ngOnInit(){this.fetchItems(),console.log("ngOnInit paginatedItemsList",this.paginatedItemsList.length),console.log("ngOnInit this.filteredItems",this.filteredItems.length)}fetchItems(){this.items$=this.firestoreService.getItems(),this.items$.subscribe(e=>{this.items=e,console.log(e),this.filterItems(),this.paginatedItems()}),this.filteredItems=[],this.filterItems()}filterItems(){this.filteredItems=this.items.filter(e=>e.word.toLowerCase().includes(this.searchTerm.toLowerCase())),this.sortedItems=new sa().transform(this.filteredItems,"word",this.sortOrder?"desc":"asc"),console.log(this.sortedItems),this.currentPage=1}toggleSortOrder(){this.sortOrder=!this.sortOrder,this.filterItems()}paginatedItems(){let e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;console.log("start",e),console.log("end",t),console.log("this.filteredItems",this.filteredItems),this.paginatedItemsList=this.filteredItems.slice(e,t),console.log("paginatedItemsList",this.paginatedItemsList)}changePage(e){this.currentPage=e,this.paginatedItems()}viewDetails(e){this.router.navigate(["/details",e])}totalPages(){return Math.ceil(this.filteredItems.length/this.itemsPerPage)}static \u0275fac=function(t){return new(t||n)(K(mt),K(Wn))};static \u0275cmp=He({type:n,selectors:[["app-home"]],decls:15,vars:2,consts:[[1,"container-fluid"],[1,"row","d-flex","justify-content-center","mt-3","mb-3"],[1,"col-lg-6","col-md-8","col-sm-12"],[1,"row"],[1,"col-8","mb-3"],["for","searchWord",1,"text-success"],["id","searchWord","name","searchWord","type","text","placeholder","Search word...",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-4","mb-4","pt-4","d-flex","justify-content-start"],["type","button",1,"btn","btn-success",3,"click"],["class","col-12",4,"ngIf"],[1,"col-12","mt-5"],[1,"col-12"],["id","searchTable",1,"table","table-striped","olistTable"],[1,"table-dark"],[1,"btn","btn-success",3,"click"],["href","javascript:void(0)",1,"btn","btn-success"],[4,"ngFor","ngForOf"],["width","50%",1,"letter-spacing-2px","word"],[1,"btn","btn-link","mx-1",3,"click"],["width","50%",1,"noto-sans-telugu-td"]],template:function(t,r){t&1&&(P(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),k(4,"Search"),N(),P(5,"div",3)(6,"div",4)(7,"label",5),k(8,"Search Word"),N(),P(9,"input",6),nn("ngModelChange",function(o){return In(r.searchTerm,o)||(r.searchTerm=o),o}),ae("input",function(){return r.filterItems()}),N()(),P(10,"div",7)(11,"button",8),ae("click",function(){return r.filterItems()}),k(12,"Search"),N()(),Fe(13,Cz,12,1,"div",9),Se(14,"div",10),N()()()()),t&2&&(j(9),tn("ngModel",r.searchTerm),j(4),se("ngIf",r.searchTerm||r.paginatedItemsList.length>0))},dependencies:[on,bt,Tr,bn,hn,mi,oa,Io],encapsulation:2})};var Sz=["wordForm"];function Az(n,e){if(n&1&&(P(0,"div",51),Se(1,"i",52),k(2),N()),n&2){let t=Ae(2);j(2),_n(" ",t.displayAddError," ")}}function Rz(n,e){if(n&1&&(P(0,"div",53),Se(1,"i",54),k(2),N()),n&2){let t=Ae(2);j(2),_n(" ",t.displayAddError," ")}}function Mz(n,e){if(n&1&&(P(0,"div",48),Fe(1,Az,3,1,"div",49)(2,Rz,3,1,"div",50),N()),n&2){let t=Ae();j(),se("ngIf",t.alertSuccess()&&t.displayAddError),j(),se("ngIf",t.alertDanger()&&t.displayAddError)}}function Nz(n,e){n&1&&(P(0,"div",42),k(1," Word is required. "),N())}function Pz(n,e){n&1&&(P(0,"div",42),k(1," Meaning is required. "),N())}function xz(n,e){if(n&1){let t=Nt();P(0,"tr")(1,"td",58),k(2),En(3,"titlecase"),N(),P(4,"td",46),k(5),N(),P(6,"td",46)(7,"div",11)(8,"div",59)(9,"button",60),ae("click",function(){let i=xe(t).$implicit,o=Ae(2);return ke(o.openUpdateModal(i))}),Se(10,"i",61),k(11," Update"),N()(),P(12,"div",59)(13,"button",62),ae("click",function(){let i=xe(t).$implicit,o=Ae(2);return ke(o.openDeleteModal(i))}),Se(14,"i",63),k(15," Delete"),N()()()()()}if(n&2){let t=e.$implicit;j(2),Le(wn(3,2,t.word)),j(3),Le(t.meaning)}}function kz(n,e){if(n&1&&(P(0,"div")(1,"h3",55),k(2,"Added Words"),N(),P(3,"table",56)(4,"thead",44)(5,"tr")(6,"th"),k(7,"Word"),N(),P(8,"th"),k(9,"Meaning"),N(),P(10,"th"),k(11,"Actions"),N()()(),P(12,"tbody"),Fe(13,xz,16,4,"tr",57),N()()()),n&2){let t=Ae();j(13),se("ngForOf",t.addedItem)}}function Oz(n,e){n&1&&(P(0,"div",42),k(1," Word is required. "),N())}function Fz(n,e){n&1&&(P(0,"div",42),k(1," Meaning is required. "),N())}var zf=class n{constructor(e,t){this.firestore=e;this.firestoreService=t,this.firestore=e}englishWord="";teluguWord="";displayAddError=null;firestoreService=O(dn);items=[];selectedItem={id:"",word:"",meaning:""};searchTerm="";filteredItems=[];addedItem=[];displayUpdateError="";wordForm;ngOnInit(){this.getItems()}getItems(){this.firestoreService.getItems().subscribe(e=>{this.items=e,this.filterItems()})}addItem(){let e=(this.englishWord??"").trim().toUpperCase(),t=(this.teluguWord??"").trim();if(!e||!t){this.displayAddError="Both Word and Meaning are required",this.clearErrorMessageAfterDelay();return}this.firestoreService.getItemByWord(e).then(r=>{if(r.some(o=>(o.word??"").toUpperCase()===e))this.displayAddError="Word already exists",this.clearErrorMessageAfterDelay();else{let o={word:e,meaning:t};this.firestoreService.addItemToFirestore(o).then(s=>{this.addedItem.push(s),this.displayAddError="",this.wordForm&&this.wordForm.resetForm(),this.englishWord="",this.teluguWord=""}).catch(s=>{this.displayAddError="Failed to add item. Please try again",this.clearErrorMessageAfterDelay(),console.error("Add error:",s)})}})}openUpdateModal(e){this.selectedItem=L({},e)}updateItem(){let e=(this.selectedItem.word??"").trim().toUpperCase(),t=(this.selectedItem.meaning??"").trim();if(!e||!t){this.displayAddError="Both Word and Meaning are required",this.clearErrorMessageAfterDelay();return}this.firestoreService.getItemByWord(e).then(r=>{if(r.find(o=>(o.word??"").toUpperCase()===e&&o.id!==this.selectedItem.id))this.displayAddError="Another entry with this word already exists",this.clearErrorMessageAfterDelay();else{let o={word:e,meaning:t};if(!this.selectedItem.id){this.displayAddError="Item ID is missing for update",this.clearErrorMessageAfterDelay();return}this.firestoreService.updateItemAndFetch(this.selectedItem.id,o).then(s=>{let a=this.addedItem.findIndex(l=>l.id===s.id);a!==-1&&(this.addedItem[a]=s,this.displayAddError="Updated Successfully",this.clearErrorMessageAfterDelay());let u=document.getElementById("updateModal");u&&(bootstrap.Modal.getInstance(u)||new bootstrap.Modal(u)).hide()}).catch(s=>{this.displayAddError="Failed to update item. Please try again",this.clearErrorMessageAfterDelay(),console.error("Update error:",s)})}})}openDeleteModal(e){this.selectedItem=e}deleteItem(){if(!this.selectedItem.id){this.displayAddError="Item ID is missing.",this.clearErrorMessageAfterDelay();return}this.firestoreService.deleteItemById(this.selectedItem.id).then(()=>{this.addedItem=this.addedItem.filter(t=>t.id!==this.selectedItem.id),this.displayAddError="Deleted Successfully",this.clearErrorMessageAfterDelay();let e=document.getElementById("deleteModal");e&&(bootstrap.Modal.getInstance(e)||new bootstrap.Modal(e)).hide()}).catch(e=>{this.displayAddError="Failed to delete item.",this.clearErrorMessageAfterDelay(),console.error("Delete error:",e)})}closeModal(e){let t=document.getElementById(e);if(t){let r=bootstrap.Modal.getInstance(t);r&&r.hide()}}openModal(e){let t=document.getElementById(e);if(t){let r=bootstrap.Modal.getInstance(t);r&&r.show()}}alertSuccess(){return this.displayAddError==="Updated Successfully"}alertDanger(){return new Set(["Failed to update item. Please try again","Item ID is missing","Both Word and Meaning are required","Word already exists","Failed to add item. Please try again","Another entry with this word already exists","Item ID is missing for update","Deleted Successfully","Failed to delete item"]).has(this.displayAddError??"")}clearErrorMessageAfterDelay(){setTimeout(()=>{this.displayAddError=null},2e3)}filterItems(){this.filteredItems=this.items.filter(e=>e.word.toLowerCase().includes(this.searchTerm.toLowerCase()))}static \u0275fac=function(t){return new(t||n)(K(mt),K(dn))};static \u0275cmp=He({type:n,selectors:[["app-add"]],viewQuery:function(t,r){if(t&1&&o0(Sz,5),t&2){let i;yd(i=vd())&&(r.wordForm=i.first)}},decls:93,vars:15,consts:[["wordForm","ngForm"],["englishWordRef","ngModel"],["teluguWordRef","ngModel"],["updateForm","ngForm"],[1,"container-fluid","my-3"],[1,"row","d-flex","justify-content-center"],[1,"col-lg-6","col-md-8","col-sm-12","mt-3"],["id","ErrorMsg",4,"ngIf"],[1,"card"],[1,"card-body"],["novalidate","",3,"ngSubmit"],[1,"row"],[1,"col-12"],["for","englishWord",1,"text-success"],["type","text","name","englishWord","id","englishWord","required","","placeholder","Enter word",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],[1,"col-12","mt-2"],["for","teluguWord",1,"text-success"],["type","text","name","teluguWord","id","teluguWord","required","","placeholder","Enter meaning",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","mt-3"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"fas","fa-plus"],[4,"ngIf"],["id","updateModal","tabindex","-1","aria-labelledby","updateModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","updateModalLabel",1,"modal-title"],[1,"fas","fa-pen"],["type","button","id","updateModalCloseButton","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["for","word"],["type","text","name","word","id","word","required","","placeholder","Enter new word",1,"form-control",3,"ngModelChange","ngModel"],["for","meaning"],["type","text","name","meaning","id","meaning","required","","placeholder","Enter new meaning",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","deleteModal","tabindex","-1","aria-labelledby","deleteModalLabel",1,"modal","fade"],["id","deleteModalLabel",1,"modal-title"],[1,"fas","fa-exclamation-triangle","text-danger"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"col-12","my-2"],[1,"text-danger"],[1,"table","table-striped","olistTable"],[1,"table-dark"],["width","33%",1,"letter-spacing-2px"],["width","33%",1,"noto-sans-telugu-td"],["type","button",1,"btn","btn-danger",3,"click"],["id","ErrorMsg"],["class","alert alert-success py-2 px-3",4,"ngIf"],["class","alert alert-danger py-2 px-3",4,"ngIf"],[1,"alert","alert-success","py-2","px-3"],[1,"fas","fa-check-circle","me-2"],[1,"alert","alert-danger","py-2","px-3"],[1,"fas","fa-exclamation-circle","me-2"],[1,"mt-5"],[1,"table","table-striped","olistTable","mt-5"],[4,"ngFor","ngForOf"],["width","33%",1,"letter-spacing-2px","word"],[1,"col-sm-12","col-md-6","col-lg-6"],["data-bs-toggle","modal","data-bs-target","#updateModal",1,"btn","btn-warning","btn-sm",3,"click"],[1,"fas","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"]],template:function(t,r){if(t&1){let i=Nt();P(0,"div",4)(1,"div",5)(2,"div",6)(3,"h3"),k(4,"Add Word"),N(),Fe(5,Mz,3,2,"div",7),P(6,"div",8)(7,"div",9)(8,"form",10,0),ae("ngSubmit",function(){return xe(i),ke(r.addItem())}),P(10,"div",11)(11,"div",12)(12,"label",13),k(13,"Word"),N(),P(14,"input",14,1),nn("ngModelChange",function(s){return xe(i),In(r.englishWord,s)||(r.englishWord=s),ke(s)}),N(),Fe(16,Nz,2,0,"div",15),N(),P(17,"div",16)(18,"label",17),k(19,"Meaning"),N(),P(20,"input",18,2),nn("ngModelChange",function(s){return xe(i),In(r.teluguWord,s)||(r.teluguWord=s),ke(s)}),N(),Fe(22,Pz,2,0,"div",15),N()(),P(23,"div",19)(24,"div",12)(25,"button",20),Se(26,"i",21),k(27," Add Word "),N()()()()()(),Fe(28,kz,14,1,"div",22),N()()(),P(29,"div",23)(30,"div",24)(31,"div",25)(32,"form",10,3),ae("ngSubmit",function(){return xe(i),ke(r.updateItem())}),P(34,"div",26)(35,"h5",27),Se(36,"i",28),k(37," Update Word"),N(),Se(38,"button",29),N(),P(39,"div",30)(40,"div",11)(41,"div",12)(42,"label",31),k(43,"Word"),N(),P(44,"input",32,2),nn("ngModelChange",function(s){return xe(i),In(r.selectedItem.word,s)||(r.selectedItem.word=s),ke(s)}),N(),Fe(46,Oz,2,0,"div",15),N(),P(47,"div",12)(48,"label",33),k(49,"Meaning"),N(),P(50,"input",34,2),nn("ngModelChange",function(s){return xe(i),In(r.selectedItem.meaning,s)||(r.selectedItem.meaning=s),ke(s)}),N(),Fe(52,Fz,2,0,"div",15),N()()(),P(53,"div",35)(54,"button",36),k(55,"Cancel"),N(),P(56,"button",20),k(57," Save Changes "),N()()()()()(),P(58,"div",37)(59,"div",24)(60,"div",25)(61,"div",26)(62,"h5",38),Se(63,"i",39),k(64," Confirm Delete"),N(),Se(65,"button",40),N(),P(66,"div",30)(67,"div",11)(68,"div",41)(69,"p"),k(70,"Are you sure you want to delete "),P(71,"span",42),k(72),N()()()(),P(73,"div",11)(74,"div",12)(75,"table",43)(76,"thead",44)(77,"tr")(78,"th"),k(79,"Word"),N(),P(80,"th"),k(81,"Meaning"),N()()(),P(82,"tbody")(83,"tr")(84,"td",45),k(85),N(),P(86,"td",46),k(87),N()()()()()()(),P(88,"div",35)(89,"button",36),k(90,"Cancel"),N(),P(91,"button",47),ae("click",function(){return xe(i),ke(r.deleteItem())}),k(92,"Delete"),N()()()()()}if(t&2){let i=Bi(9),o=Bi(15),s=Bi(21),a=Bi(33);j(5),se("ngIf",r.displayAddError),j(9),tn("ngModel",r.englishWord),j(2),se("ngIf",o.invalid&&o.touched),j(4),tn("ngModel",r.teluguWord),j(2),se("ngIf",s.invalid&&s.touched),j(3),se("disabled",i.invalid),j(3),se("ngIf",r.addedItem.length>0),j(16),tn("ngModel",r.selectedItem.word),j(2),se("ngIf",o.invalid&&o.touched),j(4),tn("ngModel",r.selectedItem.meaning),j(2),se("ngIf",s.invalid&&s.touched),j(4),se("disabled",a.invalid),j(16),_n("",r.selectedItem.word," "),j(13),Le(r.selectedItem.word),j(2),Le(r.selectedItem.meaning)}},dependencies:[hn,KM,mi,oa,$M,gE,Io,pE,bt,on,Tr,bn],encapsulation:2})};function Lz(n,e){n&1&&(P(0,"div",39),k(1," \u2757 No results found. "),N())}function Vz(n,e){if(n&1){let t=Nt();P(0,"tr")(1,"td",44),k(2),En(3,"titlecase"),N(),P(4,"td",45),k(5),N(),P(6,"td",45)(7,"div",19)(8,"div",46)(9,"button",47),ae("click",function(){let i=xe(t).$implicit,o=Ae(3);return ke(o.openUpdateModal(i))}),Se(10,"i",48),k(11," Update"),N()(),P(12,"div",46)(13,"button",49),ae("click",function(){let i=xe(t).$implicit,o=Ae(3);return ke(o.openDeleteModal(i))}),Se(14,"i",50),k(15," Delete"),N()()()()()}if(n&2){let t=e.$implicit;j(2),Le(wn(3,2,t.word)),j(3),Le(t.meaning)}}function jz(n,e){if(n&1){let t=Nt();P(0,"div",40)(1,"table",41)(2,"thead",33)(3,"tr")(4,"th")(5,"a",42),ae("click",function(){xe(t);let i=Ae(2);return ke(i.toggleSortOrder())}),k(6,"Word"),N()(),P(7,"th"),k(8,"Meaning"),N(),P(9,"th"),k(10,"Actions"),N()()(),P(11,"tbody"),Fe(12,Vz,16,4,"tr",43),N()()()}if(n&2){let t=Ae(2);j(12),se("ngForOf",t.displayedItems)}}function Uz(n,e){if(n&1&&(P(0,"div",20),Fe(1,Lz,2,0,"div",37)(2,jz,13,1,"div",38),N()),n&2){let t=Ae();j(),se("ngIf",t.displayedItems.length===0),j(),se("ngIf",t.displayedItems.length>0)}}function Bz(n,e){if(n&1){let t=Nt();P(0,"li",54)(1,"button",55),ae("click",function(){let i=xe(t).$implicit,o=Ae(2);return ke(o.changePage(i))}),k(2),N()()}if(n&2){let t=e.$implicit,r=Ae(2);wt("active",r.currentPage===t),j(2),_n(" ",t," ")}}function $z(n,e){if(n&1){let t=Nt();P(0,"div",51)(1,"nav",52)(2,"ul",53)(3,"li",54)(4,"button",55),ae("click",function(){xe(t);let i=Ae();return ke(i.changePage(1))}),k(5,"\xAB First"),N()(),P(6,"li",54)(7,"button",55),ae("click",function(){xe(t);let i=Ae();return ke(i.changePage(i.currentPage-1))}),k(8,"\u2039 Prev"),N()(),Fe(9,Bz,3,3,"li",56),P(10,"li",54)(11,"button",55),ae("click",function(){xe(t);let i=Ae();return ke(i.changePage(i.currentPage+1))}),k(12,"Next \u203A"),N()(),P(13,"li",54)(14,"button",55),ae("click",function(){xe(t);let i=Ae();return ke(i.changePage(i.totalPages))}),k(15,"Last \xBB"),N()()()()()}if(n&2){let t=Ae();j(3),wt("disabled",t.currentPage===1),j(3),wt("disabled",t.currentPage===1),j(3),se("ngForOf",t.getPageNumbers()),j(),wt("disabled",t.currentPage===t.totalPages),j(3),wt("disabled",t.currentPage===t.totalPages)}}var qf=class n{constructor(e){this.firestoreService=e}searchTerm="";allItems=[];sortedItems=[];selectedItem={};displayAddError=null;sortAscending=!0;displayedItems=[];paginationEnabled=!1;sortOrder=!1;currentPage=1;itemsPerPage=10;totalPages=1;itemsPerPageOptions=[5,10,20,50];itemsPerPageSelected=this.itemsPerPageOptions[0];ngOnInit(){this.loadAllItems()}loadAllItems(){this.firestoreService.getAllItems().then(e=>{this.allItems=e})}applyFilters(){let e=[];if(this.searchTerm.trim()){let t=this.searchTerm.trim().toUpperCase();e=this.allItems.filter(r=>(r.word??"").toUpperCase().includes(t)),e=new sa().transform(e,"word",this.sortOrder?"desc":"asc")}else e=[];this.sortedItems=[...e],this.currentPage=1,this.paginate()}paginate(){if(this.sortedItems.length===0){this.displayedItems=[],this.totalPages=0,this.currentPage=0;return}this.totalPages=Math.ceil(this.sortedItems.length/this.itemsPerPage);let e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;this.displayedItems=this.sortedItems.slice(e,t)}getPageNumbers(){let e=[],r=Math.max(1,this.currentPage-Math.floor(5)),i=r+10-1;i>this.totalPages&&(i=this.totalPages,r=Math.max(1,i-10+1));for(let o=r;o<=i;o++)e.push(o);return e}changePage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e,this.paginate())}toggleSortOrder(){this.sortOrder=!this.sortOrder,this.applyFilters()}convertToTitleCase(e){return e?e.toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):""}openUpdateModal(e){this.selectedItem=L({},e)}openDeleteModal(e){this.selectedItem=L({},e)}clearErrorMessageAfterDelay(){setTimeout(()=>{this.displayAddError=null},2e3)}alertSuccess(){return this.displayAddError==="Updated Successfully"}alertDanger(){return new Set(["Failed to update item. Please try again","Item ID is missing","Both Word and Meaning are required","Word already exists","Failed to add item. Please try again","Another entry with this word already exists","Item ID is missing for update","Deleted Successfully","Failed to delete item"]).has(this.displayAddError??"")}updateItem(){let e=(this.selectedItem.word??"").trim().toUpperCase(),t=(this.selectedItem.meaning??"").trim();if(!e||!t){this.displayAddError="Both Word and Meaning are required",this.clearErrorMessageAfterDelay();return}this.firestoreService.getItemByWord(e).then(r=>{if(r.find(o=>o.word.toUpperCase()===e&&o.id!==this.selectedItem.id))this.displayAddError="Another entry with this word already exists",this.clearErrorMessageAfterDelay();else{let o={word:e,meaning:t};this.firestoreService.updateItemAndFetch(this.selectedItem.id,o).then(s=>{let a=this.allItems.findIndex(l=>l.id===s.id);a!==-1&&(this.allItems[a]=s),this.displayAddError="Updated Successfully",this.clearErrorMessageAfterDelay();let u=document.getElementById("updateModal");u&&bootstrap.Modal.getOrCreateInstance(u).hide(),this.applyFilters()}).catch(()=>{this.displayAddError="Failed to update item. Please try again",this.clearErrorMessageAfterDelay()})}})}deleteItem(){if(!this.selectedItem.id){this.displayAddError="Item ID is missing",this.clearErrorMessageAfterDelay();return}this.firestoreService.deleteItemById(this.selectedItem.id).then(()=>{this.allItems=this.allItems.filter(t=>t.id!==this.selectedItem.id),this.displayAddError="Deleted Successfully",this.clearErrorMessageAfterDelay();let e=document.getElementById("deleteModal");e&&bootstrap.Modal.getOrCreateInstance(e).hide(),this.applyFilters()}).catch(()=>{this.displayAddError="Failed to delete item",this.clearErrorMessageAfterDelay()})}static \u0275fac=function(t){return new(t||n)(K(dn))};static \u0275cmp=He({type:n,selectors:[["app-search"]],decls:74,vars:10,consts:[[1,"container-fluid","my-3"],[1,"row","d-flex","justify-content-center","mt-3","mb-3"],[1,"col-lg-6","col-md-8","col-sm-12"],[1,"row","mt-3","mb-3"],[1,"col-8","mb-3"],["for","searchWord",1,"text-success"],["id","searchWord","name","searchWord","type","text","placeholder","Search word...",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-4","mb-3","pt-4"],["type","button",1,"btn","btn-success",3,"click"],["class","col-12",4,"ngIf"],["class","col-12 mt-2",4,"ngIf"],["id","updateModal","tabindex","-1","aria-labelledby","updateModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","updateModalLabel",1,"modal-title"],[1,"fas","fa-pen"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-12"],["for","word"],["type","text","name","word","id","word","placeholder","Enter new word",1,"form-control","text-capitalize",3,"ngModelChange","input","ngModel"],["for","meaning"],["type","text","name","meaning","id","meaning","placeholder","Enter new meaning",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","deleteModal","tabindex","-1","aria-labelledby","deleteModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteModalLabel",1,"modal-title"],[1,"fas","fa-exclamation-triangle","text-danger"],[1,"col-12","my-2"],[1,"text-danger"],[1,"table","table-striped","olistTable"],[1,"table-dark"],["width","33%",1,"letter-spacing-2px"],["width","33%",1,"noto-sans-telugu-td"],["type","button",1,"btn","btn-danger",3,"click"],["class","text-center mt-2 text-muted",4,"ngIf"],["class","mt-2 text-muted displayed-items-height",4,"ngIf"],[1,"text-center","mt-2","text-muted"],[1,"mt-2","text-muted","displayed-items-height"],["id","searchTable",1,"table","table-striped","olistTable"],[1,"btn","btn-success",3,"click"],[4,"ngFor","ngForOf"],["width","33%",1,"letter-spacing-2px","word"],["width","33%",1,"noto-sans-telugu-td","align-self-cente"],[1,"col-sm-12","col-md-6","col-lg-6"],["data-bs-toggle","modal","data-bs-target","#updateModal",1,"btn","btn-warning","btn-sm",3,"click"],[1,"fas","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"col-12","mt-2"],[1,"mt-3"],[1,"pagination","justify-content-center"],[1,"page-item"],[1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"]],template:function(t,r){t&1&&(P(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),k(4,"Search"),N(),P(5,"div",3)(6,"div",4)(7,"label",5),k(8,"Search Word"),N(),P(9,"input",6),nn("ngModelChange",function(o){return In(r.searchTerm,o)||(r.searchTerm=o),o}),ae("input",function(){return r.applyFilters()}),N()(),P(10,"div",7)(11,"button",8),ae("click",function(){return r.applyFilters()}),k(12,"Search"),N()(),Fe(13,Uz,3,2,"div",9)(14,$z,16,9,"div",10),N()()()(),P(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"h5",15),Se(20,"i",16),k(21," Update Word"),N(),Se(22,"button",17),N(),P(23,"div",18)(24,"div",19)(25,"div",20)(26,"label",21),k(27,"Word"),N(),P(28,"input",22),nn("ngModelChange",function(o){return In(r.selectedItem.word,o)||(r.selectedItem.word=o),o}),ae("input",function(){return r.selectedItem.word=r.convertToTitleCase(r.selectedItem.word)}),N()(),P(29,"div",20)(30,"label",23),k(31,"Meaning"),N(),P(32,"input",24),nn("ngModelChange",function(o){return In(r.selectedItem.meaning,o)||(r.selectedItem.meaning=o),o}),N()()()(),P(33,"div",25)(34,"button",26),k(35,"Cancel"),N(),P(36,"button",8),ae("click",function(){return r.updateItem()}),k(37,"Save Changes"),N()()()()(),P(38,"div",27)(39,"div",12)(40,"div",13)(41,"div",14)(42,"h5",28),Se(43,"i",29),k(44," Confirm Delete"),N(),Se(45,"button",17),N(),P(46,"div",18)(47,"div",19)(48,"div",30)(49,"p"),k(50,"Are you sure you want to delete "),P(51,"span",31),k(52),N()()()(),P(53,"div",19)(54,"div",20)(55,"table",32)(56,"thead",33)(57,"tr")(58,"th"),k(59,"Word"),N(),P(60,"th"),k(61,"Meaning"),N()()(),P(62,"tbody")(63,"tr")(64,"td",34),k(65),En(66,"titlecase"),N(),P(67,"td",35),k(68),N()()()()()()(),P(69,"div",25)(70,"button",26),k(71,"Cancel"),N(),P(72,"button",36),ae("click",function(){return r.deleteItem()}),k(73,"Delete"),N()()()()()),t&2&&(j(9),tn("ngModel",r.searchTerm),j(4),se("ngIf",r.searchTerm),j(),se("ngIf",r.displayedItems.length>0),j(14),tn("ngModel",r.selectedItem.word),j(4),tn("ngModel",r.selectedItem.meaning),j(20),_n("",r.convertToTitleCase(r.selectedItem.word)," "),j(13),Le(wn(66,8,r.selectedItem.word)),j(3),Le(r.selectedItem.meaning))},dependencies:[hn,mi,oa,Io,bt,on,Tr,bn],styles:[".displayed-items-height[_ngcontent-%COMP%]{min-height:556px!important}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{cursor:pointer}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover, .pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}"]})};var Wf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=He({type:n,selectors:[["app-not-found"]],decls:2,vars:0,template:function(t,r){t&1&&(P(0,"p"),k(1,"not-found works!"),N())},encapsulation:2})};function Hz(n,e){if(n&1&&(P(0,"p",5),k(1," Word : "),P(2,"strong",6),k(3),N(),Se(4,"br"),k(5," Meaning : "),P(6,"strong",6),k(7),N()()),n&2){let t=Ae();j(3),Le(t.selectedItem.word),j(4),Le(t.selectedItem.meaning)}}function zz(n,e){n&1&&(P(0,"p"),k(1,"No word ID found!"),N())}var Gf=class n{constructor(e,t,r,i){this.firestore=e;this.route=t;this.firestoreService=r;this.router=i;let o=Yt(this.firestore,"dictionary");this.items$=_o(o,{idField:"id"}),this.route.paramMap.subscribe(s=>{this.wordId=s.get("wordId")})}wordId=null;items$;items=[];selectedItem={id:"",word:"",meaning:""};ngOnInit(){this.fetchItems()}fetchItems(){this.items$=this.firestoreService.getItems(),this.items$.subscribe(e=>{this.items=e,console.log(e),this.selectedItem=this.items.find(t=>t.id===this.wordId),console.log(this.selectedItem)})}goHome(){this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||n)(K(mt),K(Cn),K(dn),K(Wn))};static \u0275cmp=He({type:n,selectors:[["app-details"]],decls:8,vars:2,consts:[["noId",""],[1,"container","mt-5"],[1,"my-5"],["class","mb-5",4,"ngIf","ngIfElse"],["routerLink","/home",1,"btn","btn-success","mt-3",3,"click"],[1,"mb-5"],[1,"text-danger"]],template:function(t,r){if(t&1){let i=Nt();P(0,"div",1)(1,"h2",2),k(2,"Selected Word Details"),N(),Fe(3,Hz,8,2,"p",3)(4,zz,2,0,"ng-template",null,0,a0),P(6,"a",4),ae("click",function(){return xe(i),ke(r.goHome())}),k(7,"Go Home"),N()()}if(t&2){let i=Bi(5);j(3),se("ngIf",r.wordId)("ngIfElse",i)}},dependencies:[bt,Tr,hn],encapsulation:2})};function qz(n,e){if(n&1){let t=Nt();P(0,"button",14),ae("click",function(){let i=xe(t).$implicit,o=Ae();return ke(o.filterByLetter(i))}),k(1),N()}if(n&2){let t=e.$implicit;j(),_n(" ",t," ")}}function Wz(n,e){if(n&1&&(P(0,"tr")(1,"td"),k(2),En(3,"titlecase"),N(),P(4,"td"),k(5),N()()),n&2){let t=e.$implicit;j(2),Le(wn(3,2,t.word)),j(3),Le(t.meaning)}}var Kf=class n{firestore=O(mt);items=[];pageSize=10;currentPage=1;nextPageCursors=[];prevPageCursors=[];hasNextPage=!0;hasPreviousPage=!1;alphabetList=Array.from(Array(26)).map((e,t)=>String.fromCharCode(65+t));selectedLetter="A";ngOnInit(){this.loadData(!0,!0)}loadData(e=!0,t=!1){return C(this,null,function*(){let r=Yt(this.firestore,"dictionary"),i;if(t)i=ln(r,kn("word"),Ur("word",">=",this.selectedLetter),Ur("word","<",this.getNextLetter(this.selectedLetter)),xn(this.pageSize)),this.currentPage=1;else if(e){let u=this.nextPageCursors[this.currentPage-1];if(!u)return;i=ln(r,kn("word"),Ur("word",">=",this.selectedLetter),Ur("word","<",this.getNextLetter(this.selectedLetter)),Xs(u),xn(this.pageSize))}else{let u=this.prevPageCursors[this.currentPage-2];if(!u)return this.loadData(!0,!0);i=ln(r,kn("word"),Ur("word",">=",this.selectedLetter),Ur("word","<",this.getNextLetter(this.selectedLetter)),Of(u),xn(this.pageSize)),this.currentPage=Math.max(1,this.currentPage-1)}let o=yield gi(i);if(o.empty){this.hasNextPage=!1;return}this.items=o.docs.map(u=>u.data());let s=o.docs[0],a=o.docs[o.docs.length-1];t?(this.nextPageCursors=[a],this.prevPageCursors=[s],this.currentPage=1):e&&(this.currentPage++,this.nextPageCursors.push(a),this.prevPageCursors.push(s)),this.hasNextPage=o.docs.length===this.pageSize,this.hasPreviousPage=this.currentPage>1})}filterByLetter(e){this.selectedLetter=e.toUpperCase(),this.items=[],this.nextPageCursors=[],this.prevPageCursors=[],this.currentPage=1,this.hasNextPage=!0,this.hasPreviousPage=!1,this.loadData(!0,!0)}getNextLetter(e){return String.fromCharCode(e.charCodeAt(0)+1)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=He({type:n,selectors:[["app-index"]],decls:27,vars:9,consts:[[1,"container"],[1,"row","mt-5"],[1,"col-12"],[1,"alphabet-index"],["class","btn btn-outline-primary m-1",3,"click",4,"ngFor","ngForOf"],[1,"col-12","mt-3"],[1,"table","table-bordered","table-striped"],["width","50%"],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],[1,"page-link",3,"click","disabled"],[1,"page-item","disabled"],[1,"page-link"],[1,"btn","btn-outline-primary","m-1",3,"click"]],template:function(t,r){t&1&&(P(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Fe(4,qz,2,1,"button",4),N()(),P(5,"div",5)(6,"table",6)(7,"thead")(8,"tr")(9,"th",7),k(10,"Word"),N(),P(11,"th",7),k(12,"Meaning"),N()()(),P(13,"tbody"),Fe(14,Wz,6,4,"tr",8),N()()(),P(15,"div",5)(16,"nav")(17,"ul",9)(18,"li",10)(19,"button",11),ae("click",function(){return r.loadData(!1)}),k(20," Previous "),N()(),P(21,"li",12)(22,"a",13),k(23),N()(),P(24,"li",10)(25,"button",11),ae("click",function(){return r.loadData(!0)}),k(26," Next "),N()()()()()()()),t&2&&(j(4),se("ngForOf",r.alphabetList),j(10),se("ngForOf",r.items),j(4),wt("disabled",!r.hasPreviousPage),j(),se("disabled",!r.hasPreviousPage),j(4),Le(r.currentPage),j(),wt("disabled",!r.hasNextPage),j(),se("disabled",!r.hasNextPage))},dependencies:[on,bt,bn],encapsulation:2})};function Gz(n,e){if(n&1&&(P(0,"tr")(1,"td"),k(2),En(3,"titlecase"),N(),P(4,"td"),k(5),N()()),n&2){let t=e.$implicit;j(2),Le(wn(3,2,t.word)),j(3),Le(t.meaning)}}var Qf=class n{firestore=O(mt);items=[];pageSize=10;currentPage=1;nextPageCursors=[];prevPageCursors=[];hasNextPage=!0;hasPreviousPage=!1;ngOnInit(){this.loadData(!0,!0)}loadData(e=!0,t=!1){return C(this,null,function*(){let r=Yt(this.firestore,"dictionary"),i;if(t)i=ln(r,kn("word"),xn(this.pageSize)),this.currentPage=1;else if(e){let u=this.nextPageCursors[this.currentPage-1];if(!u)return;i=ln(r,kn("word"),Xs(u),xn(this.pageSize))}else{let u=this.prevPageCursors[this.currentPage-2];if(!u)return this.currentPage=1,this.nextPageCursors=[],this.prevPageCursors=[],this.loadData(!0,!0);i=ln(r,kn("word"),Of(u),xn(this.pageSize))}let o=yield gi(i);if(o.empty){this.hasNextPage=!1;return}this.items=o.docs.map(u=>u.data());let s=o.docs[0],a=o.docs[o.docs.length-1];t?(this.nextPageCursors=[a],this.prevPageCursors=[s],this.currentPage=1):e?(this.currentPage++,this.nextPageCursors.push(a),this.prevPageCursors.push(s)):this.currentPage=Math.max(1,this.currentPage-1),this.hasNextPage=o.docs.length===this.pageSize,this.hasPreviousPage=this.currentPage>1})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=He({type:n,selectors:[["app-pagination"]],decls:24,vars:8,consts:[[1,"container"],[1,"row","mt-5"],[1,"col-12"],[1,"table","table-bordered","table-striped"],["width","50%"],[4,"ngFor","ngForOf"],[1,"col-12","mt-3"],[1,"pagination","justify-content-center"],[1,"page-item"],[1,"page-link",3,"click","disabled"],[1,"page-item","disabled"],[1,"page-link"]],template:function(t,r){t&1&&(P(0,"div",0)(1,"div",1)(2,"div",2)(3,"table",3)(4,"thead")(5,"tr")(6,"th",4),k(7,"Word"),N(),P(8,"th",4),k(9,"Meaning"),N()()(),P(10,"tbody"),Fe(11,Gz,6,4,"tr",5),N()()(),P(12,"div",6)(13,"nav")(14,"ul",7)(15,"li",8)(16,"button",9),ae("click",function(){return r.loadData(!1)}),k(17," Previous "),N()(),P(18,"li",10)(19,"a",11),k(20),N()(),P(21,"li",8)(22,"button",9),ae("click",function(){return r.loadData(!0)}),k(23," Next "),N()()()()()()()),t&2&&(j(11),se("ngForOf",r.items),j(4),wt("disabled",!r.hasPreviousPage),j(),se("disabled",!r.hasPreviousPage),j(4),Le(r.currentPage),j(),wt("disabled",!r.hasNextPage),j(),se("disabled",!r.hasNextPage))},dependencies:[on,bt,bn],styles:["li.page-item[_ngcontent-%COMP%]::selection{background:none}"]})};var QM=[{path:"",component:Eu},{path:"home",component:Eu},{path:"add",component:zf},{path:"search",component:qf},{path:"details/:wordId",component:Gf},{path:"index",component:Kf},{path:"pagination",component:Qf},{path:"**",component:Wf}];var YM={production:!1,firebase:{apiKey:"AIzaSyAbOyf7bfLBm5tn0ntrnwZzD0oCcyuIxHg",authDomain:"telugudictionary-77bcc.firebaseapp.com",projectId:"telugudictionary-77bcc",storageBucket:"telugudictionary-77bcc.firebasestorage.app",messagingSenderId:"710245569188",appId:"1:710245569188:web:0bc0912f5ce9570a3a0c31",measurementId:"G-5RYYRHBLCW"}};var ZM={providers:[zy(QM),vy(_y()),l0({eventCoalescing:!0}),wM(()=>DM()),fS(()=>pS(YM.firebase)),ea,hn]};var Yf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=He({type:n,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"container-fluid","bg-footer"],[1,"my-5","py-3","d-flex","justify-content-center"]],template:function(t,r){t&1&&(P(0,"div",0)(1,"p",1),k(2,"Copyright 2025 by Chida. All Rights Reserved"),N()())},encapsulation:2})};var Zf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=He({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){t&1&&Se(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[hn,bt,Cc,ea,Yf],encapsulation:2})};dy(Zf,ZM).catch(n=>console.error(n));
